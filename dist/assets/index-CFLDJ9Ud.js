(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function Nl(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function km(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var r=s.default;if(typeof r=="function"){var i=function o(){var l=!1;try{l=this instanceof o}catch{}return l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(s).forEach(function(o){var l=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(i,o,l.get?l:{enumerable:!0,get:function(){return s[o]}})}),i}var el={exports:{}},xi={},tl={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md;function bm(){if(Md)return pe;Md=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function k(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,R={};function T(E,A,ce){this.props=E,this.context=A,this.refs=R,this.updater=ce||j}T.prototype.isReactComponent={},T.prototype.setState=function(E,A){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,A,"setState")},T.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function I(){}I.prototype=T.prototype;function Y(E,A,ce){this.props=E,this.context=A,this.refs=R,this.updater=ce||j}var L=Y.prototype=new I;L.constructor=Y,N(L,T.prototype),L.isPureReactComponent=!0;var W=Array.isArray,$=Object.prototype.hasOwnProperty,M={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function Z(E,A,ce){var fe,he={},ve=null,ke=null;if(A!=null)for(fe in A.ref!==void 0&&(ke=A.ref),A.key!==void 0&&(ve=""+A.key),A)$.call(A,fe)&&!ne.hasOwnProperty(fe)&&(he[fe]=A[fe]);var we=arguments.length-2;if(we===1)he.children=ce;else if(1<we){for(var be=Array(we),Ze=0;Ze<we;Ze++)be[Ze]=arguments[Ze+2];he.children=be}if(E&&E.defaultProps)for(fe in we=E.defaultProps,we)he[fe]===void 0&&(he[fe]=we[fe]);return{$$typeof:s,type:E,key:ve,ref:ke,props:he,_owner:M.current}}function q(E,A){return{$$typeof:s,type:E.type,key:A,ref:E.ref,props:E.props,_owner:E._owner}}function V(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function ge(E){var A={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ce){return A[ce]})}var Le=/\/+/g;function Ae(E,A){return typeof E=="object"&&E!==null&&E.key!=null?ge(""+E.key):A.toString(36)}function K(E,A,ce,fe,he){var ve=typeof E;(ve==="undefined"||ve==="boolean")&&(E=null);var ke=!1;if(E===null)ke=!0;else switch(ve){case"string":case"number":ke=!0;break;case"object":switch(E.$$typeof){case s:case r:ke=!0}}if(ke)return ke=E,he=he(ke),E=fe===""?"."+Ae(ke,0):fe,W(he)?(ce="",E!=null&&(ce=E.replace(Le,"$&/")+"/"),K(he,A,ce,"",function(Ze){return Ze})):he!=null&&(V(he)&&(he=q(he,ce+(!he.key||ke&&ke.key===he.key?"":(""+he.key).replace(Le,"$&/")+"/")+E)),A.push(he)),1;if(ke=0,fe=fe===""?".":fe+":",W(E))for(var we=0;we<E.length;we++){ve=E[we];var be=fe+Ae(ve,we);ke+=K(ve,A,ce,be,he)}else if(be=k(E),typeof be=="function")for(E=be.call(E),we=0;!(ve=E.next()).done;)ve=ve.value,be=fe+Ae(ve,we++),ke+=K(ve,A,ce,be,he);else if(ve==="object")throw A=String(E),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return ke}function ae(E,A,ce){if(E==null)return E;var fe=[],he=0;return K(E,fe,"","",function(ve){return A.call(ce,ve,he++)}),fe}function H(E){if(E._status===-1){var A=E._result;A=A(),A.then(function(ce){(E._status===0||E._status===-1)&&(E._status=1,E._result=ce)},function(ce){(E._status===0||E._status===-1)&&(E._status=2,E._result=ce)}),E._status===-1&&(E._status=0,E._result=A)}if(E._status===1)return E._result.default;throw E._result}var ue={current:null},B={transition:null},Q={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:B,ReactCurrentOwner:M};function J(){throw Error("act(...) is not supported in production builds of React.")}return pe.Children={map:ae,forEach:function(E,A,ce){ae(E,function(){A.apply(this,arguments)},ce)},count:function(E){var A=0;return ae(E,function(){A++}),A},toArray:function(E){return ae(E,function(A){return A})||[]},only:function(E){if(!V(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},pe.Component=T,pe.Fragment=i,pe.Profiler=l,pe.PureComponent=Y,pe.StrictMode=o,pe.Suspense=m,pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,pe.act=J,pe.cloneElement=function(E,A,ce){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var fe=N({},E.props),he=E.key,ve=E.ref,ke=E._owner;if(A!=null){if(A.ref!==void 0&&(ve=A.ref,ke=M.current),A.key!==void 0&&(he=""+A.key),E.type&&E.type.defaultProps)var we=E.type.defaultProps;for(be in A)$.call(A,be)&&!ne.hasOwnProperty(be)&&(fe[be]=A[be]===void 0&&we!==void 0?we[be]:A[be])}var be=arguments.length-2;if(be===1)fe.children=ce;else if(1<be){we=Array(be);for(var Ze=0;Ze<be;Ze++)we[Ze]=arguments[Ze+2];fe.children=we}return{$$typeof:s,type:E.type,key:he,ref:ve,props:fe,_owner:ke}},pe.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},pe.createElement=Z,pe.createFactory=function(E){var A=Z.bind(null,E);return A.type=E,A},pe.createRef=function(){return{current:null}},pe.forwardRef=function(E){return{$$typeof:p,render:E}},pe.isValidElement=V,pe.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:H}},pe.memo=function(E,A){return{$$typeof:g,type:E,compare:A===void 0?null:A}},pe.startTransition=function(E){var A=B.transition;B.transition={};try{E()}finally{B.transition=A}},pe.unstable_act=J,pe.useCallback=function(E,A){return ue.current.useCallback(E,A)},pe.useContext=function(E){return ue.current.useContext(E)},pe.useDebugValue=function(){},pe.useDeferredValue=function(E){return ue.current.useDeferredValue(E)},pe.useEffect=function(E,A){return ue.current.useEffect(E,A)},pe.useId=function(){return ue.current.useId()},pe.useImperativeHandle=function(E,A,ce){return ue.current.useImperativeHandle(E,A,ce)},pe.useInsertionEffect=function(E,A){return ue.current.useInsertionEffect(E,A)},pe.useLayoutEffect=function(E,A){return ue.current.useLayoutEffect(E,A)},pe.useMemo=function(E,A){return ue.current.useMemo(E,A)},pe.useReducer=function(E,A,ce){return ue.current.useReducer(E,A,ce)},pe.useRef=function(E){return ue.current.useRef(E)},pe.useState=function(E){return ue.current.useState(E)},pe.useSyncExternalStore=function(E,A,ce){return ue.current.useSyncExternalStore(E,A,ce)},pe.useTransition=function(){return ue.current.useTransition()},pe.version="18.3.1",pe}var Fd;function Pl(){return Fd||(Fd=1,tl.exports=bm()),tl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function Sm(){if(Ud)return xi;Ud=1;var s=Pl(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,g){var y,x={},k=null,j=null;g!==void 0&&(k=""+g),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(j=m.ref);for(y in m)o.call(m,y)&&!u.hasOwnProperty(y)&&(x[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)x[y]===void 0&&(x[y]=m[y]);return{$$typeof:r,type:p,key:k,ref:j,props:x,_owner:l.current}}return xi.Fragment=i,xi.jsx=f,xi.jsxs=f,xi}var Bd;function jm(){return Bd||(Bd=1,el.exports=Sm()),el.exports}var h=jm(),_=Pl();const bn=Nl(_);var Bs={},nl={exports:{}},lt={},rl={exports:{}},il={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd;function Em(){return Wd||(Wd=1,function(s){function r(B,Q){var J=B.length;B.push(Q);e:for(;0<J;){var E=J-1>>>1,A=B[E];if(0<l(A,Q))B[E]=Q,B[J]=A,J=E;else break e}}function i(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var Q=B[0],J=B.pop();if(J!==Q){B[0]=J;e:for(var E=0,A=B.length,ce=A>>>1;E<ce;){var fe=2*(E+1)-1,he=B[fe],ve=fe+1,ke=B[ve];if(0>l(he,J))ve<A&&0>l(ke,he)?(B[E]=ke,B[ve]=J,E=ve):(B[E]=he,B[fe]=J,E=fe);else if(ve<A&&0>l(ke,J))B[E]=ke,B[ve]=J,E=ve;else break e}}return Q}function l(B,Q){var J=B.sortIndex-Q.sortIndex;return J!==0?J:B.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var m=[],g=[],y=1,x=null,k=3,j=!1,N=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(B){for(var Q=i(g);Q!==null;){if(Q.callback===null)o(g);else if(Q.startTime<=B)o(g),Q.sortIndex=Q.expirationTime,r(m,Q);else break;Q=i(g)}}function W(B){if(R=!1,L(B),!N)if(i(m)!==null)N=!0,H($);else{var Q=i(g);Q!==null&&ue(W,Q.startTime-B)}}function $(B,Q){N=!1,R&&(R=!1,I(Z),Z=-1),j=!0;var J=k;try{for(L(Q),x=i(m);x!==null&&(!(x.expirationTime>Q)||B&&!ge());){var E=x.callback;if(typeof E=="function"){x.callback=null,k=x.priorityLevel;var A=E(x.expirationTime<=Q);Q=s.unstable_now(),typeof A=="function"?x.callback=A:x===i(m)&&o(m),L(Q)}else o(m);x=i(m)}if(x!==null)var ce=!0;else{var fe=i(g);fe!==null&&ue(W,fe.startTime-Q),ce=!1}return ce}finally{x=null,k=J,j=!1}}var M=!1,ne=null,Z=-1,q=5,V=-1;function ge(){return!(s.unstable_now()-V<q)}function Le(){if(ne!==null){var B=s.unstable_now();V=B;var Q=!0;try{Q=ne(!0,B)}finally{Q?Ae():(M=!1,ne=null)}}else M=!1}var Ae;if(typeof Y=="function")Ae=function(){Y(Le)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ae=K.port2;K.port1.onmessage=Le,Ae=function(){ae.postMessage(null)}}else Ae=function(){T(Le,0)};function H(B){ne=B,M||(M=!0,Ae())}function ue(B,Q){Z=T(function(){B(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_continueExecution=function(){N||j||(N=!0,H($))},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_getFirstCallbackNode=function(){return i(m)},s.unstable_next=function(B){switch(k){case 1:case 2:case 3:var Q=3;break;default:Q=k}var J=k;k=Q;try{return B()}finally{k=J}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=k;k=B;try{return Q()}finally{k=J}},s.unstable_scheduleCallback=function(B,Q,J){var E=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?E+J:E):J=E,B){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=J+A,B={id:y++,callback:Q,priorityLevel:B,startTime:J,expirationTime:A,sortIndex:-1},J>E?(B.sortIndex=J,r(g,B),i(m)===null&&B===i(g)&&(R?(I(Z),Z=-1):R=!0,ue(W,J-E))):(B.sortIndex=A,r(m,B),N||j||(N=!0,H($))),B},s.unstable_shouldYield=ge,s.unstable_wrapCallback=function(B){var Q=k;return function(){var J=k;k=Q;try{return B.apply(this,arguments)}finally{k=J}}}}(il)),il}var Hd;function Cm(){return Hd||(Hd=1,rl.exports=Em()),rl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd;function Nm(){if(qd)return lt;qd=1;var s=Pl(),r=Cm();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function k(e){return m.call(x,e)?!0:m.call(y,e)?!1:g.test(e)?x[e]=!0:(y[e]=!0,!1)}function j(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,n,a){if(t===null||typeof t>"u"||j(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,n,a,c,d,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=v}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,Y);T[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,Y);T[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,Y);T[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,t,n,a){var c=T.hasOwnProperty(t)?T[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,n,c,a)&&(n=null),a||c===null?k(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):c.mustUseProperty?e[c.propertyName]=n===null?c.type===3?!1:"":n:(t=c.attributeName,a=c.attributeNamespace,n===null?e.removeAttribute(t):(c=c.type,n=c===3||c===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var W=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),M=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),ge=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),B=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,E;function A(e){if(E===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var ce=!1;function fe(e,t){if(!e||ce)return"";ce=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(O){var a=O}Reflect.construct(e,[],t)}else{try{t.call()}catch(O){a=O}e.call(t.prototype)}else{try{throw Error()}catch(O){a=O}e()}}catch(O){if(O&&a&&typeof O.stack=="string"){for(var c=O.stack.split(`
`),d=a.stack.split(`
`),v=c.length-1,w=d.length-1;1<=v&&0<=w&&c[v]!==d[w];)w--;for(;1<=v&&0<=w;v--,w--)if(c[v]!==d[w]){if(v!==1||w!==1)do if(v--,w--,0>w||c[v]!==d[w]){var b=`
`+c[v].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=v&&0<=w);break}}}finally{ce=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?A(e):""}function he(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=fe(e.type,!1),e;case 11:return e=fe(e.type.render,!1),e;case 1:return e=fe(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case M:return"Portal";case q:return"Profiler";case Z:return"StrictMode";case Ae:return"Suspense";case K:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ge:return(e.displayName||"Context")+".Consumer";case V:return(e._context.displayName||"Context")+".Provider";case Le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function ke(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function we(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ze(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hn(e){e._valueTracker||(e._valueTracker=Ze(e))}function Oi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=be(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oo(e,t){var n=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vl(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=we(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kl(e,t){t=t.checked,t!=null&&L(e,"checked",t,!1)}function ao(e,t){Kl(e,t);var n=we(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lo(e,t.type,n):t.hasOwnProperty("defaultValue")&&lo(e,t.type,we(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lo(e,t,n){(t!=="number"||Ii(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $r=Array.isArray;function qn(e,t,n,a){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&a&&(e[n].defaultSelected=!0)}else{for(n=""+we(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function uo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if($r(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:we(n)}}function Ql(e,t){var n=we(t.value),a=we(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function Jl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function co(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $i,Zl=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($i=$i||document.createElement("div"),$i.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$i.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eh=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(e){Eh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ar[t]=Ar[e]})});function eu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ar.hasOwnProperty(e)&&Ar[e]?(""+t).trim():t+"px"}function tu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,c=eu(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,c):e[n]=c}}var Ch=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fo(e,t){if(t){if(Ch[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function ho(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var po=null;function mo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var go=null,Vn=null,Kn=null;function nu(e){if(e=ii(e)){if(typeof go!="function")throw Error(i(280));var t=e.stateNode;t&&(t=rs(t),go(e.stateNode,e.type,t))}}function ru(e){Vn?Kn?Kn.push(e):Kn=[e]:Vn=e}function iu(){if(Vn){var e=Vn,t=Kn;if(Kn=Vn=null,nu(e),t)for(e=0;e<t.length;e++)nu(t[e])}}function su(e,t){return e(t)}function ou(){}var vo=!1;function au(e,t,n){if(vo)return e(t,n);vo=!0;try{return su(e,t,n)}finally{vo=!1,(Vn!==null||Kn!==null)&&(ou(),iu())}}function zr(e,t){var n=e.stateNode;if(n===null)return null;var a=rs(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var yo=!1;if(p)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){yo=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{yo=!1}function Nh(e,t,n,a,c,d,v,w,b){var O=Array.prototype.slice.call(arguments,3);try{t.apply(n,O)}catch(D){this.onError(D)}}var Mr=!1,Li=null,Ai=!1,xo=null,Ph={onError:function(e){Mr=!0,Li=e}};function Rh(e,t,n,a,c,d,v,w,b){Mr=!1,Li=null,Nh.apply(Ph,arguments)}function Th(e,t,n,a,c,d,v,w,b){if(Rh.apply(this,arguments),Mr){if(Mr){var O=Li;Mr=!1,Li=null}else throw Error(i(198));Ai||(Ai=!0,xo=O)}}function jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uu(e){if(jn(e)!==e)throw Error(i(188))}function Oh(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var c=n.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){n=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===n)return uu(c),e;if(d===a)return uu(c),t;d=d.sibling}throw Error(i(188))}if(n.return!==a.return)n=c,a=d;else{for(var v=!1,w=c.child;w;){if(w===n){v=!0,n=c,a=d;break}if(w===a){v=!0,a=c,n=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===n){v=!0,n=d,a=c;break}if(w===a){v=!0,a=d,n=c;break}w=w.sibling}if(!v)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function cu(e){return e=Oh(e),e!==null?du(e):null}function du(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=du(e);if(t!==null)return t;e=e.sibling}return null}var fu=r.unstable_scheduleCallback,hu=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,$h=r.unstable_requestPaint,Ie=r.unstable_now,Lh=r.unstable_getCurrentPriorityLevel,wo=r.unstable_ImmediatePriority,pu=r.unstable_UserBlockingPriority,zi=r.unstable_NormalPriority,Ah=r.unstable_LowPriority,mu=r.unstable_IdlePriority,Di=null,Lt=null;function zh(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Di,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Fh,Dh=Math.log,Mh=Math.LN2;function Fh(e){return e>>>=0,e===0?32:31-(Dh(e)/Mh|0)|0}var Mi=64,Fi=4194304;function Fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ui(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,c=e.suspendedLanes,d=e.pingedLanes,v=n&268435455;if(v!==0){var w=v&~c;w!==0?a=Fr(w):(d&=v,d!==0&&(a=Fr(d)))}else v=n&~c,v!==0?a=Fr(v):d!==0&&(a=Fr(d));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,d=t&-t,c>=d||c===16&&(d&4194240)!==0))return t;if((a&4)!==0&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-_t(t),c=1<<n,a|=e[n],t&=~c;return a}function Uh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var v=31-_t(d),w=1<<v,b=c[v];b===-1?((w&n)===0||(w&a)!==0)&&(c[v]=Uh(w,t)):b<=t&&(e.expiredLanes|=w),d&=~w}}function _o(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gu(){var e=Mi;return Mi<<=1,(Mi&4194240)===0&&(Mi=64),e}function ko(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ur(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function Wh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var c=31-_t(n),d=1<<c;t[c]=0,a[c]=-1,e[c]=-1,n&=~d}}function bo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-_t(n),c=1<<a;c&t|e[a]&t&&(e[a]|=t),n&=~c}}var _e=0;function vu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var yu,So,xu,wu,_u,jo=!1,Bi=[],Xt=null,Zt=null,en=null,Br=new Map,Wr=new Map,tn=[],Hh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":Br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(t.pointerId)}}function Hr(e,t,n,a,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},t!==null&&(t=ii(t),t!==null&&So(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function qh(e,t,n,a,c){switch(t){case"focusin":return Xt=Hr(Xt,e,t,n,a,c),!0;case"dragenter":return Zt=Hr(Zt,e,t,n,a,c),!0;case"mouseover":return en=Hr(en,e,t,n,a,c),!0;case"pointerover":var d=c.pointerId;return Br.set(d,Hr(Br.get(d)||null,e,t,n,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Wr.set(d,Hr(Wr.get(d)||null,e,t,n,a,c)),!0}return!1}function bu(e){var t=En(e.target);if(t!==null){var n=jn(t);if(n!==null){if(t=n.tag,t===13){if(t=lu(n),t!==null){e.blockedOn=t,_u(e.priority,function(){xu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Co(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);po=a,n.target.dispatchEvent(a),po=null}else return t=ii(n),t!==null&&So(t),e.blockedOn=n,!1;t.shift()}return!0}function Su(e,t,n){Wi(e)&&n.delete(t)}function Vh(){jo=!1,Xt!==null&&Wi(Xt)&&(Xt=null),Zt!==null&&Wi(Zt)&&(Zt=null),en!==null&&Wi(en)&&(en=null),Br.forEach(Su),Wr.forEach(Su)}function qr(e,t){e.blockedOn===t&&(e.blockedOn=null,jo||(jo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vh)))}function Vr(e){function t(c){return qr(c,e)}if(0<Bi.length){qr(Bi[0],e);for(var n=1;n<Bi.length;n++){var a=Bi[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Xt!==null&&qr(Xt,e),Zt!==null&&qr(Zt,e),en!==null&&qr(en,e),Br.forEach(t),Wr.forEach(t),n=0;n<tn.length;n++)a=tn[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)bu(n),n.blockedOn===null&&tn.shift()}var Gn=W.ReactCurrentBatchConfig,Hi=!0;function Kh(e,t,n,a){var c=_e,d=Gn.transition;Gn.transition=null;try{_e=1,Eo(e,t,n,a)}finally{_e=c,Gn.transition=d}}function Gh(e,t,n,a){var c=_e,d=Gn.transition;Gn.transition=null;try{_e=4,Eo(e,t,n,a)}finally{_e=c,Gn.transition=d}}function Eo(e,t,n,a){if(Hi){var c=Co(e,t,n,a);if(c===null)Ho(e,t,a,qi,n),ku(e,a);else if(qh(c,e,t,n,a))a.stopPropagation();else if(ku(e,a),t&4&&-1<Hh.indexOf(e)){for(;c!==null;){var d=ii(c);if(d!==null&&yu(d),d=Co(e,t,n,a),d===null&&Ho(e,t,a,qi,n),d===c)break;c=d}c!==null&&a.stopPropagation()}else Ho(e,t,a,null,n)}}var qi=null;function Co(e,t,n,a){if(qi=null,e=mo(a),e=En(e),e!==null)if(t=jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qi=e,null}function ju(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lh()){case wo:return 1;case pu:return 4;case zi:case Ah:return 16;case mu:return 536870912;default:return 16}default:return 16}}var nn=null,No=null,Vi=null;function Eu(){if(Vi)return Vi;var e,t=No,n=t.length,a,c="value"in nn?nn.value:nn.textContent,d=c.length;for(e=0;e<n&&t[e]===c[e];e++);var v=n-e;for(a=1;a<=v&&t[n-a]===c[d-a];a++);return Vi=c.slice(e,1<a?1-a:void 0)}function Ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function Cu(){return!1}function ct(e){function t(n,a,c,d,v){this._reactName=n,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:Cu,this.isPropagationStopped=Cu,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),t}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=ct(Yn),Kr=J({},Yn,{view:0,detail:0}),Yh=ct(Kr),Ro,To,Gr,Yi=J({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(Ro=e.screenX-Gr.screenX,To=e.screenY-Gr.screenY):To=Ro=0,Gr=e),Ro)},movementY:function(e){return"movementY"in e?e.movementY:To}}),Nu=ct(Yi),Qh=J({},Yi,{dataTransfer:0}),Jh=ct(Qh),Xh=J({},Kr,{relatedTarget:0}),Oo=ct(Xh),Zh=J({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=ct(Zh),tp=J({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),np=ct(tp),rp=J({},Yn,{data:0}),Pu=ct(rp),ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ap(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=op[e])?!!t[e]:!1}function Io(){return ap}var lp=J({},Kr,{key:function(e){if(e.key){var t=ip[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Io,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),up=ct(lp),cp=J({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=ct(cp),dp=J({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Io}),fp=ct(dp),hp=J({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),pp=ct(hp),mp=J({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gp=ct(mp),vp=[9,13,27,32],$o=p&&"CompositionEvent"in window,Yr=null;p&&"documentMode"in document&&(Yr=document.documentMode);var yp=p&&"TextEvent"in window&&!Yr,Tu=p&&(!$o||Yr&&8<Yr&&11>=Yr),Ou=" ",Iu=!1;function $u(e,t){switch(e){case"keyup":return vp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function xp(e,t){switch(e){case"compositionend":return Lu(t);case"keypress":return t.which!==32?null:(Iu=!0,Ou);case"textInput":return e=t.data,e===Ou&&Iu?null:e;default:return null}}function wp(e,t){if(Qn)return e==="compositionend"||!$o&&$u(e,t)?(e=Eu(),Vi=No=nn=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tu&&t.locale!=="ko"?null:t.data;default:return null}}var _p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_p[e.type]:t==="textarea"}function zu(e,t,n,a){ru(a),t=es(t,"onChange"),0<t.length&&(n=new Po("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Qr=null,Jr=null;function kp(e){tc(e,0)}function Qi(e){var t=tr(e);if(Oi(t))return e}function bp(e,t){if(e==="change")return t}var Du=!1;if(p){var Lo;if(p){var Ao="oninput"in document;if(!Ao){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),Ao=typeof Mu.oninput=="function"}Lo=Ao}else Lo=!1;Du=Lo&&(!document.documentMode||9<document.documentMode)}function Fu(){Qr&&(Qr.detachEvent("onpropertychange",Uu),Jr=Qr=null)}function Uu(e){if(e.propertyName==="value"&&Qi(Jr)){var t=[];zu(t,Jr,e,mo(e)),au(kp,t)}}function Sp(e,t,n){e==="focusin"?(Fu(),Qr=t,Jr=n,Qr.attachEvent("onpropertychange",Uu)):e==="focusout"&&Fu()}function jp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qi(Jr)}function Ep(e,t){if(e==="click")return Qi(t)}function Cp(e,t){if(e==="input"||e==="change")return Qi(t)}function Np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Np;function Xr(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var c=n[a];if(!m.call(t,c)||!kt(e[c],t[c]))return!1}return!0}function Bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wu(e,t){var n=Bu(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bu(n)}}function Hu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qu(){for(var e=window,t=Ii();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ii(e.document)}return t}function zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pp(e){var t=qu(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hu(n.ownerDocument.documentElement,n)){if(a!==null&&zo(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=n.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!e.extend&&d>a&&(c=a,a=d,d=c),c=Wu(n,d);var v=Wu(n,a);c&&v&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rp=p&&"documentMode"in document&&11>=document.documentMode,Jn=null,Do=null,Zr=null,Mo=!1;function Vu(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mo||Jn==null||Jn!==Ii(a)||(a=Jn,"selectionStart"in a&&zo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Zr&&Xr(Zr,a)||(Zr=a,a=es(Do,"onSelect"),0<a.length&&(t=new Po("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Jn)))}function Ji(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xn={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionend:Ji("Transition","TransitionEnd")},Fo={},Ku={};p&&(Ku=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function Xi(e){if(Fo[e])return Fo[e];if(!Xn[e])return e;var t=Xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ku)return Fo[e]=t[n];return e}var Gu=Xi("animationend"),Yu=Xi("animationiteration"),Qu=Xi("animationstart"),Ju=Xi("transitionend"),Xu=new Map,Zu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(e,t){Xu.set(e,t),u(t,[e])}for(var Uo=0;Uo<Zu.length;Uo++){var Bo=Zu[Uo],Tp=Bo.toLowerCase(),Op=Bo[0].toUpperCase()+Bo.slice(1);rn(Tp,"on"+Op)}rn(Gu,"onAnimationEnd"),rn(Yu,"onAnimationIteration"),rn(Qu,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(Ju,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ip=new Set("cancel close invalid load scroll toggle".split(" ").concat(ei));function ec(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,Th(a,t,void 0,e),e.currentTarget=null}function tc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],c=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var v=a.length-1;0<=v;v--){var w=a[v],b=w.instance,O=w.currentTarget;if(w=w.listener,b!==d&&c.isPropagationStopped())break e;ec(c,w,O),d=b}else for(v=0;v<a.length;v++){if(w=a[v],b=w.instance,O=w.currentTarget,w=w.listener,b!==d&&c.isPropagationStopped())break e;ec(c,w,O),d=b}}}if(Ai)throw e=xo,Ai=!1,xo=null,e}function Ee(e,t){var n=t[Qo];n===void 0&&(n=t[Qo]=new Set);var a=e+"__bubble";n.has(a)||(nc(t,e,2,!1),n.add(a))}function Wo(e,t,n){var a=0;t&&(a|=4),nc(n,e,a,t)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[Zi]){e[Zi]=!0,o.forEach(function(n){n!=="selectionchange"&&(Ip.has(n)||Wo(n,!1,e),Wo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zi]||(t[Zi]=!0,Wo("selectionchange",!1,t))}}function nc(e,t,n,a){switch(ju(t)){case 1:var c=Kh;break;case 4:c=Gh;break;default:c=Eo}n=c.bind(null,t,n,e),c=void 0,!yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Ho(e,t,n,a,c){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var v=a.tag;if(v===3||v===4){var w=a.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(v===4)for(v=a.return;v!==null;){var b=v.tag;if((b===3||b===4)&&(b=v.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;v=v.return}for(;w!==null;){if(v=En(w),v===null)return;if(b=v.tag,b===5||b===6){a=d=v;continue e}w=w.parentNode}}a=a.return}au(function(){var O=d,D=mo(n),F=[];e:{var z=Xu.get(e);if(z!==void 0){var G=Po,ee=e;switch(e){case"keypress":if(Ki(n)===0)break e;case"keydown":case"keyup":G=up;break;case"focusin":ee="focus",G=Oo;break;case"focusout":ee="blur",G=Oo;break;case"beforeblur":case"afterblur":G=Oo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=fp;break;case Gu:case Yu:case Qu:G=ep;break;case Ju:G=pp;break;case"scroll":G=Yh;break;case"wheel":G=gp;break;case"copy":case"cut":case"paste":G=np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ru}var te=(t&4)!==0,$e=!te&&e==="scroll",C=te?z!==null?z+"Capture":null:z;te=[];for(var S=O,P;S!==null;){P=S;var U=P.stateNode;if(P.tag===5&&U!==null&&(P=U,C!==null&&(U=zr(S,C),U!=null&&te.push(ni(S,U,P)))),$e)break;S=S.return}0<te.length&&(z=new G(z,ee,null,n,D),F.push({event:z,listeners:te}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",z&&n!==po&&(ee=n.relatedTarget||n.fromElement)&&(En(ee)||ee[Ft]))break e;if((G||z)&&(z=D.window===D?D:(z=D.ownerDocument)?z.defaultView||z.parentWindow:window,G?(ee=n.relatedTarget||n.toElement,G=O,ee=ee?En(ee):null,ee!==null&&($e=jn(ee),ee!==$e||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(G=null,ee=O),G!==ee)){if(te=Nu,U="onMouseLeave",C="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(te=Ru,U="onPointerLeave",C="onPointerEnter",S="pointer"),$e=G==null?z:tr(G),P=ee==null?z:tr(ee),z=new te(U,S+"leave",G,n,D),z.target=$e,z.relatedTarget=P,U=null,En(D)===O&&(te=new te(C,S+"enter",ee,n,D),te.target=P,te.relatedTarget=$e,U=te),$e=U,G&&ee)t:{for(te=G,C=ee,S=0,P=te;P;P=Zn(P))S++;for(P=0,U=C;U;U=Zn(U))P++;for(;0<S-P;)te=Zn(te),S--;for(;0<P-S;)C=Zn(C),P--;for(;S--;){if(te===C||C!==null&&te===C.alternate)break t;te=Zn(te),C=Zn(C)}te=null}else te=null;G!==null&&rc(F,z,G,te,!1),ee!==null&&$e!==null&&rc(F,$e,ee,te,!0)}}e:{if(z=O?tr(O):window,G=z.nodeName&&z.nodeName.toLowerCase(),G==="select"||G==="input"&&z.type==="file")var re=bp;else if(Au(z))if(Du)re=Cp;else{re=jp;var ie=Sp}else(G=z.nodeName)&&G.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(re=Ep);if(re&&(re=re(e,O))){zu(F,re,n,D);break e}ie&&ie(e,z,O),e==="focusout"&&(ie=z._wrapperState)&&ie.controlled&&z.type==="number"&&lo(z,"number",z.value)}switch(ie=O?tr(O):window,e){case"focusin":(Au(ie)||ie.contentEditable==="true")&&(Jn=ie,Do=O,Zr=null);break;case"focusout":Zr=Do=Jn=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,Vu(F,n,D);break;case"selectionchange":if(Rp)break;case"keydown":case"keyup":Vu(F,n,D)}var se;if($o)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else Qn?$u(e,n)&&(le="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(le="onCompositionStart");le&&(Tu&&n.locale!=="ko"&&(Qn||le!=="onCompositionStart"?le==="onCompositionEnd"&&Qn&&(se=Eu()):(nn=D,No="value"in nn?nn.value:nn.textContent,Qn=!0)),ie=es(O,le),0<ie.length&&(le=new Pu(le,e,null,n,D),F.push({event:le,listeners:ie}),se?le.data=se:(se=Lu(n),se!==null&&(le.data=se)))),(se=yp?xp(e,n):wp(e,n))&&(O=es(O,"onBeforeInput"),0<O.length&&(D=new Pu("onBeforeInput","beforeinput",null,n,D),F.push({event:D,listeners:O}),D.data=se))}tc(F,t)})}function ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function es(e,t){for(var n=t+"Capture",a=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=zr(e,n),d!=null&&a.unshift(ni(e,d,c)),d=zr(e,t),d!=null&&a.push(ni(e,d,c))),e=e.return}return a}function Zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rc(e,t,n,a,c){for(var d=t._reactName,v=[];n!==null&&n!==a;){var w=n,b=w.alternate,O=w.stateNode;if(b!==null&&b===a)break;w.tag===5&&O!==null&&(w=O,c?(b=zr(n,d),b!=null&&v.unshift(ni(n,b,w))):c||(b=zr(n,d),b!=null&&v.push(ni(n,b,w)))),n=n.return}v.length!==0&&e.push({event:t,listeners:v})}var $p=/\r\n?/g,Lp=/\u0000|\uFFFD/g;function ic(e){return(typeof e=="string"?e:""+e).replace($p,`
`).replace(Lp,"")}function ts(e,t,n){if(t=ic(t),ic(e)!==t&&n)throw Error(i(425))}function ns(){}var qo=null,Vo=null;function Ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Go=typeof setTimeout=="function"?setTimeout:void 0,Ap=typeof clearTimeout=="function"?clearTimeout:void 0,sc=typeof Promise=="function"?Promise:void 0,zp=typeof queueMicrotask=="function"?queueMicrotask:typeof sc<"u"?function(e){return sc.resolve(null).then(e).catch(Dp)}:Go;function Dp(e){setTimeout(function(){throw e})}function Yo(e,t){var n=t,a=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(a===0){e.removeChild(c),Vr(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=c}while(n);Vr(t)}function sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var er=Math.random().toString(36).slice(2),At="__reactFiber$"+er,ri="__reactProps$"+er,Ft="__reactContainer$"+er,Qo="__reactEvents$"+er,Mp="__reactListeners$"+er,Fp="__reactHandles$"+er;function En(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=oc(e);e!==null;){if(n=e[At])return n;e=oc(e)}return t}e=n,n=e.parentNode}return null}function ii(e){return e=e[At]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function rs(e){return e[ri]||null}var Jo=[],nr=-1;function on(e){return{current:e}}function Ce(e){0>nr||(e.current=Jo[nr],Jo[nr]=null,nr--)}function Se(e,t){nr++,Jo[nr]=e.current,e.current=t}var an={},Ge=on(an),rt=on(!1),Cn=an;function rr(e,t){var n=e.type.contextTypes;if(!n)return an;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in n)c[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function it(e){return e=e.childContextTypes,e!=null}function is(){Ce(rt),Ce(Ge)}function ac(e,t,n){if(Ge.current!==an)throw Error(i(168));Se(Ge,t),Se(rt,n)}function lc(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(i(108,ke(e)||"Unknown",c));return J({},n,a)}function ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||an,Cn=Ge.current,Se(Ge,e),Se(rt,rt.current),!0}function uc(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(e=lc(e,t,Cn),a.__reactInternalMemoizedMergedChildContext=e,Ce(rt),Ce(Ge),Se(Ge,e)):Ce(rt),Se(rt,n)}var Ut=null,os=!1,Xo=!1;function cc(e){Ut===null?Ut=[e]:Ut.push(e)}function Up(e){os=!0,cc(e)}function ln(){if(!Xo&&Ut!==null){Xo=!0;var e=0,t=_e;try{var n=Ut;for(_e=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Ut=null,os=!1}catch(c){throw Ut!==null&&(Ut=Ut.slice(e+1)),fu(wo,ln),c}finally{_e=t,Xo=!1}}return null}var ir=[],sr=0,as=null,ls=0,mt=[],gt=0,Nn=null,Bt=1,Wt="";function Pn(e,t){ir[sr++]=ls,ir[sr++]=as,as=e,ls=t}function dc(e,t,n){mt[gt++]=Bt,mt[gt++]=Wt,mt[gt++]=Nn,Nn=e;var a=Bt;e=Wt;var c=32-_t(a)-1;a&=~(1<<c),n+=1;var d=32-_t(t)+c;if(30<d){var v=c-c%5;d=(a&(1<<v)-1).toString(32),a>>=v,c-=v,Bt=1<<32-_t(t)+c|n<<c|a,Wt=d+e}else Bt=1<<d|n<<c|a,Wt=e}function Zo(e){e.return!==null&&(Pn(e,1),dc(e,1,0))}function ea(e){for(;e===as;)as=ir[--sr],ir[sr]=null,ls=ir[--sr],ir[sr]=null;for(;e===Nn;)Nn=mt[--gt],mt[gt]=null,Wt=mt[--gt],mt[gt]=null,Bt=mt[--gt],mt[gt]=null}var dt=null,ft=null,Ne=!1,bt=null;function fc(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ft=sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nn!==null?{id:Bt,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dt=e,ft=null,!0):!1;default:return!1}}function ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function na(e){if(Ne){var t=ft;if(t){var n=t;if(!hc(e,t)){if(ta(e))throw Error(i(418));t=sn(n.nextSibling);var a=dt;t&&hc(e,t)?fc(a,n):(e.flags=e.flags&-4097|2,Ne=!1,dt=e)}}else{if(ta(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ne=!1,dt=e}}}function pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function us(e){if(e!==dt)return!1;if(!Ne)return pc(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ko(e.type,e.memoizedProps)),t&&(t=ft)){if(ta(e))throw mc(),Error(i(418));for(;t;)fc(e,t),t=sn(t.nextSibling)}if(pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ft=sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=dt?sn(e.stateNode.nextSibling):null;return!0}function mc(){for(var e=ft;e;)e=sn(e.nextSibling)}function or(){ft=dt=null,Ne=!1}function ra(e){bt===null?bt=[e]:bt.push(e)}var Bp=W.ReactCurrentBatchConfig;function si(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var c=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(v){var w=c.refs;v===null?delete w[d]:w[d]=v},t._stringRef=d,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function cs(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gc(e){var t=e._init;return t(e._payload)}function vc(e){function t(C,S){if(e){var P=C.deletions;P===null?(C.deletions=[S],C.flags|=16):P.push(S)}}function n(C,S){if(!e)return null;for(;S!==null;)t(C,S),S=S.sibling;return null}function a(C,S){for(C=new Map;S!==null;)S.key!==null?C.set(S.key,S):C.set(S.index,S),S=S.sibling;return C}function c(C,S){return C=gn(C,S),C.index=0,C.sibling=null,C}function d(C,S,P){return C.index=P,e?(P=C.alternate,P!==null?(P=P.index,P<S?(C.flags|=2,S):P):(C.flags|=2,S)):(C.flags|=1048576,S)}function v(C){return e&&C.alternate===null&&(C.flags|=2),C}function w(C,S,P,U){return S===null||S.tag!==6?(S=Ga(P,C.mode,U),S.return=C,S):(S=c(S,P),S.return=C,S)}function b(C,S,P,U){var re=P.type;return re===ne?D(C,S,P.props.children,U,P.key):S!==null&&(S.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===H&&gc(re)===S.type)?(U=c(S,P.props),U.ref=si(C,S,P),U.return=C,U):(U=$s(P.type,P.key,P.props,null,C.mode,U),U.ref=si(C,S,P),U.return=C,U)}function O(C,S,P,U){return S===null||S.tag!==4||S.stateNode.containerInfo!==P.containerInfo||S.stateNode.implementation!==P.implementation?(S=Ya(P,C.mode,U),S.return=C,S):(S=c(S,P.children||[]),S.return=C,S)}function D(C,S,P,U,re){return S===null||S.tag!==7?(S=zn(P,C.mode,U,re),S.return=C,S):(S=c(S,P),S.return=C,S)}function F(C,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Ga(""+S,C.mode,P),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $:return P=$s(S.type,S.key,S.props,null,C.mode,P),P.ref=si(C,null,S),P.return=C,P;case M:return S=Ya(S,C.mode,P),S.return=C,S;case H:var U=S._init;return F(C,U(S._payload),P)}if($r(S)||Q(S))return S=zn(S,C.mode,P,null),S.return=C,S;cs(C,S)}return null}function z(C,S,P,U){var re=S!==null?S.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return re!==null?null:w(C,S,""+P,U);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case $:return P.key===re?b(C,S,P,U):null;case M:return P.key===re?O(C,S,P,U):null;case H:return re=P._init,z(C,S,re(P._payload),U)}if($r(P)||Q(P))return re!==null?null:D(C,S,P,U,null);cs(C,P)}return null}function G(C,S,P,U,re){if(typeof U=="string"&&U!==""||typeof U=="number")return C=C.get(P)||null,w(S,C,""+U,re);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case $:return C=C.get(U.key===null?P:U.key)||null,b(S,C,U,re);case M:return C=C.get(U.key===null?P:U.key)||null,O(S,C,U,re);case H:var ie=U._init;return G(C,S,P,ie(U._payload),re)}if($r(U)||Q(U))return C=C.get(P)||null,D(S,C,U,re,null);cs(S,U)}return null}function ee(C,S,P,U){for(var re=null,ie=null,se=S,le=S=0,Be=null;se!==null&&le<P.length;le++){se.index>le?(Be=se,se=null):Be=se.sibling;var xe=z(C,se,P[le],U);if(xe===null){se===null&&(se=Be);break}e&&se&&xe.alternate===null&&t(C,se),S=d(xe,S,le),ie===null?re=xe:ie.sibling=xe,ie=xe,se=Be}if(le===P.length)return n(C,se),Ne&&Pn(C,le),re;if(se===null){for(;le<P.length;le++)se=F(C,P[le],U),se!==null&&(S=d(se,S,le),ie===null?re=se:ie.sibling=se,ie=se);return Ne&&Pn(C,le),re}for(se=a(C,se);le<P.length;le++)Be=G(se,C,le,P[le],U),Be!==null&&(e&&Be.alternate!==null&&se.delete(Be.key===null?le:Be.key),S=d(Be,S,le),ie===null?re=Be:ie.sibling=Be,ie=Be);return e&&se.forEach(function(vn){return t(C,vn)}),Ne&&Pn(C,le),re}function te(C,S,P,U){var re=Q(P);if(typeof re!="function")throw Error(i(150));if(P=re.call(P),P==null)throw Error(i(151));for(var ie=re=null,se=S,le=S=0,Be=null,xe=P.next();se!==null&&!xe.done;le++,xe=P.next()){se.index>le?(Be=se,se=null):Be=se.sibling;var vn=z(C,se,xe.value,U);if(vn===null){se===null&&(se=Be);break}e&&se&&vn.alternate===null&&t(C,se),S=d(vn,S,le),ie===null?re=vn:ie.sibling=vn,ie=vn,se=Be}if(xe.done)return n(C,se),Ne&&Pn(C,le),re;if(se===null){for(;!xe.done;le++,xe=P.next())xe=F(C,xe.value,U),xe!==null&&(S=d(xe,S,le),ie===null?re=xe:ie.sibling=xe,ie=xe);return Ne&&Pn(C,le),re}for(se=a(C,se);!xe.done;le++,xe=P.next())xe=G(se,C,le,xe.value,U),xe!==null&&(e&&xe.alternate!==null&&se.delete(xe.key===null?le:xe.key),S=d(xe,S,le),ie===null?re=xe:ie.sibling=xe,ie=xe);return e&&se.forEach(function(_m){return t(C,_m)}),Ne&&Pn(C,le),re}function $e(C,S,P,U){if(typeof P=="object"&&P!==null&&P.type===ne&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case $:e:{for(var re=P.key,ie=S;ie!==null;){if(ie.key===re){if(re=P.type,re===ne){if(ie.tag===7){n(C,ie.sibling),S=c(ie,P.props.children),S.return=C,C=S;break e}}else if(ie.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===H&&gc(re)===ie.type){n(C,ie.sibling),S=c(ie,P.props),S.ref=si(C,ie,P),S.return=C,C=S;break e}n(C,ie);break}else t(C,ie);ie=ie.sibling}P.type===ne?(S=zn(P.props.children,C.mode,U,P.key),S.return=C,C=S):(U=$s(P.type,P.key,P.props,null,C.mode,U),U.ref=si(C,S,P),U.return=C,C=U)}return v(C);case M:e:{for(ie=P.key;S!==null;){if(S.key===ie)if(S.tag===4&&S.stateNode.containerInfo===P.containerInfo&&S.stateNode.implementation===P.implementation){n(C,S.sibling),S=c(S,P.children||[]),S.return=C,C=S;break e}else{n(C,S);break}else t(C,S);S=S.sibling}S=Ya(P,C.mode,U),S.return=C,C=S}return v(C);case H:return ie=P._init,$e(C,S,ie(P._payload),U)}if($r(P))return ee(C,S,P,U);if(Q(P))return te(C,S,P,U);cs(C,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,S!==null&&S.tag===6?(n(C,S.sibling),S=c(S,P),S.return=C,C=S):(n(C,S),S=Ga(P,C.mode,U),S.return=C,C=S),v(C)):n(C,S)}return $e}var ar=vc(!0),yc=vc(!1),ds=on(null),fs=null,lr=null,ia=null;function sa(){ia=lr=fs=null}function oa(e){var t=ds.current;Ce(ds),e._currentValue=t}function aa(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function ur(e,t){fs=e,ia=lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(st=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(ia!==e)if(e={context:e,memoizedValue:t,next:null},lr===null){if(fs===null)throw Error(i(308));lr=e,fs.dependencies={lanes:0,firstContext:e}}else lr=lr.next=e;return t}var Rn=null;function la(e){Rn===null?Rn=[e]:Rn.push(e)}function xc(e,t,n,a){var c=t.interleaved;return c===null?(n.next=n,la(t)):(n.next=c.next,c.next=n),t.interleaved=n,Ht(e,a)}function Ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var un=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ye&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,Ht(e,n)}return c=a.interleaved,c===null?(t.next=t,la(a)):(t.next=c.next,c.next=t),a.interleaved=t,Ht(e,n)}function hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,bo(e,n)}}function _c(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var c=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var v={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};d===null?c=d=v:d=d.next=v,n=n.next}while(n!==null);d===null?c=d=t:d=d.next=t}else c=d=t;n={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ps(e,t,n,a){var c=e.updateQueue;un=!1;var d=c.firstBaseUpdate,v=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var b=w,O=b.next;b.next=null,v===null?d=O:v.next=O,v=b;var D=e.alternate;D!==null&&(D=D.updateQueue,w=D.lastBaseUpdate,w!==v&&(w===null?D.firstBaseUpdate=O:w.next=O,D.lastBaseUpdate=b))}if(d!==null){var F=c.baseState;v=0,D=O=b=null,w=d;do{var z=w.lane,G=w.eventTime;if((a&z)===z){D!==null&&(D=D.next={eventTime:G,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ee=e,te=w;switch(z=t,G=n,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){F=ee.call(G,F,z);break e}F=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,z=typeof ee=="function"?ee.call(G,F,z):ee,z==null)break e;F=J({},F,z);break e;case 2:un=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,z=c.effects,z===null?c.effects=[w]:z.push(w))}else G={eventTime:G,lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},D===null?(O=D=G,b=F):D=D.next=G,v|=z;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;z=w,w=z.next,z.next=null,c.lastBaseUpdate=z,c.shared.pending=null}}while(!0);if(D===null&&(b=F),c.baseState=b,c.firstBaseUpdate=O,c.lastBaseUpdate=D,t=c.shared.interleaved,t!==null){c=t;do v|=c.lane,c=c.next;while(c!==t)}else d===null&&(c.shared.lanes=0);In|=v,e.lanes=v,e.memoizedState=F}}function kc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=n,typeof c!="function")throw Error(i(191,c));c.call(a)}}}var oi={},zt=on(oi),ai=on(oi),li=on(oi);function Tn(e){if(e===oi)throw Error(i(174));return e}function ca(e,t){switch(Se(li,t),Se(ai,e),Se(zt,oi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:co(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=co(t,e)}Ce(zt),Se(zt,t)}function cr(){Ce(zt),Ce(ai),Ce(li)}function bc(e){Tn(li.current);var t=Tn(zt.current),n=co(t,e.type);t!==n&&(Se(ai,e),Se(zt,n))}function da(e){ai.current===e&&(Ce(zt),Ce(ai))}var Re=on(0);function ms(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=[];function ha(){for(var e=0;e<fa.length;e++)fa[e]._workInProgressVersionPrimary=null;fa.length=0}var gs=W.ReactCurrentDispatcher,pa=W.ReactCurrentBatchConfig,On=0,Te=null,De=null,Fe=null,vs=!1,ui=!1,ci=0,Wp=0;function Ye(){throw Error(i(321))}function ma(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function ga(e,t,n,a,c,d){if(On=d,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gs.current=e===null||e.memoizedState===null?Kp:Gp,e=n(a,c),ui){d=0;do{if(ui=!1,ci=0,25<=d)throw Error(i(301));d+=1,Fe=De=null,t.updateQueue=null,gs.current=Yp,e=n(a,c)}while(ui)}if(gs.current=ws,t=De!==null&&De.next!==null,On=0,Fe=De=Te=null,vs=!1,t)throw Error(i(300));return e}function va(){var e=ci!==0;return ci=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function yt(){if(De===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Fe===null?Te.memoizedState:Fe.next;if(t!==null)Fe=t,De=e;else{if(e===null)throw Error(i(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function di(e,t){return typeof t=="function"?t(e):t}function ya(e){var t=yt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var a=De,c=a.baseQueue,d=n.pending;if(d!==null){if(c!==null){var v=c.next;c.next=d.next,d.next=v}a.baseQueue=c=d,n.pending=null}if(c!==null){d=c.next,a=a.baseState;var w=v=null,b=null,O=d;do{var D=O.lane;if((On&D)===D)b!==null&&(b=b.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),a=O.hasEagerState?O.eagerState:e(a,O.action);else{var F={lane:D,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};b===null?(w=b=F,v=a):b=b.next=F,Te.lanes|=D,In|=D}O=O.next}while(O!==null&&O!==d);b===null?v=a:b.next=w,kt(a,t.memoizedState)||(st=!0),t.memoizedState=a,t.baseState=v,t.baseQueue=b,n.lastRenderedState=a}if(e=n.interleaved,e!==null){c=e;do d=c.lane,Te.lanes|=d,In|=d,c=c.next;while(c!==e)}else c===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=yt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,c=n.pending,d=t.memoizedState;if(c!==null){n.pending=null;var v=c=c.next;do d=e(d,v.action),v=v.next;while(v!==c);kt(d,t.memoizedState)||(st=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,a]}function Sc(){}function jc(e,t){var n=Te,a=yt(),c=t(),d=!kt(a.memoizedState,c);if(d&&(a.memoizedState=c,st=!0),a=a.queue,wa(Nc.bind(null,n,a,e),[e]),a.getSnapshot!==t||d||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,fi(9,Cc.bind(null,n,a,c,t),void 0,null),Ue===null)throw Error(i(349));(On&30)!==0||Ec(n,t,c)}return c}function Ec(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cc(e,t,n,a){t.value=n,t.getSnapshot=a,Pc(t)&&Rc(e)}function Nc(e,t,n){return n(function(){Pc(t)&&Rc(e)})}function Pc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function Rc(e){var t=Ht(e,1);t!==null&&Ct(t,e,1,-1)}function Tc(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:e},t.queue=e,e=e.dispatch=Vp.bind(null,Te,e),[t.memoizedState,e]}function fi(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function Oc(){return yt().memoizedState}function ys(e,t,n,a){var c=Dt();Te.flags|=e,c.memoizedState=fi(1|t,n,void 0,a===void 0?null:a)}function xs(e,t,n,a){var c=yt();a=a===void 0?null:a;var d=void 0;if(De!==null){var v=De.memoizedState;if(d=v.destroy,a!==null&&ma(a,v.deps)){c.memoizedState=fi(t,n,d,a);return}}Te.flags|=e,c.memoizedState=fi(1|t,n,d,a)}function Ic(e,t){return ys(8390656,8,e,t)}function wa(e,t){return xs(2048,8,e,t)}function $c(e,t){return xs(4,2,e,t)}function Lc(e,t){return xs(4,4,e,t)}function Ac(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zc(e,t,n){return n=n!=null?n.concat([e]):null,xs(4,4,Ac.bind(null,t,e),n)}function _a(){}function Dc(e,t){var n=yt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&ma(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Mc(e,t){var n=yt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&ma(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Fc(e,t,n){return(On&21)===0?(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n):(kt(n,t)||(n=gu(),Te.lanes|=n,In|=n,e.baseState=!0),t)}function Hp(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var a=pa.transition;pa.transition={};try{e(!1),t()}finally{_e=n,pa.transition=a}}function Uc(){return yt().memoizedState}function qp(e,t,n){var a=pn(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Bc(e))Wc(t,n);else if(n=xc(e,t,n,a),n!==null){var c=tt();Ct(n,e,a,c),Hc(n,t,a)}}function Vp(e,t,n){var a=pn(e),c={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bc(e))Wc(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var v=t.lastRenderedState,w=d(v,n);if(c.hasEagerState=!0,c.eagerState=w,kt(w,v)){var b=t.interleaved;b===null?(c.next=c,la(t)):(c.next=b.next,b.next=c),t.interleaved=c;return}}catch{}finally{}n=xc(e,t,c,a),n!==null&&(c=tt(),Ct(n,e,a,c),Hc(n,t,a))}}function Bc(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Wc(e,t){ui=vs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hc(e,t,n){if((n&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,bo(e,n)}}var ws={readContext:vt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},Kp={readContext:vt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Ic,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ys(4194308,4,Ac.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return ys(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Dt();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=qp.bind(null,Te,e),[a.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:Tc,useDebugValue:_a,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=Tc(!1),t=e[0];return e=Hp.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Te,c=Dt();if(Ne){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Ue===null)throw Error(i(349));(On&30)!==0||Ec(a,t,n)}c.memoizedState=n;var d={value:n,getSnapshot:t};return c.queue=d,Ic(Nc.bind(null,a,d,e),[e]),a.flags|=2048,fi(9,Cc.bind(null,a,d,n,t),void 0,null),n},useId:function(){var e=Dt(),t=Ue.identifierPrefix;if(Ne){var n=Wt,a=Bt;n=(a&~(1<<32-_t(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=ci++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Wp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gp={readContext:vt,useCallback:Dc,useContext:vt,useEffect:wa,useImperativeHandle:zc,useInsertionEffect:$c,useLayoutEffect:Lc,useMemo:Mc,useReducer:ya,useRef:Oc,useState:function(){return ya(di)},useDebugValue:_a,useDeferredValue:function(e){var t=yt();return Fc(t,De.memoizedState,e)},useTransition:function(){var e=ya(di)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Sc,useSyncExternalStore:jc,useId:Uc,unstable_isNewReconciler:!1},Yp={readContext:vt,useCallback:Dc,useContext:vt,useEffect:wa,useImperativeHandle:zc,useInsertionEffect:$c,useLayoutEffect:Lc,useMemo:Mc,useReducer:xa,useRef:Oc,useState:function(){return xa(di)},useDebugValue:_a,useDeferredValue:function(e){var t=yt();return De===null?t.memoizedState=e:Fc(t,De.memoizedState,e)},useTransition:function(){var e=xa(di)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Sc,useSyncExternalStore:jc,useId:Uc,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ka(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:J({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _s={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=tt(),c=pn(e),d=qt(a,c);d.payload=t,n!=null&&(d.callback=n),t=cn(e,d,c),t!==null&&(Ct(t,e,c,a),hs(t,e,c))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=tt(),c=pn(e),d=qt(a,c);d.tag=1,d.payload=t,n!=null&&(d.callback=n),t=cn(e,d,c),t!==null&&(Ct(t,e,c,a),hs(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),a=pn(e),c=qt(n,a);c.tag=2,t!=null&&(c.callback=t),t=cn(e,c,a),t!==null&&(Ct(t,e,a,n),hs(t,e,a))}};function qc(e,t,n,a,c,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,v):t.prototype&&t.prototype.isPureReactComponent?!Xr(n,a)||!Xr(c,d):!0}function Vc(e,t,n){var a=!1,c=an,d=t.contextType;return typeof d=="object"&&d!==null?d=vt(d):(c=it(t)?Cn:Ge.current,a=t.contextTypes,d=(a=a!=null)?rr(e,c):an),t=new t(n,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_s,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),t}function Kc(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&_s.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,a){var c=e.stateNode;c.props=n,c.state=e.memoizedState,c.refs={},ua(e);var d=t.contextType;typeof d=="object"&&d!==null?c.context=vt(d):(d=it(t)?Cn:Ge.current,c.context=rr(e,d)),c.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(ka(e,t,d,n),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&_s.enqueueReplaceState(c,c.state,null),ps(e,n,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function dr(e,t){try{var n="",a=t;do n+=he(a),a=a.return;while(a);var c=n}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:c,digest:null}}function Sa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ja(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qp=typeof WeakMap=="function"?WeakMap:Map;function Gc(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Ns||(Ns=!0,Fa=a),ja(e,t)},n}function Yc(e,t,n){n=qt(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;n.payload=function(){return a(c)},n.callback=function(){ja(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(n.callback=function(){ja(e,t),typeof a!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),n}function Qc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Qp;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(n)||(c.add(n),e=cm.bind(null,e,t,n),t.then(e,e))}function Jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xc(e,t,n,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Jp=W.ReactCurrentOwner,st=!1;function et(e,t,n,a){t.child=e===null?yc(t,null,n,a):ar(t,e.child,n,a)}function Zc(e,t,n,a,c){n=n.render;var d=t.ref;return ur(t,c),a=ga(e,t,n,a,d,c),n=va(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Vt(e,t,c)):(Ne&&n&&Zo(t),t.flags|=1,et(e,t,a,c),t.child)}function ed(e,t,n,a,c){if(e===null){var d=n.type;return typeof d=="function"&&!Ka(d)&&d.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=d,td(e,t,d,a,c)):(e=$s(n.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&c)===0){var v=d.memoizedProps;if(n=n.compare,n=n!==null?n:Xr,n(v,a)&&e.ref===t.ref)return Vt(e,t,c)}return t.flags|=1,e=gn(d,a),e.ref=t.ref,e.return=t,t.child=e}function td(e,t,n,a,c){if(e!==null){var d=e.memoizedProps;if(Xr(d,a)&&e.ref===t.ref)if(st=!1,t.pendingProps=a=d,(e.lanes&c)!==0)(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,Vt(e,t,c)}return Ea(e,t,n,a,c)}function nd(e,t,n){var a=t.pendingProps,c=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(hr,ht),ht|=n;else{if((n&1073741824)===0)return e=d!==null?d.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(hr,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:n,Se(hr,ht),ht|=a}else d!==null?(a=d.baseLanes|n,t.memoizedState=null):a=n,Se(hr,ht),ht|=a;return et(e,t,c,n),t.child}function rd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,a,c){var d=it(n)?Cn:Ge.current;return d=rr(t,d),ur(t,c),n=ga(e,t,n,a,d,c),a=va(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Vt(e,t,c)):(Ne&&a&&Zo(t),t.flags|=1,et(e,t,n,c),t.child)}function id(e,t,n,a,c){if(it(n)){var d=!0;ss(t)}else d=!1;if(ur(t,c),t.stateNode===null)bs(e,t),Vc(t,n,a),ba(t,n,a,c),a=!0;else if(e===null){var v=t.stateNode,w=t.memoizedProps;v.props=w;var b=v.context,O=n.contextType;typeof O=="object"&&O!==null?O=vt(O):(O=it(n)?Cn:Ge.current,O=rr(t,O));var D=n.getDerivedStateFromProps,F=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function";F||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==a||b!==O)&&Kc(t,v,a,O),un=!1;var z=t.memoizedState;v.state=z,ps(t,a,v,c),b=t.memoizedState,w!==a||z!==b||rt.current||un?(typeof D=="function"&&(ka(t,n,D,a),b=t.memoizedState),(w=un||qc(t,n,w,a,z,b,O))?(F||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=b),v.props=a,v.state=b,v.context=O,a=w):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{v=t.stateNode,wc(e,t),w=t.memoizedProps,O=t.type===t.elementType?w:St(t.type,w),v.props=O,F=t.pendingProps,z=v.context,b=n.contextType,typeof b=="object"&&b!==null?b=vt(b):(b=it(n)?Cn:Ge.current,b=rr(t,b));var G=n.getDerivedStateFromProps;(D=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==F||z!==b)&&Kc(t,v,a,b),un=!1,z=t.memoizedState,v.state=z,ps(t,a,v,c);var ee=t.memoizedState;w!==F||z!==ee||rt.current||un?(typeof G=="function"&&(ka(t,n,G,a),ee=t.memoizedState),(O=un||qc(t,n,O,a,z,ee,b)||!1)?(D||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(a,ee,b),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(a,ee,b)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ee),v.props=a,v.state=ee,v.context=b,a=O):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),a=!1)}return Ca(e,t,n,a,d,c)}function Ca(e,t,n,a,c,d){rd(e,t);var v=(t.flags&128)!==0;if(!a&&!v)return c&&uc(t,n,!1),Vt(e,t,d);a=t.stateNode,Jp.current=t;var w=v&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&v?(t.child=ar(t,e.child,null,d),t.child=ar(t,null,w,d)):et(e,t,w,d),t.memoizedState=a.state,c&&uc(t,n,!0),t.child}function sd(e){var t=e.stateNode;t.pendingContext?ac(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ac(e,t.context,!1),ca(e,t.containerInfo)}function od(e,t,n,a,c){return or(),ra(c),t.flags|=256,et(e,t,n,a),t.child}var Na={dehydrated:null,treeContext:null,retryLane:0};function Pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ad(e,t,n){var a=t.pendingProps,c=Re.current,d=!1,v=(t.flags&128)!==0,w;if((w=v)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Se(Re,c&1),e===null)return na(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(v=a.children,e=a.fallback,d?(a=t.mode,d=t.child,v={mode:"hidden",children:v},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=v):d=Ls(v,a,0,null),e=zn(e,a,n,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Pa(n),t.memoizedState=Na,e):Ra(t,v));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return Xp(e,t,v,a,w,c,n);if(d){d=a.fallback,v=t.mode,c=e.child,w=c.sibling;var b={mode:"hidden",children:a.children};return(v&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=b,t.deletions=null):(a=gn(c,b),a.subtreeFlags=c.subtreeFlags&14680064),w!==null?d=gn(w,d):(d=zn(d,v,n,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,v=e.child.memoizedState,v=v===null?Pa(n):{baseLanes:v.baseLanes|n,cachePool:null,transitions:v.transitions},d.memoizedState=v,d.childLanes=e.childLanes&~n,t.memoizedState=Na,a}return d=e.child,e=d.sibling,a=gn(d,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ra(e,t){return t=Ls({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ks(e,t,n,a){return a!==null&&ra(a),ar(t,e.child,null,n),e=Ra(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xp(e,t,n,a,c,d,v){if(n)return t.flags&256?(t.flags&=-257,a=Sa(Error(i(422))),ks(e,t,v,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,c=t.mode,a=Ls({mode:"visible",children:a.children},c,0,null),d=zn(d,c,v,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,(t.mode&1)!==0&&ar(t,e.child,null,v),t.child.memoizedState=Pa(v),t.memoizedState=Na,d);if((t.mode&1)===0)return ks(e,t,v,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var w=a.dgst;return a=w,d=Error(i(419)),a=Sa(d,a,void 0),ks(e,t,v,a)}if(w=(v&e.childLanes)!==0,st||w){if(a=Ue,a!==null){switch(v&-v){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|v))!==0?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Ht(e,c),Ct(a,e,c,-1))}return Va(),a=Sa(Error(i(421))),ks(e,t,v,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=dm.bind(null,e),c._reactRetry=t,null):(e=d.treeContext,ft=sn(c.nextSibling),dt=t,Ne=!0,bt=null,e!==null&&(mt[gt++]=Bt,mt[gt++]=Wt,mt[gt++]=Nn,Bt=e.id,Wt=e.overflow,Nn=t),t=Ra(t,a.children),t.flags|=4096,t)}function ld(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),aa(e.return,t,n)}function Ta(e,t,n,a,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=n,d.tailMode=c)}function ud(e,t,n){var a=t.pendingProps,c=a.revealOrder,d=a.tail;if(et(e,t,a.children,n),a=Re.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ld(e,n,t);else if(e.tag===19)ld(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Se(Re,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&ms(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Ta(t,!1,c,n,d);break;case"backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&ms(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Ta(t,!0,n,null,d);break;case"together":Ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zp(e,t,n){switch(t.tag){case 3:sd(t),or();break;case 5:bc(t);break;case 1:it(t.type)&&ss(t);break;case 4:ca(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;Se(ds,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Se(Re,Re.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?ad(e,t,n):(Se(Re,Re.current&1),e=Vt(e,t,n),e!==null?e.sibling:null);Se(Re,Re.current&1);break;case 19:if(a=(n&t.childLanes)!==0,(e.flags&128)!==0){if(a)return ud(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Se(Re,Re.current),a)break;return null;case 22:case 23:return t.lanes=0,nd(e,t,n)}return Vt(e,t,n)}var cd,Oa,dd,fd;cd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},dd=function(e,t,n,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,Tn(zt.current);var d=null;switch(n){case"input":c=oo(e,c),a=oo(e,a),d=[];break;case"select":c=J({},c,{value:void 0}),a=J({},a,{value:void 0}),d=[];break;case"textarea":c=uo(e,c),a=uo(e,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ns)}fo(n,a);var v;n=null;for(O in c)if(!a.hasOwnProperty(O)&&c.hasOwnProperty(O)&&c[O]!=null)if(O==="style"){var w=c[O];for(v in w)w.hasOwnProperty(v)&&(n||(n={}),n[v]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(l.hasOwnProperty(O)?d||(d=[]):(d=d||[]).push(O,null));for(O in a){var b=a[O];if(w=c?.[O],a.hasOwnProperty(O)&&b!==w&&(b!=null||w!=null))if(O==="style")if(w){for(v in w)!w.hasOwnProperty(v)||b&&b.hasOwnProperty(v)||(n||(n={}),n[v]="");for(v in b)b.hasOwnProperty(v)&&w[v]!==b[v]&&(n||(n={}),n[v]=b[v])}else n||(d||(d=[]),d.push(O,n)),n=b;else O==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,w=w?w.__html:void 0,b!=null&&w!==b&&(d=d||[]).push(O,b)):O==="children"?typeof b!="string"&&typeof b!="number"||(d=d||[]).push(O,""+b):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(l.hasOwnProperty(O)?(b!=null&&O==="onScroll"&&Ee("scroll",e),d||w===b||(d=[])):(d=d||[]).push(O,b))}n&&(d=d||[]).push("style",n);var O=d;(t.updateQueue=O)&&(t.flags|=4)}},fd=function(e,t,n,a){n!==a&&(t.flags|=4)};function hi(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function em(e,t,n){var a=t.pendingProps;switch(ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return it(t.type)&&is(),Qe(t),null;case 3:return a=t.stateNode,cr(),Ce(rt),Ce(Ge),ha(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bt!==null&&(Wa(bt),bt=null))),Oa(e,t),Qe(t),null;case 5:da(t);var c=Tn(li.current);if(n=t.type,e!==null&&t.stateNode!=null)dd(e,t,n,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(i(166));return Qe(t),null}if(e=Tn(zt.current),us(t)){a=t.stateNode,n=t.type;var d=t.memoizedProps;switch(a[At]=t,a[ri]=d,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",a),Ee("close",a);break;case"iframe":case"object":case"embed":Ee("load",a);break;case"video":case"audio":for(c=0;c<ei.length;c++)Ee(ei[c],a);break;case"source":Ee("error",a);break;case"img":case"image":case"link":Ee("error",a),Ee("load",a);break;case"details":Ee("toggle",a);break;case"input":Vl(a,d),Ee("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Ee("invalid",a);break;case"textarea":Yl(a,d),Ee("invalid",a)}fo(n,d),c=null;for(var v in d)if(d.hasOwnProperty(v)){var w=d[v];v==="children"?typeof w=="string"?a.textContent!==w&&(d.suppressHydrationWarning!==!0&&ts(a.textContent,w,e),c=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&ts(a.textContent,w,e),c=["children",""+w]):l.hasOwnProperty(v)&&w!=null&&v==="onScroll"&&Ee("scroll",a)}switch(n){case"input":Hn(a),Gl(a,d,!0);break;case"textarea":Hn(a),Jl(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=ns)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{v=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xl(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=v.createElement(n,{is:a.is}):(e=v.createElement(n),n==="select"&&(v=e,a.multiple?v.multiple=!0:a.size&&(v.size=a.size))):e=v.createElementNS(e,n),e[At]=t,e[ri]=a,cd(e,t,!1,!1),t.stateNode=e;e:{switch(v=ho(n,a),n){case"dialog":Ee("cancel",e),Ee("close",e),c=a;break;case"iframe":case"object":case"embed":Ee("load",e),c=a;break;case"video":case"audio":for(c=0;c<ei.length;c++)Ee(ei[c],e);c=a;break;case"source":Ee("error",e),c=a;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),c=a;break;case"details":Ee("toggle",e),c=a;break;case"input":Vl(e,a),c=oo(e,a),Ee("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=J({},a,{value:void 0}),Ee("invalid",e);break;case"textarea":Yl(e,a),c=uo(e,a),Ee("invalid",e);break;default:c=a}fo(n,c),w=c;for(d in w)if(w.hasOwnProperty(d)){var b=w[d];d==="style"?tu(e,b):d==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Zl(e,b)):d==="children"?typeof b=="string"?(n!=="textarea"||b!=="")&&Lr(e,b):typeof b=="number"&&Lr(e,""+b):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?b!=null&&d==="onScroll"&&Ee("scroll",e):b!=null&&L(e,d,b,v))}switch(n){case"input":Hn(e),Gl(e,a,!1);break;case"textarea":Hn(e),Jl(e);break;case"option":a.value!=null&&e.setAttribute("value",""+we(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?qn(e,!!a.multiple,d,!1):a.defaultValue!=null&&qn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=ns)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)fd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(i(166));if(n=Tn(li.current),Tn(zt.current),us(t)){if(a=t.stateNode,n=t.memoizedProps,a[At]=t,(d=a.nodeValue!==n)&&(e=dt,e!==null))switch(e.tag){case 3:ts(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ts(a.nodeValue,n,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[At]=t,t.stateNode=a}return Qe(t),null;case 13:if(Ce(Re),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&ft!==null&&(t.mode&1)!==0&&(t.flags&128)===0)mc(),or(),t.flags|=98560,d=!1;else if(d=us(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[At]=t}else or(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),d=!1}else bt!==null&&(Wa(bt),bt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Re.current&1)!==0?Me===0&&(Me=3):Va())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return cr(),Oa(e,t),e===null&&ti(t.stateNode.containerInfo),Qe(t),null;case 10:return oa(t.type._context),Qe(t),null;case 17:return it(t.type)&&is(),Qe(t),null;case 19:if(Ce(Re),d=t.memoizedState,d===null)return Qe(t),null;if(a=(t.flags&128)!==0,v=d.rendering,v===null)if(a)hi(d,!1);else{if(Me!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(v=ms(e),v!==null){for(t.flags|=128,hi(d,!1),a=v.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)d=n,e=a,d.flags&=14680066,v=d.alternate,v===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=v.childLanes,d.lanes=v.lanes,d.child=v.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=v.memoizedProps,d.memoizedState=v.memoizedState,d.updateQueue=v.updateQueue,d.type=v.type,e=v.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Re,Re.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ie()>pr&&(t.flags|=128,a=!0,hi(d,!1),t.lanes=4194304)}else{if(!a)if(e=ms(v),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!Ne)return Qe(t),null}else 2*Ie()-d.renderingStartTime>pr&&n!==1073741824&&(t.flags|=128,a=!0,hi(d,!1),t.lanes=4194304);d.isBackwards?(v.sibling=t.child,t.child=v):(n=d.last,n!==null?n.sibling=v:t.child=v,d.last=v)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ie(),t.sibling=null,n=Re.current,Se(Re,a?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return qa(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(ht&1073741824)!==0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function tm(e,t){switch(ea(t),t.tag){case 1:return it(t.type)&&is(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cr(),Ce(rt),Ce(Ge),ha(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return da(t),null;case 13:if(Ce(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Re),null;case 4:return cr(),null;case 10:return oa(t.type._context),null;case 22:case 23:return qa(),null;case 24:return null;default:return null}}var Ss=!1,Je=!1,nm=typeof WeakSet=="function"?WeakSet:Set,X=null;function fr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Oe(e,t,a)}else n.current=null}function Ia(e,t,n){try{n()}catch(a){Oe(e,t,a)}}var hd=!1;function rm(e,t){if(qo=Hi,e=qu(),zo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var v=0,w=-1,b=-1,O=0,D=0,F=e,z=null;t:for(;;){for(var G;F!==n||c!==0&&F.nodeType!==3||(w=v+c),F!==d||a!==0&&F.nodeType!==3||(b=v+a),F.nodeType===3&&(v+=F.nodeValue.length),(G=F.firstChild)!==null;)z=F,F=G;for(;;){if(F===e)break t;if(z===n&&++O===c&&(w=v),z===d&&++D===a&&(b=v),(G=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=G}n=w===-1||b===-1?null:{start:w,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vo={focusedElem:e,selectionRange:n},Hi=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var ee=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,$e=ee.memoizedState,C=t.stateNode,S=C.getSnapshotBeforeUpdate(t.elementType===t.type?te:St(t.type,te),$e);C.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(U){Oe(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return ee=hd,hd=!1,ee}function pi(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Ia(t,n,d)}c=c.next}while(c!==a)}}function js(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function $a(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pd(e){var t=e.alternate;t!==null&&(e.alternate=null,pd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[ri],delete t[Qo],delete t[Mp],delete t[Fp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function md(e){return e.tag===5||e.tag===3||e.tag===4}function gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function La(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ns));else if(a!==4&&(e=e.child,e!==null))for(La(e,t,n),e=e.sibling;e!==null;)La(e,t,n),e=e.sibling}function Aa(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Aa(e,t,n),e=e.sibling;e!==null;)Aa(e,t,n),e=e.sibling}var qe=null,jt=!1;function dn(e,t,n){for(n=n.child;n!==null;)vd(e,t,n),n=n.sibling}function vd(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Di,n)}catch{}switch(n.tag){case 5:Je||fr(n,t);case 6:var a=qe,c=jt;qe=null,dn(e,t,n),qe=a,jt=c,qe!==null&&(jt?(e=qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(jt?(e=qe,n=n.stateNode,e.nodeType===8?Yo(e.parentNode,n):e.nodeType===1&&Yo(e,n),Vr(e)):Yo(qe,n.stateNode));break;case 4:a=qe,c=jt,qe=n.stateNode.containerInfo,jt=!0,dn(e,t,n),qe=a,jt=c;break;case 0:case 11:case 14:case 15:if(!Je&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,v=d.destroy;d=d.tag,v!==void 0&&((d&2)!==0||(d&4)!==0)&&Ia(n,t,v),c=c.next}while(c!==a)}dn(e,t,n);break;case 1:if(!Je&&(fr(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(w){Oe(n,t,w)}dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:n.mode&1?(Je=(a=Je)||n.memoizedState!==null,dn(e,t,n),Je=a):dn(e,t,n);break;default:dn(e,t,n)}}function yd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new nm),t.forEach(function(a){var c=fm.bind(null,e,a);n.has(a)||(n.add(a),a.then(c,c))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];try{var d=e,v=t,w=v;e:for(;w!==null;){switch(w.tag){case 5:qe=w.stateNode,jt=!1;break e;case 3:qe=w.stateNode.containerInfo,jt=!0;break e;case 4:qe=w.stateNode.containerInfo,jt=!0;break e}w=w.return}if(qe===null)throw Error(i(160));vd(d,v,c),qe=null,jt=!1;var b=c.alternate;b!==null&&(b.return=null),c.return=null}catch(O){Oe(c,t,O)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xd(t,e),t=t.sibling}function xd(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Mt(e),a&4){try{pi(3,e,e.return),js(3,e)}catch(te){Oe(e,e.return,te)}try{pi(5,e,e.return)}catch(te){Oe(e,e.return,te)}}break;case 1:Et(t,e),Mt(e),a&512&&n!==null&&fr(n,n.return);break;case 5:if(Et(t,e),Mt(e),a&512&&n!==null&&fr(n,n.return),e.flags&32){var c=e.stateNode;try{Lr(c,"")}catch(te){Oe(e,e.return,te)}}if(a&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,v=n!==null?n.memoizedProps:d,w=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&Kl(c,d),ho(w,v);var O=ho(w,d);for(v=0;v<b.length;v+=2){var D=b[v],F=b[v+1];D==="style"?tu(c,F):D==="dangerouslySetInnerHTML"?Zl(c,F):D==="children"?Lr(c,F):L(c,D,F,O)}switch(w){case"input":ao(c,d);break;case"textarea":Ql(c,d);break;case"select":var z=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var G=d.value;G!=null?qn(c,!!d.multiple,G,!1):z!==!!d.multiple&&(d.defaultValue!=null?qn(c,!!d.multiple,d.defaultValue,!0):qn(c,!!d.multiple,d.multiple?[]:"",!1))}c[ri]=d}catch(te){Oe(e,e.return,te)}}break;case 6:if(Et(t,e),Mt(e),a&4){if(e.stateNode===null)throw Error(i(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(te){Oe(e,e.return,te)}}break;case 3:if(Et(t,e),Mt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(t.containerInfo)}catch(te){Oe(e,e.return,te)}break;case 4:Et(t,e),Mt(e);break;case 13:Et(t,e),Mt(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(Ma=Ie())),a&4&&yd(e);break;case 22:if(D=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(O=Je)||D,Et(t,e),Je=O):Et(t,e),Mt(e),a&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!D&&(e.mode&1)!==0)for(X=e,D=e.child;D!==null;){for(F=X=D;X!==null;){switch(z=X,G=z.child,z.tag){case 0:case 11:case 14:case 15:pi(4,z,z.return);break;case 1:fr(z,z.return);var ee=z.stateNode;if(typeof ee.componentWillUnmount=="function"){a=z,n=z.return;try{t=a,ee.props=t.memoizedProps,ee.state=t.memoizedState,ee.componentWillUnmount()}catch(te){Oe(a,n,te)}}break;case 5:fr(z,z.return);break;case 22:if(z.memoizedState!==null){kd(F);continue}}G!==null?(G.return=z,X=G):kd(F)}D=D.sibling}e:for(D=null,F=e;;){if(F.tag===5){if(D===null){D=F;try{c=F.stateNode,O?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=F.stateNode,b=F.memoizedProps.style,v=b!=null&&b.hasOwnProperty("display")?b.display:null,w.style.display=eu("display",v))}catch(te){Oe(e,e.return,te)}}}else if(F.tag===6){if(D===null)try{F.stateNode.nodeValue=O?"":F.memoizedProps}catch(te){Oe(e,e.return,te)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;D===F&&(D=null),F=F.return}D===F&&(D=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Et(t,e),Mt(e),a&4&&yd(e);break;case 21:break;default:Et(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(md(n)){var a=n;break e}n=n.return}throw Error(i(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Lr(c,""),a.flags&=-33);var d=gd(e);Aa(e,d,c);break;case 3:case 4:var v=a.stateNode.containerInfo,w=gd(e);La(e,w,v);break;default:throw Error(i(161))}}catch(b){Oe(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function im(e,t,n){X=e,wd(e)}function wd(e,t,n){for(var a=(e.mode&1)!==0;X!==null;){var c=X,d=c.child;if(c.tag===22&&a){var v=c.memoizedState!==null||Ss;if(!v){var w=c.alternate,b=w!==null&&w.memoizedState!==null||Je;w=Ss;var O=Je;if(Ss=v,(Je=b)&&!O)for(X=c;X!==null;)v=X,b=v.child,v.tag===22&&v.memoizedState!==null?bd(c):b!==null?(b.return=v,X=b):bd(c);for(;d!==null;)X=d,wd(d),d=d.sibling;X=c,Ss=w,Je=O}_d(e)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,X=d):_d(e)}}function _d(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Je||js(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Je)if(n===null)a.componentDidMount();else{var c=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);a.componentDidUpdate(c,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&kc(t,d,a);break;case 3:var v=t.updateQueue;if(v!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kc(t,v,n)}break;case 5:var w=t.stateNode;if(n===null&&t.flags&4){n=w;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&n.focus();break;case"img":b.src&&(n.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var O=t.alternate;if(O!==null){var D=O.memoizedState;if(D!==null){var F=D.dehydrated;F!==null&&Vr(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Je||t.flags&512&&$a(t)}catch(z){Oe(t,t.return,z)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function kd(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function bd(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{js(4,t)}catch(b){Oe(t,n,b)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(b){Oe(t,c,b)}}var d=t.return;try{$a(t)}catch(b){Oe(t,d,b)}break;case 5:var v=t.return;try{$a(t)}catch(b){Oe(t,v,b)}}}catch(b){Oe(t,t.return,b)}if(t===e){X=null;break}var w=t.sibling;if(w!==null){w.return=t.return,X=w;break}X=t.return}}var sm=Math.ceil,Es=W.ReactCurrentDispatcher,za=W.ReactCurrentOwner,xt=W.ReactCurrentBatchConfig,ye=0,Ue=null,ze=null,Ve=0,ht=0,hr=on(0),Me=0,mi=null,In=0,Cs=0,Da=0,gi=null,ot=null,Ma=0,pr=1/0,Kt=null,Ns=!1,Fa=null,fn=null,Ps=!1,hn=null,Rs=0,vi=0,Ua=null,Ts=-1,Os=0;function tt(){return(ye&6)!==0?Ie():Ts!==-1?Ts:Ts=Ie()}function pn(e){return(e.mode&1)===0?1:(ye&2)!==0&&Ve!==0?Ve&-Ve:Bp.transition!==null?(Os===0&&(Os=gu()),Os):(e=_e,e!==0||(e=window.event,e=e===void 0?16:ju(e.type)),e)}function Ct(e,t,n,a){if(50<vi)throw vi=0,Ua=null,Error(i(185));Ur(e,n,a),((ye&2)===0||e!==Ue)&&(e===Ue&&((ye&2)===0&&(Cs|=n),Me===4&&mn(e,Ve)),at(e,a),n===1&&ye===0&&(t.mode&1)===0&&(pr=Ie()+500,os&&ln()))}function at(e,t){var n=e.callbackNode;Bh(e,t);var a=Ui(e,e===Ue?Ve:0);if(a===0)n!==null&&hu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&hu(n),t===1)e.tag===0?Up(jd.bind(null,e)):cc(jd.bind(null,e)),zp(function(){(ye&6)===0&&ln()}),n=null;else{switch(vu(a)){case 1:n=wo;break;case 4:n=pu;break;case 16:n=zi;break;case 536870912:n=mu;break;default:n=zi}n=Id(n,Sd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sd(e,t){if(Ts=-1,Os=0,(ye&6)!==0)throw Error(i(327));var n=e.callbackNode;if(mr()&&e.callbackNode!==n)return null;var a=Ui(e,e===Ue?Ve:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Is(e,a);else{t=a;var c=ye;ye|=2;var d=Cd();(Ue!==e||Ve!==t)&&(Kt=null,pr=Ie()+500,Ln(e,t));do try{lm();break}catch(w){Ed(e,w)}while(!0);sa(),Es.current=d,ye=c,ze!==null?t=0:(Ue=null,Ve=0,t=Me)}if(t!==0){if(t===2&&(c=_o(e),c!==0&&(a=c,t=Ba(e,c))),t===1)throw n=mi,Ln(e,0),mn(e,a),at(e,Ie()),n;if(t===6)mn(e,a);else{if(c=e.current.alternate,(a&30)===0&&!om(c)&&(t=Is(e,a),t===2&&(d=_o(e),d!==0&&(a=d,t=Ba(e,d))),t===1))throw n=mi,Ln(e,0),mn(e,a),at(e,Ie()),n;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:An(e,ot,Kt);break;case 3:if(mn(e,a),(a&130023424)===a&&(t=Ma+500-Ie(),10<t)){if(Ui(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){tt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Go(An.bind(null,e,ot,Kt),t);break}An(e,ot,Kt);break;case 4:if(mn(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var v=31-_t(a);d=1<<v,v=t[v],v>c&&(c=v),a&=~d}if(a=c,a=Ie()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*sm(a/1960))-a,10<a){e.timeoutHandle=Go(An.bind(null,e,ot,Kt),a);break}An(e,ot,Kt);break;case 5:An(e,ot,Kt);break;default:throw Error(i(329))}}}return at(e,Ie()),e.callbackNode===n?Sd.bind(null,e):null}function Ba(e,t){var n=gi;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=Is(e,t),e!==2&&(t=ot,ot=n,t!==null&&Wa(t)),e}function Wa(e){ot===null?ot=e:ot.push.apply(ot,e)}function om(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var c=n[a],d=c.getSnapshot;c=c.value;try{if(!kt(d(),c))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~Da,t&=~Cs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),a=1<<n;e[n]=-1,t&=~a}}function jd(e){if((ye&6)!==0)throw Error(i(327));mr();var t=Ui(e,0);if((t&1)===0)return at(e,Ie()),null;var n=Is(e,t);if(e.tag!==0&&n===2){var a=_o(e);a!==0&&(t=a,n=Ba(e,a))}if(n===1)throw n=mi,Ln(e,0),mn(e,t),at(e,Ie()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,ot,Kt),at(e,Ie()),null}function Ha(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(pr=Ie()+500,os&&ln())}}function $n(e){hn!==null&&hn.tag===0&&(ye&6)===0&&mr();var t=ye;ye|=1;var n=xt.transition,a=_e;try{if(xt.transition=null,_e=1,e)return e()}finally{_e=a,xt.transition=n,ye=t,(ye&6)===0&&ln()}}function qa(){ht=hr.current,Ce(hr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ap(n)),ze!==null)for(n=ze.return;n!==null;){var a=n;switch(ea(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&is();break;case 3:cr(),Ce(rt),Ce(Ge),ha();break;case 5:da(a);break;case 4:cr();break;case 13:Ce(Re);break;case 19:Ce(Re);break;case 10:oa(a.type._context);break;case 22:case 23:qa()}n=n.return}if(Ue=e,ze=e=gn(e.current,null),Ve=ht=t,Me=0,mi=null,Da=Cs=In=0,ot=gi=null,Rn!==null){for(t=0;t<Rn.length;t++)if(n=Rn[t],a=n.interleaved,a!==null){n.interleaved=null;var c=a.next,d=n.pending;if(d!==null){var v=d.next;d.next=c,a.next=v}n.pending=a}Rn=null}return e}function Ed(e,t){do{var n=ze;try{if(sa(),gs.current=ws,vs){for(var a=Te.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}vs=!1}if(On=0,Fe=De=Te=null,ui=!1,ci=0,za.current=null,n===null||n.return===null){Me=1,mi=t,ze=null;break}e:{var d=e,v=n.return,w=n,b=t;if(t=Ve,w.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var O=b,D=w,F=D.tag;if((D.mode&1)===0&&(F===0||F===11||F===15)){var z=D.alternate;z?(D.updateQueue=z.updateQueue,D.memoizedState=z.memoizedState,D.lanes=z.lanes):(D.updateQueue=null,D.memoizedState=null)}var G=Jc(v);if(G!==null){G.flags&=-257,Xc(G,v,w,d,t),G.mode&1&&Qc(d,O,t),t=G,b=O;var ee=t.updateQueue;if(ee===null){var te=new Set;te.add(b),t.updateQueue=te}else ee.add(b);break e}else{if((t&1)===0){Qc(d,O,t),Va();break e}b=Error(i(426))}}else if(Ne&&w.mode&1){var $e=Jc(v);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),Xc($e,v,w,d,t),ra(dr(b,w));break e}}d=b=dr(b,w),Me!==4&&(Me=2),gi===null?gi=[d]:gi.push(d),d=v;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var C=Gc(d,b,t);_c(d,C);break e;case 1:w=b;var S=d.type,P=d.stateNode;if((d.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(fn===null||!fn.has(P)))){d.flags|=65536,t&=-t,d.lanes|=t;var U=Yc(d,w,t);_c(d,U);break e}}d=d.return}while(d!==null)}Pd(n)}catch(re){t=re,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function Cd(){var e=Es.current;return Es.current=ws,e===null?ws:e}function Va(){(Me===0||Me===3||Me===2)&&(Me=4),Ue===null||(In&268435455)===0&&(Cs&268435455)===0||mn(Ue,Ve)}function Is(e,t){var n=ye;ye|=2;var a=Cd();(Ue!==e||Ve!==t)&&(Kt=null,Ln(e,t));do try{am();break}catch(c){Ed(e,c)}while(!0);if(sa(),ye=n,Es.current=a,ze!==null)throw Error(i(261));return Ue=null,Ve=0,Me}function am(){for(;ze!==null;)Nd(ze)}function lm(){for(;ze!==null&&!Ih();)Nd(ze)}function Nd(e){var t=Od(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Pd(e):ze=t,za.current=null}function Pd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=em(n,t,ht),n!==null){ze=n;return}}else{if(n=tm(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,ze=null;return}}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Me===0&&(Me=5)}function An(e,t,n){var a=_e,c=xt.transition;try{xt.transition=null,_e=1,um(e,t,n,a)}finally{xt.transition=c,_e=a}return null}function um(e,t,n,a){do mr();while(hn!==null);if((ye&6)!==0)throw Error(i(327));n=e.finishedWork;var c=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var d=n.lanes|n.childLanes;if(Wh(e,d),e===Ue&&(ze=Ue=null,Ve=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Ps||(Ps=!0,Id(zi,function(){return mr(),null})),d=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||d){d=xt.transition,xt.transition=null;var v=_e;_e=1;var w=ye;ye|=4,za.current=null,rm(e,n),xd(n,e),Pp(Vo),Hi=!!qo,Vo=qo=null,e.current=n,im(n),$h(),ye=w,_e=v,xt.transition=d}else e.current=n;if(Ps&&(Ps=!1,hn=e,Rs=c),d=e.pendingLanes,d===0&&(fn=null),zh(n.stateNode),at(e,Ie()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)c=t[n],a(c.value,{componentStack:c.stack,digest:c.digest});if(Ns)throw Ns=!1,e=Fa,Fa=null,e;return(Rs&1)!==0&&e.tag!==0&&mr(),d=e.pendingLanes,(d&1)!==0?e===Ua?vi++:(vi=0,Ua=e):vi=0,ln(),null}function mr(){if(hn!==null){var e=vu(Rs),t=xt.transition,n=_e;try{if(xt.transition=null,_e=16>e?16:e,hn===null)var a=!1;else{if(e=hn,hn=null,Rs=0,(ye&6)!==0)throw Error(i(331));var c=ye;for(ye|=4,X=e.current;X!==null;){var d=X,v=d.child;if((X.flags&16)!==0){var w=d.deletions;if(w!==null){for(var b=0;b<w.length;b++){var O=w[b];for(X=O;X!==null;){var D=X;switch(D.tag){case 0:case 11:case 15:pi(8,D,d)}var F=D.child;if(F!==null)F.return=D,X=F;else for(;X!==null;){D=X;var z=D.sibling,G=D.return;if(pd(D),D===O){X=null;break}if(z!==null){z.return=G,X=z;break}X=G}}}var ee=d.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var $e=te.sibling;te.sibling=null,te=$e}while(te!==null)}}X=d}}if((d.subtreeFlags&2064)!==0&&v!==null)v.return=d,X=v;else e:for(;X!==null;){if(d=X,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:pi(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,X=C;break e}X=d.return}}var S=e.current;for(X=S;X!==null;){v=X;var P=v.child;if((v.subtreeFlags&2064)!==0&&P!==null)P.return=v,X=P;else e:for(v=S;X!==null;){if(w=X,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:js(9,w)}}catch(re){Oe(w,w.return,re)}if(w===v){X=null;break e}var U=w.sibling;if(U!==null){U.return=w.return,X=U;break e}X=w.return}}if(ye=c,ln(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Di,e)}catch{}a=!0}return a}finally{_e=n,xt.transition=t}}return!1}function Rd(e,t,n){t=dr(n,t),t=Gc(e,t,1),e=cn(e,t,1),t=tt(),e!==null&&(Ur(e,1,t),at(e,t))}function Oe(e,t,n){if(e.tag===3)Rd(e,e,n);else for(;t!==null;){if(t.tag===3){Rd(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(fn===null||!fn.has(a))){e=dr(n,e),e=Yc(t,e,1),t=cn(t,e,1),e=tt(),t!==null&&(Ur(t,1,e),at(t,e));break}}t=t.return}}function cm(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,Ue===e&&(Ve&n)===n&&(Me===4||Me===3&&(Ve&130023424)===Ve&&500>Ie()-Ma?Ln(e,0):Da|=n),at(e,t)}function Td(e,t){t===0&&((e.mode&1)===0?t=1:(t=Fi,Fi<<=1,(Fi&130023424)===0&&(Fi=4194304)));var n=tt();e=Ht(e,t),e!==null&&(Ur(e,t,n),at(e,n))}function dm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Td(e,n)}function fm(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}a!==null&&a.delete(t),Td(e,n)}var Od;Od=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)st=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return st=!1,Zp(e,t,n);st=(e.flags&131072)!==0}else st=!1,Ne&&(t.flags&1048576)!==0&&dc(t,ls,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;bs(e,t),e=t.pendingProps;var c=rr(t,Ge.current);ur(t,n),c=ga(null,t,a,e,c,n);var d=va();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(a)?(d=!0,ss(t)):d=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ua(t),c.updater=_s,t.stateNode=c,c._reactInternals=t,ba(t,a,e,n),t=Ca(null,t,a,!0,d,n)):(t.tag=0,Ne&&d&&Zo(t),et(null,t,c,n),t=t.child),t;case 16:a=t.elementType;e:{switch(bs(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=pm(a),e=St(a,e),c){case 0:t=Ea(null,t,a,e,n);break e;case 1:t=id(null,t,a,e,n);break e;case 11:t=Zc(null,t,a,e,n);break e;case 14:t=ed(null,t,a,St(a.type,e),n);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),Ea(e,t,a,c,n);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),id(e,t,a,c,n);case 3:e:{if(sd(t),e===null)throw Error(i(387));a=t.pendingProps,d=t.memoizedState,c=d.element,wc(e,t),ps(t,a,null,n);var v=t.memoizedState;if(a=v.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){c=dr(Error(i(423)),t),t=od(e,t,a,n,c);break e}else if(a!==c){c=dr(Error(i(424)),t),t=od(e,t,a,n,c);break e}else for(ft=sn(t.stateNode.containerInfo.firstChild),dt=t,Ne=!0,bt=null,n=yc(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(or(),a===c){t=Vt(e,t,n);break e}et(e,t,a,n)}t=t.child}return t;case 5:return bc(t),e===null&&na(t),a=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,v=c.children,Ko(a,c)?v=null:d!==null&&Ko(a,d)&&(t.flags|=32),rd(e,t),et(e,t,v,n),t.child;case 6:return e===null&&na(t),null;case 13:return ad(e,t,n);case 4:return ca(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ar(t,null,a,n):et(e,t,a,n),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),Zc(e,t,a,c,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,d=t.memoizedProps,v=c.value,Se(ds,a._currentValue),a._currentValue=v,d!==null)if(kt(d.value,v)){if(d.children===c.children&&!rt.current){t=Vt(e,t,n);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var w=d.dependencies;if(w!==null){v=d.child;for(var b=w.firstContext;b!==null;){if(b.context===a){if(d.tag===1){b=qt(-1,n&-n),b.tag=2;var O=d.updateQueue;if(O!==null){O=O.shared;var D=O.pending;D===null?b.next=b:(b.next=D.next,D.next=b),O.pending=b}}d.lanes|=n,b=d.alternate,b!==null&&(b.lanes|=n),aa(d.return,n,t),w.lanes|=n;break}b=b.next}}else if(d.tag===10)v=d.type===t.type?null:d.child;else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=n,w=v.alternate,w!==null&&(w.lanes|=n),aa(v,n,t),v=d.sibling}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}et(e,t,c.children,n),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,ur(t,n),c=vt(c),a=a(c),t.flags|=1,et(e,t,a,n),t.child;case 14:return a=t.type,c=St(a,t.pendingProps),c=St(a.type,c),ed(e,t,a,c,n);case 15:return td(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),bs(e,t),t.tag=1,it(a)?(e=!0,ss(t)):e=!1,ur(t,n),Vc(t,a,c),ba(t,a,c,n),Ca(null,t,a,!0,e,n);case 19:return ud(e,t,n);case 22:return nd(e,t,n)}throw Error(i(156,t.tag))};function Id(e,t){return fu(e,t)}function hm(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,a){return new hm(e,t,n,a)}function Ka(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pm(e){if(typeof e=="function")return Ka(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Le)return 11;if(e===ae)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $s(e,t,n,a,c,d){var v=2;if(a=e,typeof e=="function")Ka(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case ne:return zn(n.children,c,d,t);case Z:v=8,c|=8;break;case q:return e=wt(12,n,t,c|2),e.elementType=q,e.lanes=d,e;case Ae:return e=wt(13,n,t,c),e.elementType=Ae,e.lanes=d,e;case K:return e=wt(19,n,t,c),e.elementType=K,e.lanes=d,e;case ue:return Ls(n,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:v=10;break e;case ge:v=9;break e;case Le:v=11;break e;case ae:v=14;break e;case H:v=16,a=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=wt(v,n,t,c),t.elementType=e,t.type=a,t.lanes=d,t}function zn(e,t,n,a){return e=wt(7,e,a,t),e.lanes=n,e}function Ls(e,t,n,a){return e=wt(22,e,a,t),e.elementType=ue,e.lanes=n,e.stateNode={isHidden:!1},e}function Ga(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function Ya(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mm(e,t,n,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Qa(e,t,n,a,c,d,v,w,b){return e=new mm(e,t,n,w,b),t===1?(t=1,d===!0&&(t|=8)):t=0,d=wt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ua(d),e}function gm(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function $d(e){if(!e)return an;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(it(n))return lc(e,n,t)}return t}function Ld(e,t,n,a,c,d,v,w,b){return e=Qa(n,a,!0,e,c,d,v,w,b),e.context=$d(null),n=e.current,a=tt(),c=pn(n),d=qt(a,c),d.callback=t??null,cn(n,d,c),e.current.lanes=c,Ur(e,c,a),at(e,a),e}function As(e,t,n,a){var c=t.current,d=tt(),v=pn(c);return n=$d(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(d,v),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=cn(c,t,v),e!==null&&(Ct(e,c,v,d),hs(e,c,v)),v}function zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ad(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ja(e,t){Ad(e,t),(e=e.alternate)&&Ad(e,t)}function vm(){return null}var zd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xa(e){this._internalRoot=e}Ds.prototype.render=Xa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));As(e,t,null,null)},Ds.prototype.unmount=Xa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){As(null,e,null,null)}),t[Ft]=null}};function Ds(e){this._internalRoot=e}Ds.prototype.unstable_scheduleHydration=function(e){if(e){var t=wu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&bu(e)}};function Za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ms(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dd(){}function ym(e,t,n,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var O=zs(v);d.call(O)}}var v=Ld(t,a,e,0,null,!1,!1,"",Dd);return e._reactRootContainer=v,e[Ft]=v.current,ti(e.nodeType===8?e.parentNode:e),$n(),v}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var w=a;a=function(){var O=zs(b);w.call(O)}}var b=Qa(e,0,!1,null,null,!1,!1,"",Dd);return e._reactRootContainer=b,e[Ft]=b.current,ti(e.nodeType===8?e.parentNode:e),$n(function(){As(t,b,n,a)}),b}function Fs(e,t,n,a,c){var d=n._reactRootContainer;if(d){var v=d;if(typeof c=="function"){var w=c;c=function(){var b=zs(v);w.call(b)}}As(t,v,e,c)}else v=ym(n,t,e,c,a);return zs(v)}yu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fr(t.pendingLanes);n!==0&&(bo(t,n|1),at(t,Ie()),(ye&6)===0&&(pr=Ie()+500,ln()))}break;case 13:$n(function(){var a=Ht(e,1);if(a!==null){var c=tt();Ct(a,e,1,c)}}),Ja(e,1)}},So=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var n=tt();Ct(t,e,134217728,n)}Ja(e,134217728)}},xu=function(e){if(e.tag===13){var t=pn(e),n=Ht(e,t);if(n!==null){var a=tt();Ct(n,e,t,a)}Ja(e,t)}},wu=function(){return _e},_u=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}},go=function(e,t,n){switch(t){case"input":if(ao(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var c=rs(a);if(!c)throw Error(i(90));Oi(a),ao(a,c)}}}break;case"textarea":Ql(e,n);break;case"select":t=n.value,t!=null&&qn(e,!!n.multiple,t,!1)}},su=Ha,ou=$n;var xm={usingClientEntryPoint:!1,Events:[ii,tr,rs,ru,iu,Ha]},yi={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wm={bundleType:yi.bundleType,version:yi.version,rendererPackageName:yi.rendererPackageName,rendererConfig:yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cu(e),e===null?null:e.stateNode},findFiberByHostInstance:yi.findFiberByHostInstance||vm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Us.isDisabled&&Us.supportsFiber)try{Di=Us.inject(wm),Lt=Us}catch{}}return lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xm,lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Za(t))throw Error(i(200));return gm(e,t,null,n)},lt.createRoot=function(e,t){if(!Za(e))throw Error(i(299));var n=!1,a="",c=zd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Qa(e,1,!1,null,null,n,!1,a,c),e[Ft]=t.current,ti(e.nodeType===8?e.parentNode:e),new Xa(t)},lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=cu(t),e=e===null?null:e.stateNode,e},lt.flushSync=function(e){return $n(e)},lt.hydrate=function(e,t,n){if(!Ms(t))throw Error(i(200));return Fs(null,e,t,!0,n)},lt.hydrateRoot=function(e,t,n){if(!Za(e))throw Error(i(405));var a=n!=null&&n.hydratedSources||null,c=!1,d="",v=zd;if(n!=null&&(n.unstable_strictMode===!0&&(c=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),t=Ld(t,null,e,1,n??null,c,!1,d,v),e[Ft]=t.current,ti(e),a)for(e=0;e<a.length;e++)n=a[e],c=n._getVersion,c=c(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,c]:t.mutableSourceEagerHydrationData.push(n,c);return new Ds(t)},lt.render=function(e,t,n){if(!Ms(t))throw Error(i(200));return Fs(null,e,t,!1,n)},lt.unmountComponentAtNode=function(e){if(!Ms(e))throw Error(i(40));return e._reactRootContainer?($n(function(){Fs(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1},lt.unstable_batchedUpdates=Ha,lt.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Ms(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Fs(e,t,n,!1,a)},lt.version="18.3.1-next-f1338f8080-20240426",lt}var Vd;function Pm(){if(Vd)return nl.exports;Vd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),nl.exports=Nm(),nl.exports}var Kd;function Rm(){if(Kd)return Bs;Kd=1;var s=Pm();return Bs.createRoot=s.createRoot,Bs.hydrateRoot=s.hydrateRoot,Bs}var Tm=Rm();const Om=Nl(Tm);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gd="popstate";function Im(s={}){function r(o,l){let{pathname:u,search:f,hash:p}=o.location;return gl("",{pathname:u,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(o,l){return typeof l=="string"?l:Ei(l)}return Lm(r,i,null,s)}function Pe(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Tt(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function $m(){return Math.random().toString(36).substring(2,10)}function Yd(s,r){return{usr:s.state,key:s.key,idx:r}}function gl(s,r,i=null,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?Rr(r):r,state:i,key:r&&r.key||o||$m()}}function Ei({pathname:s="/",search:r="",hash:i=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Rr(s){let r={};if(s){let i=s.indexOf("#");i>=0&&(r.hash=s.substring(i),s=s.substring(0,i));let o=s.indexOf("?");o>=0&&(r.search=s.substring(o),s=s.substring(0,o)),s&&(r.pathname=s)}return r}function Lm(s,r,i,o={}){let{window:l=document.defaultView,v5Compat:u=!1}=o,f=l.history,p="POP",m=null,g=y();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function y(){return(f.state||{idx:null}).idx}function x(){p="POP";let T=y(),I=T==null?null:T-g;g=T,m&&m({action:p,location:R.location,delta:I})}function k(T,I){p="PUSH";let Y=gl(R.location,T,I);g=y()+1;let L=Yd(Y,g),W=R.createHref(Y);try{f.pushState(L,"",W)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;l.location.assign(W)}u&&m&&m({action:p,location:R.location,delta:1})}function j(T,I){p="REPLACE";let Y=gl(R.location,T,I);g=y();let L=Yd(Y,g),W=R.createHref(Y);f.replaceState(L,"",W),u&&m&&m({action:p,location:R.location,delta:0})}function N(T){return Am(T)}let R={get action(){return p},get location(){return s(l,f)},listen(T){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Gd,x),m=T,()=>{l.removeEventListener(Gd,x),m=null}},createHref(T){return r(l,T)},createURL:N,encodeLocation(T){let I=N(T);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:k,replace:j,go(T){return f.go(T)}};return R}function Am(s,r=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(i,"No window.location.(origin|href) available to create URL");let o=typeof s=="string"?s:Ei(s);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function Df(s,r,i="/"){return zm(s,r,i,!1)}function zm(s,r,i,o){let l=typeof r=="string"?Rr(r):r,u=Jt(l.pathname||"/",i);if(u==null)return null;let f=Mf(s);Dm(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=Ym(u);p=Km(f[m],g,o)}return p}function Mf(s,r=[],i=[],o=""){let l=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(Pe(m.relativePath.startsWith(o),`Absolute route path "${m.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(o.length));let g=Qt([o,m.relativePath]),y=i.concat(m);u.children&&u.children.length>0&&(Pe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Mf(u.children,r,y,g)),!(u.path==null&&!u.index)&&r.push({path:g,score:qm(g,u.index),routesMeta:y})};return s.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of Ff(u.path))l(u,f,p)}),r}function Ff(s){let r=s.split("/");if(r.length===0)return[];let[i,...o]=r,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let f=Ff(o.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),l&&p.push(...f),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function Dm(s){s.sort((r,i)=>r.score!==i.score?i.score-r.score:Vm(r.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var Mm=/^:[\w-]+$/,Fm=3,Um=2,Bm=1,Wm=10,Hm=-2,Qd=s=>s==="*";function qm(s,r){let i=s.split("/"),o=i.length;return i.some(Qd)&&(o+=Hm),r&&(o+=Um),i.filter(l=>!Qd(l)).reduce((l,u)=>l+(Mm.test(u)?Fm:u===""?Bm:Wm),o)}function Vm(s,r){return s.length===r.length&&s.slice(0,-1).every((o,l)=>o===r[l])?s[s.length-1]-r[r.length-1]:0}function Km(s,r,i=!1){let{routesMeta:o}=s,l={},u="/",f=[];for(let p=0;p<o.length;++p){let m=o[p],g=p===o.length-1,y=u==="/"?r:r.slice(u.length)||"/",x=Js({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),k=m.route;if(!x&&g&&i&&!o[o.length-1].route.index&&(x=Js({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!x)return null;Object.assign(l,x.params),f.push({params:l,pathname:Qt([u,x.pathname]),pathnameBase:Zm(Qt([u,x.pathnameBase])),route:k}),x.pathnameBase!=="/"&&(u=Qt([u,x.pathnameBase]))}return f}function Js(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,o]=Gm(s.path,s.caseSensitive,s.end),l=r.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:o.reduce((g,{paramName:y,isOptional:x},k)=>{if(y==="*"){let N=p[k]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const j=p[k];return x&&!j?g[y]=void 0:g[y]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:s}}function Gm(s,r=!1,i=!0){Tt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let o=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(o.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function Ym(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Tt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function Jt(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,o=s.charAt(i);return o&&o!=="/"?null:s.slice(i)||"/"}function Qm(s,r="/"){let{pathname:i,search:o="",hash:l=""}=typeof s=="string"?Rr(s):s;return{pathname:i?i.startsWith("/")?i:Jm(i,r):r,search:eg(o),hash:tg(l)}}function Jm(s,r){let i=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function sl(s,r,i,o){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xm(s){return s.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function Rl(s){let r=Xm(s);return r.map((i,o)=>o===r.length-1?i.pathname:i.pathnameBase)}function Tl(s,r,i,o=!1){let l;typeof s=="string"?l=Rr(s):(l={...s},Pe(!l.pathname||!l.pathname.includes("?"),sl("?","pathname","search",l)),Pe(!l.pathname||!l.pathname.includes("#"),sl("#","pathname","hash",l)),Pe(!l.search||!l.search.includes("#"),sl("#","search","hash",l)));let u=s===""||l.pathname==="",f=u?"/":l.pathname,p;if(f==null)p=i;else{let x=r.length-1;if(!o&&f.startsWith("..")){let k=f.split("/");for(;k[0]==="..";)k.shift(),x-=1;l.pathname=k.join("/")}p=x>=0?r[x]:"/"}let m=Qm(l,p),g=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Qt=s=>s.join("/").replace(/\/\/+/g,"/"),Zm=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),eg=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,tg=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function ng(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Uf=["POST","PUT","PATCH","DELETE"];new Set(Uf);var rg=["GET",...Uf];new Set(rg);var Tr=_.createContext(null);Tr.displayName="DataRouter";var no=_.createContext(null);no.displayName="DataRouterState";_.createContext(!1);var Bf=_.createContext({isTransitioning:!1});Bf.displayName="ViewTransition";var ig=_.createContext(new Map);ig.displayName="Fetchers";var sg=_.createContext(null);sg.displayName="Await";var Ot=_.createContext(null);Ot.displayName="Navigation";var Ni=_.createContext(null);Ni.displayName="Location";var It=_.createContext({outlet:null,matches:[],isDataRoute:!1});It.displayName="Route";var Ol=_.createContext(null);Ol.displayName="RouteError";function og(s,{relative:r}={}){Pe(Or(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=_.useContext(Ot),{hash:l,pathname:u,search:f}=Pi(s,{relative:r}),p=u;return i!=="/"&&(p=u==="/"?i:Qt([i,u])),o.createHref({pathname:p,search:f,hash:l})}function Or(){return _.useContext(Ni)!=null}function $t(){return Pe(Or(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Ni).location}var Wf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hf(s){_.useContext(Ot).static||_.useLayoutEffect(s)}function nt(){let{isDataRoute:s}=_.useContext(It);return s?wg():ag()}function ag(){Pe(Or(),"useNavigate() may be used only in the context of a <Router> component.");let s=_.useContext(Tr),{basename:r,navigator:i}=_.useContext(Ot),{matches:o}=_.useContext(It),{pathname:l}=$t(),u=JSON.stringify(Rl(o)),f=_.useRef(!1);return Hf(()=>{f.current=!0}),_.useCallback((m,g={})=>{if(Tt(f.current,Wf),!f.current)return;if(typeof m=="number"){i.go(m);return}let y=Tl(m,JSON.parse(u),l,g.relative==="path");s==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:Qt([r,y.pathname])),(g.replace?i.replace:i.push)(y,g.state,g)},[r,i,u,l,s])}_.createContext(null);function lg(){let{matches:s}=_.useContext(It),r=s[s.length-1];return r?r.params:{}}function Pi(s,{relative:r}={}){let{matches:i}=_.useContext(It),{pathname:o}=$t(),l=JSON.stringify(Rl(i));return _.useMemo(()=>Tl(s,JSON.parse(l),o,r==="path"),[s,l,o,r])}function ug(s,r){return qf(s,r)}function qf(s,r,i,o){Pe(Or(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=_.useContext(Ot),{matches:u}=_.useContext(It),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",y=f&&f.route;{let I=y&&y.path||"";Vf(m,!y||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let x=$t(),k;if(r){let I=typeof r=="string"?Rr(r):r;Pe(g==="/"||I.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${I.pathname}" was given in the \`location\` prop.`),k=I}else k=x;let j=k.pathname||"/",N=j;if(g!=="/"){let I=g.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(I.length).join("/")}let R=Df(s,{pathname:N});Tt(y||R!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Tt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=pg(R&&R.map(I=>Object.assign({},I,{params:Object.assign({},p,I.params),pathname:Qt([g,l.encodeLocation?l.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?g:Qt([g,l.encodeLocation?l.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),u,i,o);return r&&T?_.createElement(Ni.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},T):T}function cg(){let s=xg(),r=ng(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:u},"ErrorBoundary")," or"," ",_.createElement("code",{style:u},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},r),i?_.createElement("pre",{style:l},i):null,f)}var dg=_.createElement(cg,null),fg=class extends _.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?_.createElement(It.Provider,{value:this.props.routeContext},_.createElement(Ol.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hg({routeContext:s,match:r,children:i}){let o=_.useContext(Tr);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(It.Provider,{value:s},i)}function pg(s,r=[],i=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(r.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let l=s,u=i?.errors;if(u!=null){let m=l.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Pe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,p=-1;if(i)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:y,errors:x}=i,k=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||k){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,g,y)=>{let x,k=!1,j=null,N=null;i&&(x=u&&g.route.id?u[g.route.id]:void 0,j=g.route.errorElement||dg,f&&(p<0&&y===0?(Vf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,N=null):p===y&&(k=!0,N=g.route.hydrateFallbackElement||null)));let R=r.concat(l.slice(0,y+1)),T=()=>{let I;return x?I=j:k?I=N:g.route.Component?I=_.createElement(g.route.Component,null):g.route.element?I=g.route.element:I=m,_.createElement(hg,{match:g,routeContext:{outlet:m,matches:R,isDataRoute:i!=null},children:I})};return i&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?_.createElement(fg,{location:i.location,revalidation:i.revalidation,component:j,error:x,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):T()},null)}function Il(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mg(s){let r=_.useContext(Tr);return Pe(r,Il(s)),r}function gg(s){let r=_.useContext(no);return Pe(r,Il(s)),r}function vg(s){let r=_.useContext(It);return Pe(r,Il(s)),r}function $l(s){let r=vg(s),i=r.matches[r.matches.length-1];return Pe(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function yg(){return $l("useRouteId")}function xg(){let s=_.useContext(Ol),r=gg("useRouteError"),i=$l("useRouteError");return s!==void 0?s:r.errors?.[i]}function wg(){let{router:s}=mg("useNavigate"),r=$l("useNavigate"),i=_.useRef(!1);return Hf(()=>{i.current=!0}),_.useCallback(async(l,u={})=>{Tt(i.current,Wf),i.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:r,...u}))},[s,r])}var Jd={};function Vf(s,r,i){!r&&!Jd[s]&&(Jd[s]=!0,Tt(!1,i))}_.memo(_g);function _g({routes:s,future:r,state:i}){return qf(s,void 0,i,r)}function Nt({to:s,replace:r,state:i,relative:o}){Pe(Or(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=_.useContext(Ot);Tt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=_.useContext(It),{pathname:f}=$t(),p=nt(),m=Tl(s,Rl(u),f,o==="path"),g=JSON.stringify(m);return _.useEffect(()=>{p(JSON.parse(g),{replace:r,state:i,relative:o})},[p,g,o,r,i]),null}function Ke(s){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kg({basename:s="/",children:r=null,location:i,navigationType:o="POP",navigator:l,static:u=!1}){Pe(!Or(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),p=_.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof i=="string"&&(i=Rr(i));let{pathname:m="/",search:g="",hash:y="",state:x=null,key:k="default"}=i,j=_.useMemo(()=>{let N=Jt(m,f);return N==null?null:{location:{pathname:N,search:g,hash:y,state:x,key:k},navigationType:o}},[f,m,g,y,x,k,o]);return Tt(j!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:_.createElement(Ot.Provider,{value:p},_.createElement(Ni.Provider,{children:r,value:j}))}function bg({children:s,location:r}){return ug(vl(s),r)}function vl(s,r=[]){let i=[];return _.Children.forEach(s,(o,l)=>{if(!_.isValidElement(o))return;let u=[...r,l];if(o.type===_.Fragment){i.push.apply(i,vl(o.props.children,u));return}Pe(o.type===Ke,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!o.props.index||!o.props.children,"An index route cannot have child routes.");let f={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=vl(o.props.children,u)),i.push(f)}),i}var Ys="get",Qs="application/x-www-form-urlencoded";function ro(s){return s!=null&&typeof s.tagName=="string"}function Sg(s){return ro(s)&&s.tagName.toLowerCase()==="button"}function jg(s){return ro(s)&&s.tagName.toLowerCase()==="form"}function Eg(s){return ro(s)&&s.tagName.toLowerCase()==="input"}function Cg(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Ng(s,r){return s.button===0&&(!r||r==="_self")&&!Cg(s)}var Ws=null;function Pg(){if(Ws===null)try{new FormData(document.createElement("form"),0),Ws=!1}catch{Ws=!0}return Ws}var Rg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ol(s){return s!=null&&!Rg.has(s)?(Tt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qs}"`),null):s}function Tg(s,r){let i,o,l,u,f;if(jg(s)){let p=s.getAttribute("action");o=p?Jt(p,r):null,i=s.getAttribute("method")||Ys,l=ol(s.getAttribute("enctype"))||Qs,u=new FormData(s)}else if(Sg(s)||Eg(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||p.getAttribute("action");if(o=m?Jt(m,r):null,i=s.getAttribute("formmethod")||p.getAttribute("method")||Ys,l=ol(s.getAttribute("formenctype"))||ol(p.getAttribute("enctype"))||Qs,u=new FormData(p,s),!Pg()){let{name:g,type:y,value:x}=s;if(y==="image"){let k=g?`${g}.`:"";u.append(`${k}x`,"0"),u.append(`${k}y`,"0")}else g&&u.append(g,x)}}else{if(ro(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ys,o=null,l=Qs,f=s}return u&&l==="text/plain"&&(f=u,u=void 0),{action:o,method:i.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ll(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Og(s,r,i){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return o.pathname==="/"?o.pathname=`_root.${i}`:r&&Jt(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function Ig(s,r){if(s.id in r)return r[s.id];try{let i=await import(s.module);return r[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $g(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Lg(s,r,i){let o=await Promise.all(s.map(async l=>{let u=r.routes[l.route.id];if(u){let f=await Ig(u,i);return f.links?f.links():[]}return[]}));return Mg(o.flat(1).filter($g).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Xd(s,r,i,o,l,u){let f=(m,g)=>i[g]?m.route.id!==i[g].route.id:!0,p=(m,g)=>i[g].pathname!==m.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==m.params["*"];return u==="assets"?r.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?r.filter((m,g)=>{let y=o.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Ag(s,r,{includeHydrateFallback:i}={}){return zg(s.map(o=>{let l=r.routes[o.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function zg(s){return[...new Set(s)]}function Dg(s){let r={},i=Object.keys(s).sort();for(let o of i)r[o]=s[o];return r}function Mg(s,r){let i=new Set;return new Set(r),s.reduce((o,l)=>{let u=JSON.stringify(Dg(l));return i.has(u)||(i.add(u),o.push({key:u,link:l})),o},[])}function Kf(){let s=_.useContext(Tr);return Ll(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Fg(){let s=_.useContext(no);return Ll(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Al=_.createContext(void 0);Al.displayName="FrameworkContext";function Gf(){let s=_.useContext(Al);return Ll(s,"You must render this element inside a <HydratedRouter> element"),s}function Ug(s,r){let i=_.useContext(Al),[o,l]=_.useState(!1),[u,f]=_.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:x}=r,k=_.useRef(null);_.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let R=I=>{I.forEach(Y=>{f(Y.isIntersecting)})},T=new IntersectionObserver(R,{threshold:.5});return k.current&&T.observe(k.current),()=>{T.disconnect()}}},[s]),_.useEffect(()=>{if(o){let R=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(R)}}},[o]);let j=()=>{l(!0)},N=()=>{l(!1),f(!1)};return i?s!=="intent"?[u,k,{}]:[u,k,{onFocus:wi(p,j),onBlur:wi(m,N),onMouseEnter:wi(g,j),onMouseLeave:wi(y,N),onTouchStart:wi(x,j)}]:[!1,k,{}]}function wi(s,r){return i=>{s&&s(i),i.defaultPrevented||r(i)}}function Bg({page:s,...r}){let{router:i}=Kf(),o=_.useMemo(()=>Df(i.routes,s,i.basename),[i.routes,s,i.basename]);return o?_.createElement(Hg,{page:s,matches:o,...r}):null}function Wg(s){let{manifest:r,routeModules:i}=Gf(),[o,l]=_.useState([]);return _.useEffect(()=>{let u=!1;return Lg(s,r,i).then(f=>{u||l(f)}),()=>{u=!0}},[s,r,i]),o}function Hg({page:s,matches:r,...i}){let o=$t(),{manifest:l,routeModules:u}=Gf(),{basename:f}=Kf(),{loaderData:p,matches:m}=Fg(),g=_.useMemo(()=>Xd(s,r,m,l,o,"data"),[s,r,m,l,o]),y=_.useMemo(()=>Xd(s,r,m,l,o,"assets"),[s,r,m,l,o]),x=_.useMemo(()=>{if(s===o.pathname+o.search+o.hash)return[];let N=new Set,R=!1;if(r.forEach(I=>{let Y=l.routes[I.route.id];!Y||!Y.hasLoader||(!g.some(L=>L.route.id===I.route.id)&&I.route.id in p&&u[I.route.id]?.shouldRevalidate||Y.hasClientLoader?R=!0:N.add(I.route.id))}),N.size===0)return[];let T=Og(s,f,"data");return R&&N.size>0&&T.searchParams.set("_routes",r.filter(I=>N.has(I.route.id)).map(I=>I.route.id).join(",")),[T.pathname+T.search]},[f,p,o,l,g,r,s,u]),k=_.useMemo(()=>Ag(y,l),[y,l]),j=Wg(y);return _.createElement(_.Fragment,null,x.map(N=>_.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),k.map(N=>_.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),j.map(({key:N,link:R})=>_.createElement("link",{key:N,...R})))}function qg(...s){return r=>{s.forEach(i=>{typeof i=="function"?i(r):i!=null&&(i.current=r)})}}var Yf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yf&&(window.__reactRouterVersion="7.7.0")}catch{}function Vg({basename:s,children:r,window:i}){let o=_.useRef();o.current==null&&(o.current=Im({window:i,v5Compat:!0}));let l=o.current,[u,f]=_.useState({action:l.action,location:l.location}),p=_.useCallback(m=>{_.startTransition(()=>f(m))},[f]);return _.useLayoutEffect(()=>l.listen(p),[l,p]),_.createElement(kg,{basename:s,children:r,location:u.location,navigationType:u.action,navigator:l})}var Qf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nr=_.forwardRef(function({onClick:r,discover:i="render",prefetch:o="none",relative:l,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:y,viewTransition:x,...k},j){let{basename:N}=_.useContext(Ot),R=typeof g=="string"&&Qf.test(g),T,I=!1;if(typeof g=="string"&&R&&(T=g,Yf))try{let q=new URL(window.location.href),V=g.startsWith("//")?new URL(q.protocol+g):new URL(g),ge=Jt(V.pathname,N);V.origin===q.origin&&ge!=null?g=ge+V.search+V.hash:I=!0}catch{Tt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=og(g,{relative:l}),[L,W,$]=Ug(o,k),M=Yg(g,{replace:f,state:p,target:m,preventScrollReset:y,relative:l,viewTransition:x});function ne(q){r&&r(q),q.defaultPrevented||M(q)}let Z=_.createElement("a",{...k,...$,href:T||Y,onClick:I||u?r:ne,ref:qg(j,W),target:m,"data-discover":!R&&i==="render"?"true":void 0});return L&&!R?_.createElement(_.Fragment,null,Z,_.createElement(Bg,{page:Y})):Z});Nr.displayName="Link";var yl=_.forwardRef(function({"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:u,to:f,viewTransition:p,children:m,...g},y){let x=Pi(f,{relative:g.relative}),k=$t(),j=_.useContext(no),{navigator:N,basename:R}=_.useContext(Ot),T=j!=null&&e0(x)&&p===!0,I=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,Y=k.pathname,L=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(Y=Y.toLowerCase(),L=L?L.toLowerCase():null,I=I.toLowerCase()),L&&R&&(L=Jt(L,R)||L);const W=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let $=Y===I||!l&&Y.startsWith(I)&&Y.charAt(W)==="/",M=L!=null&&(L===I||!l&&L.startsWith(I)&&L.charAt(I.length)==="/"),ne={isActive:$,isPending:M,isTransitioning:T},Z=$?r:void 0,q;typeof o=="function"?q=o(ne):q=[o,$?"active":null,M?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(ne):u;return _.createElement(Nr,{...g,"aria-current":Z,className:q,ref:y,style:V,to:f,viewTransition:p},typeof m=="function"?m(ne):m)});yl.displayName="NavLink";var Kg=_.forwardRef(({discover:s="render",fetcherKey:r,navigate:i,reloadDocument:o,replace:l,state:u,method:f=Ys,action:p,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:x,...k},j)=>{let N=Xg(),R=Zg(p,{relative:g}),T=f.toLowerCase()==="get"?"get":"post",I=typeof p=="string"&&Qf.test(p),Y=L=>{if(m&&m(L),L.defaultPrevented)return;L.preventDefault();let W=L.nativeEvent.submitter,$=W?.getAttribute("formmethod")||f;N(W||L.currentTarget,{fetcherKey:r,method:$,navigate:i,replace:l,state:u,relative:g,preventScrollReset:y,viewTransition:x})};return _.createElement("form",{ref:j,method:T,action:R,onSubmit:o?m:Y,...k,"data-discover":!I&&s==="render"?"true":void 0})});Kg.displayName="Form";function Gg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jf(s){let r=_.useContext(Tr);return Pe(r,Gg(s)),r}function Yg(s,{target:r,replace:i,state:o,preventScrollReset:l,relative:u,viewTransition:f}={}){let p=nt(),m=$t(),g=Pi(s,{relative:u});return _.useCallback(y=>{if(Ng(y,r)){y.preventDefault();let x=i!==void 0?i:Ei(m)===Ei(g);p(s,{replace:x,state:o,preventScrollReset:l,relative:u,viewTransition:f})}},[m,p,g,i,o,r,s,l,u,f])}var Qg=0,Jg=()=>`__${String(++Qg)}__`;function Xg(){let{router:s}=Jf("useSubmit"),{basename:r}=_.useContext(Ot),i=yg();return _.useCallback(async(o,l={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=Tg(o,r);if(l.navigate===!1){let y=l.fetcherKey||Jg();await s.fetch(y,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||f,formEncType:l.encType||p,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||f,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,r,i])}function Zg(s,{relative:r}={}){let{basename:i}=_.useContext(Ot),o=_.useContext(It);Pe(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),u={...Pi(s||".",{relative:r})},f=$t();if(s==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(y=>y==="")){p.delete("index"),m.filter(x=>x).forEach(x=>p.append("index",x));let y=p.toString();u.search=y?`?${y}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Qt([i,u.pathname])),Ei(u)}function e0(s,r={}){let i=_.useContext(Bf);Pe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Jf("useViewTransitionState"),l=Pi(s,{relative:r.relative});if(!i.isTransitioning)return!1;let u=Jt(i.currentLocation.pathname,o)||i.currentLocation.pathname,f=Jt(i.nextLocation.pathname,o)||i.nextLocation.pathname;return Js(l.pathname,f)!=null||Js(l.pathname,u)!=null}const t0="modulepreload",n0=function(s){return"/"+s},Zd={},Ri=function(r,i,o){let l=Promise.resolve();if(i&&i.length>0){let g=function(y){return Promise.all(y.map(x=>Promise.resolve(x).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};var f=g;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=p?.nonce||p?.getAttribute("nonce");l=g(i.map(y=>{if(y=n0(y),y in Zd)return;Zd[y]=!0;const x=y.endsWith(".css"),k=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${k}`))return;const j=document.createElement("link");if(j.rel=x?"stylesheet":t0,x||(j.as="script"),j.crossOrigin="",j.href=y,m&&j.setAttribute("nonce",m),document.head.appendChild(j),x)return new Promise((N,R)=>{j.addEventListener("load",N),j.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(p){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=p,window.dispatchEvent(m),!m.defaultPrevented)throw p}return l.then(p=>{for(const m of p||[])m.status==="rejected"&&u(m.reason);return r().catch(u)})},r0=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...i)=>Ri(async()=>{const{default:o}=await Promise.resolve().then(()=>Ir);return{default:o}},[]).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)};class zl extends Error{constructor(r,i="FunctionsError",o){super(r),this.name=i,this.context=o}}class i0 extends zl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class ef extends zl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class tf extends zl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var xl;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(xl||(xl={}));var s0=function(s,r,i,o){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(y){try{g(o.next(y))}catch(x){f(x)}}function m(y){try{g(o.throw(y))}catch(x){f(x)}}function g(y){y.done?u(y.value):l(y.value).then(p,m)}g((o=o.apply(s,r||[])).next())})};class o0{constructor(r,{headers:i={},customFetch:o,region:l=xl.Any}={}){this.url=r,this.headers=i,this.region=l,this.fetch=r0(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,i={}){var o;return s0(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:f}=i;let p={},{region:m}=i;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(p["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let y;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(p["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(p["Content-Type"]="application/json",y=JSON.stringify(f)));const x=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:y}).catch(R=>{throw new i0(R)}),k=x.headers.get("x-relay-error");if(k&&k==="true")throw new ef(x);if(!x.ok)throw new tf(x);let j=((o=x.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),N;return j==="application/json"?N=yield x.json():j==="application/octet-stream"?N=yield x.blob():j==="text/event-stream"?N=x:j==="multipart/form-data"?N=yield x.formData():N=yield x.text(),{data:N,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof tf||l instanceof ef?l.context:void 0}}})}}var We={},gr={},vr={},yr={},xr={},wr={},a0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pr=a0();const l0=Pr.fetch,Xf=Pr.fetch.bind(Pr),Zf=Pr.Headers,u0=Pr.Request,c0=Pr.Response,Ir=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zf,Request:u0,Response:c0,default:Xf,fetch:l0},Symbol.toStringTag,{value:"Module"})),d0=km(Ir);var Hs={},nf;function eh(){if(nf)return Hs;nf=1,Object.defineProperty(Hs,"__esModule",{value:!0});class s extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Hs.default=s,Hs}var rf;function th(){if(rf)return wr;rf=1;var s=wr&&wr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(wr,"__esModule",{value:!0});const r=s(d0),i=s(eh());class o{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,f){return this.headers=Object.assign({},this.headers),this.headers[u]=f,this}then(u,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let m=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,x,k;let j=null,N=null,R=null,T=g.status,I=g.statusText;if(g.ok){if(this.method!=="HEAD"){const $=await g.text();$===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=$:N=JSON.parse($))}const L=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),W=(x=g.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");L&&W&&W.length>1&&(R=parseInt(W[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(j={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,R=null,T=406,I="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const L=await g.text();try{j=JSON.parse(L),Array.isArray(j)&&g.status===404&&(N=[],j=null,T=200,I="OK")}catch{g.status===404&&L===""?(T=204,I="No Content"):j={message:L}}if(j&&this.isMaybeSingle&&(!((k=j?.details)===null||k===void 0)&&k.includes("0 rows"))&&(j=null,T=200,I="OK"),j&&this.shouldThrowOnError)throw new i.default(j)}return{error:j,data:N,count:R,status:T,statusText:I}});return this.shouldThrowOnError||(m=m.catch(g=>{var y,x,k;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(x=g?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(k=g?.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,f)}returns(){return this}overrideTypes(){return this}}return wr.default=o,wr}var sf;function nh(){if(sf)return xr;sf=1;var s=xr&&xr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xr,"__esModule",{value:!0});const r=s(th());class i extends r.default{select(l){let u=!1;const f=(l??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:f,foreignTable:p,referencedTable:m=p}={}){const g=m?`${m}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${l}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:f=u}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,u,{foreignTable:f,referencedTable:p=f}={}){const m=typeof p>"u"?"offset":`${p}.offset`,g=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(g,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:f=!1,buffers:p=!1,wal:m=!1,format:g="text"}={}){var y;const x=[l?"analyze":null,u?"verbose":null,f?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),k=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${k}"; options=${x};`,g==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return xr.default=i,xr}var of;function Dl(){if(of)return yr;of=1;var s=yr&&yr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(yr,"__esModule",{value:!0});const r=s(nh());class i extends r.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const f=Array.from(new Set(u)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:f,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const g=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${m}fts${g}.${u}`),this}match(l){return Object.entries(l).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(l,u,f){return this.url.searchParams.append(l,`not.${u}.${f}`),this}or(l,{foreignTable:u,referencedTable:f=u}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${l})`),this}filter(l,u,f){return this.url.searchParams.append(l,`${u}.${f}`),this}}return yr.default=i,yr}var af;function rh(){if(af)return vr;af=1;var s=vr&&vr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(vr,"__esModule",{value:!0});const r=s(Dl());class i{constructor(l,{headers:u={},schema:f,fetch:p}){this.url=l,this.headers=u,this.schema=f,this.fetch=p}select(l,{head:u=!1,count:f}={}){const p=u?"HEAD":"GET";let m=!1;const g=(l??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",g),f&&(this.headers.Prefer=`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:f=!0}={}){const p="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(l)){const g=l.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(g.length>0){const y=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:f=!1,count:p,defaultToNull:m=!0}={}){const g="POST",y=[`resolution=${f?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&y.push(this.headers.Prefer),p&&y.push(`count=${p}`),m||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(l)){const x=l.reduce((k,j)=>k.concat(Object.keys(j)),[]);if(x.length>0){const k=[...new Set(x)].map(j=>`"${j}"`);this.url.searchParams.set("columns",k.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const f="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),this.headers.Prefer=p.join(","),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",f=[];return l&&f.push(`count=${l}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return vr.default=i,vr}var _i={},ki={},lf;function f0(){return lf||(lf=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.version=void 0,ki.version="0.0.0-automated"),ki}var uf;function h0(){if(uf)return _i;uf=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.DEFAULT_HEADERS=void 0;const s=f0();return _i.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},_i}var cf;function p0(){if(cf)return gr;cf=1;var s=gr&&gr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(gr,"__esModule",{value:!0});const r=s(rh()),i=s(Dl()),o=h0();class l{constructor(f,{headers:p={},schema:m,fetch:g}={}){this.url=f,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),p),this.schemaName=m,this.fetch=g}from(f){const p=new URL(`${this.url}/${f}`);return new r.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new l(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,p={},{head:m=!1,get:g=!1,count:y}={}){let x;const k=new URL(`${this.url}/rpc/${f}`);let j;m||g?(x=m?"HEAD":"GET",Object.entries(p).filter(([R,T])=>T!==void 0).map(([R,T])=>[R,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([R,T])=>{k.searchParams.append(R,T)})):(x="POST",j=p);const N=Object.assign({},this.headers);return y&&(N.Prefer=`count=${y}`),new i.default({method:x,url:k,headers:N,schema:this.schemaName,body:j,fetch:this.fetch,allowEmpty:!1})}}return gr.default=l,gr}var df;function m0(){if(df)return We;df=1;var s=We&&We.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(We,"__esModule",{value:!0}),We.PostgrestError=We.PostgrestBuilder=We.PostgrestTransformBuilder=We.PostgrestFilterBuilder=We.PostgrestQueryBuilder=We.PostgrestClient=void 0;const r=s(p0());We.PostgrestClient=r.default;const i=s(rh());We.PostgrestQueryBuilder=i.default;const o=s(Dl());We.PostgrestFilterBuilder=o.default;const l=s(nh());We.PostgrestTransformBuilder=l.default;const u=s(th());We.PostgrestBuilder=u.default;const f=s(eh());return We.PostgrestError=f.default,We.default={PostgrestClient:r.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:f.default},We}var g0=m0();const v0=Nl(g0),{PostgrestClient:y0,PostgrestQueryBuilder:$x,PostgrestFilterBuilder:Lx,PostgrestTransformBuilder:Ax,PostgrestBuilder:zx,PostgrestError:Dx}=v0;function x0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const w0=x0(),_0="2.11.15",k0=`realtime-js/${_0}`,b0="1.0.0",ih=1e4,S0=1e3;var Si;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Si||(Si={}));var Xe;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Xe||(Xe={}));var Rt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Rt||(Rt={}));var wl;(function(s){s.websocket="websocket"})(wl||(wl={}));var Bn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Bn||(Bn={}));class j0{constructor(){this.HEADER_LENGTH=1}decode(r,i){return r.constructor===ArrayBuffer?i(this._binaryDecode(r)):i(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const i=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,i,o)}_decodeBroadcast(r,i,o){const l=i.getUint8(1),u=i.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(r.slice(f,f+l));f=f+l;const m=o.decode(r.slice(f,f+u));f=f+u;const g=JSON.parse(o.decode(r.slice(f,r.byteLength)));return{ref:null,topic:p,event:m,payload:g}}}class sh{constructor(r,i){this.callback=r,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(je||(je={}));const ff=(s,r,i={})=>{var o;const l=(o=i.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((u,f)=>(u[f]=E0(f,s,r,l),u),{})},E0=(s,r,i,o)=>{const l=r.find(p=>p.name===s),u=l?.type,f=i[s];return u&&!o.includes(u)?oh(u,f):_l(f)},oh=(s,r)=>{if(s.charAt(0)==="_"){const i=s.slice(1,s.length);return R0(r,i)}switch(s){case je.bool:return C0(r);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return N0(r);case je.json:case je.jsonb:return P0(r);case je.timestamp:return T0(r);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return _l(r);default:return _l(r)}},_l=s=>s,C0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},N0=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},P0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(r){return console.log(`JSON parse error: ${r}`),s}return s},R0=(s,r)=>{if(typeof s!="string")return s;const i=s.length-1,o=s[i];if(s[0]==="{"&&o==="}"){let u;const f=s.slice(1,i);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(p=>oh(r,p))}return s},T0=s=>typeof s=="string"?s.replace(" ","T"):s,ah=s=>{let r=s;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class al{constructor(r,i,o={},l=ih){this.channel=r,this.event=i,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,i){var o;return this._hasReceived(r)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:i}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(i))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var hf;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(hf||(hf={}));class ji{constructor(r,i){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ji.syncState(this.state,l,u,f),this.pendingDiffs.forEach(m=>{this.state=ji.syncDiff(this.state,m,u,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ji.syncDiff(this.state,l,u,f),p())}),this.onJoin((l,u,f)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:f})}),this.onLeave((l,u,f)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,i,o,l){const u=this.cloneDeep(r),f=this.transformState(i),p={},m={};return this.map(u,(g,y)=>{f[g]||(m[g]=y)}),this.map(f,(g,y)=>{const x=u[g];if(x){const k=y.map(T=>T.presence_ref),j=x.map(T=>T.presence_ref),N=y.filter(T=>j.indexOf(T.presence_ref)<0),R=x.filter(T=>k.indexOf(T.presence_ref)<0);N.length>0&&(p[g]=N),R.length>0&&(m[g]=R)}else p[g]=y}),this.syncDiff(u,{joins:p,leaves:m},o,l)}static syncDiff(r,i,o,l){const{joins:u,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(p,m)=>{var g;const y=(g=r[p])!==null&&g!==void 0?g:[];if(r[p]=this.cloneDeep(m),y.length>0){const x=r[p].map(j=>j.presence_ref),k=y.filter(j=>x.indexOf(j.presence_ref)<0);r[p].unshift(...k)}o(p,y,m)}),this.map(f,(p,m)=>{let g=r[p];if(!g)return;const y=m.map(x=>x.presence_ref);g=g.filter(x=>y.indexOf(x.presence_ref)<0),r[p]=g,l(p,g,m),g.length===0&&delete r[p]}),r}static map(r,i){return Object.getOwnPropertyNames(r).map(o=>i(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((i,o)=>{const l=r[o];return"metas"in l?i[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[o]=l,i},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pf;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(pf||(pf={}));var mf;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(mf||(mf={}));var Yt;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Yt||(Yt={}));class Ml{constructor(r,i={config:{}},o){this.topic=r,this.params=i,this.socket=o,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new al(this,Rt.join,this.params,this.timeout),this.rejoinTimer=new sh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rt.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new ji(this),this.broadcastEndpointURL=ah(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,i=this.timeout){var o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Xe.closed){const{config:{broadcast:u,presence:f,private:p}}=this.params;this._onError(y=>r?.(Yt.CHANNEL_ERROR,y)),this._onClose(()=>r?.(Yt.CLOSED));const m={},g={broadcast:u,presence:f,postgres_changes:(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(y=>y.filter))!==null&&l!==void 0?l:[],private:p};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:y})=>{var x;if(this.socket.setAuth(),y===void 0){r?.(Yt.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,j=(x=k?.length)!==null&&x!==void 0?x:0,N=[];for(let R=0;R<j;R++){const T=k[R],{filter:{event:I,schema:Y,table:L,filter:W}}=T,$=y&&y[R];if($&&$.event===I&&$.schema===Y&&$.table===L&&$.filter===W)N.push(Object.assign(Object.assign({},T),{id:$.id}));else{this.unsubscribe(),this.state=Xe.errored,r?.(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,r&&r(Yt.SUBSCRIBED);return}}).receive("error",y=>{this.state=Xe.errored,r?.(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{r?.(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,i={}){return await this.send({type:"presence",event:"track",payload:r},i.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,i,o){return this._on(r,i,o)}async send(r,i={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:f}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,p,m;const g=this._push(r.type,r,i.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Xe.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new al(this,Rt.leave,{},r),o.receive("ok",()=>{i(),l("ok")}).receive("timeout",()=>{i(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,i,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),f=await this.socket.fetch(r,Object.assign(Object.assign({},i),{signal:l.signal}));return clearTimeout(u),f}_push(r,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new al(this,r,i,o);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(r,i,o){return i}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,i,o){var l,u;const f=r.toLocaleLowerCase(),{close:p,error:m,leave:g,join:y}=Rt;if(o&&[p,m,g,y].indexOf(f)>=0&&o!==this._joinRef())return;let k=this._onMessage(f,i,o);if(i&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(j=>{var N,R,T;return((N=j.filter)===null||N===void 0?void 0:N.event)==="*"||((T=(R=j.filter)===null||R===void 0?void 0:R.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===f}).map(j=>j.callback(k,o)):(u=this.bindings[f])===null||u===void 0||u.filter(j=>{var N,R,T,I,Y,L;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in j){const W=j.id,$=(N=j.filter)===null||N===void 0?void 0:N.event;return W&&((R=i.ids)===null||R===void 0?void 0:R.includes(W))&&($==="*"||$?.toLocaleLowerCase()===((T=i.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const W=(Y=(I=j?.filter)===null||I===void 0?void 0:I.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return W==="*"||W===((L=i?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===f}).map(j=>{if(typeof k=="object"&&"ids"in k){const N=k.data,{schema:R,table:T,commit_timestamp:I,type:Y,errors:L}=N;k=Object.assign(Object.assign({},{schema:R,table:T,commit_timestamp:I,eventType:Y,new:{},old:{},errors:L}),this._getPayloadRecords(N))}j.callback(k,o)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,i,o){const l=r.toLocaleLowerCase(),u={type:l,filter:i,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,i){const o=r.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Ml.isEqual(l.filter,i))}),this}static isEqual(r,i){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const o in r)if(r[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Rt.close,{},r)}_onError(r){this._on(Rt.error,{},i=>r(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const i={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(i.new=ff(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(i.old=ff(r.columns,r.old_record)),i}}const gf=()=>{},O0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class I0{constructor(r,i){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ih,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gf,this.ref=0,this.logger=gf,this.conn=null,this.sendBuffer=[],this.serializer=new j0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let f;return u?f=u:typeof fetch>"u"?f=(...p)=>Ri(async()=>{const{default:m}=await Promise.resolve().then(()=>Ir);return{default:m}},void 0).then(({default:m})=>m(...p)):f=fetch,(...p)=>f(...p)},this.endPoint=`${r}/${wl.websocket}`,this.httpEndpoint=ah(r),i?.transport?this.transport=i.transport:this.transport=null,i?.params&&(this.params=i.params),i?.timeout&&(this.timeout=i.timeout),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),i?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const l=(o=i?.params)===null||o===void 0?void 0:o.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=i?.reconnectAfterMs?i.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=i?.encode?i.encode:(u,f)=>f(JSON.stringify(u)),this.decode=i?.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i?.fetch),i?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=i?.worker||!1,this.workerUrl=i?.workerUrl}this.accessToken=i?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=w0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:b0}))}disconnect(r,i){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(o=>o.teardown()))}getChannels(){return this.channels}async removeChannel(r){const i=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const r=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,i,o){this.logger(r,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Si.connecting:return Bn.Connecting;case Si.open:return Bn.Open;case Si.closing:return Bn.Closing;default:return Bn.Closed}}isConnected(){return this.connectionState()===Bn.Open}channel(r,i={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new Ml(`realtime:${r}`,i,this);return this.channels.push(u),u}}push(r){const{topic:i,event:o,payload:l,ref:u}=r,f=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${i} ${o} (${u})`,l),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){let i=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const l={access_token:i,version:k0};i&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Rt.access_token,{access_token:i})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(S0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let i=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${r}"`),i.unsubscribe())}_remove(r){this.channels=this.channels.filter(i=>i.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,i=>{let{topic:o,event:l,payload:u,ref:f}=i;o==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(i.payload.status=="ok"?"ok":"error"),f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${o} ${l} ${f&&"("+f+")"||""}`,u),Array.from(this.channels).filter(p=>p._isMember(o)).forEach(p=>p._trigger(l,u,f)),this.stateChangeCallbacks.message.forEach(p=>p(i))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(Rt.error))}_appendParams(r,i){if(Object.keys(i).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(i);return`${r}${o}${l}`}_workerObjectUrl(r){let i;if(r)i=r;else{const o=new Blob([O0],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}}class Fl extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function He(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class $0 extends Fl{constructor(r,i){super(r),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kl extends Fl{constructor(r,i){super(r),this.name="StorageUnknownError",this.originalError=i}}var L0=function(s,r,i,o){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(y){try{g(o.next(y))}catch(x){f(x)}}function m(y){try{g(o.throw(y))}catch(x){f(x)}}function g(y){y.done?u(y.value):l(y.value).then(p,m)}g((o=o.apply(s,r||[])).next())})};const lh=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...i)=>Ri(async()=>{const{default:o}=await Promise.resolve().then(()=>Ir);return{default:o}},void 0).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},A0=()=>L0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ri(()=>Promise.resolve().then(()=>Ir),void 0)).Response:Response}),bl=s=>{if(Array.isArray(s))return s.map(i=>bl(i));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([i,o])=>{const l=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=bl(o)}),r};var Wn=function(s,r,i,o){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(y){try{g(o.next(y))}catch(x){f(x)}}function m(y){try{g(o.throw(y))}catch(x){f(x)}}function g(y){y.done?u(y.value):l(y.value).then(p,m)}g((o=o.apply(s,r||[])).next())})};const ll=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),z0=(s,r,i)=>Wn(void 0,void 0,void 0,function*(){const o=yield A0();s instanceof o&&!i?.noResolveJson?s.json().then(l=>{r(new $0(ll(l),s.status||500))}).catch(l=>{r(new kl(ll(l),l))}):r(new kl(ll(s),s))}),D0=(s,r,i,o)=>{const l={method:s,headers:r?.headers||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),o&&(l.body=JSON.stringify(o)),Object.assign(Object.assign({},l),i))};function Ti(s,r,i,o,l,u){return Wn(this,void 0,void 0,function*(){return new Promise((f,p)=>{s(i,D0(r,o,l,u)).then(m=>{if(!m.ok)throw m;return o?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>z0(m,p,o))})})}function Xs(s,r,i,o){return Wn(this,void 0,void 0,function*(){return Ti(s,"GET",r,i,o)})}function _n(s,r,i,o,l){return Wn(this,void 0,void 0,function*(){return Ti(s,"POST",r,o,l,i)})}function M0(s,r,i,o,l){return Wn(this,void 0,void 0,function*(){return Ti(s,"PUT",r,o,l,i)})}function F0(s,r,i,o){return Wn(this,void 0,void 0,function*(){return Ti(s,"HEAD",r,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function uh(s,r,i,o,l){return Wn(this,void 0,void 0,function*(){return Ti(s,"DELETE",r,o,l,i)})}var ut=function(s,r,i,o){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(y){try{g(o.next(y))}catch(x){f(x)}}function m(y){try{g(o.throw(y))}catch(x){f(x)}}function g(y){y.done?u(y.value):l(y.value).then(p,m)}g((o=o.apply(s,r||[])).next())})};const U0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class B0{constructor(r,i={},o,l){this.url=r,this.headers=i,this.bucketId=o,this.fetch=lh(l)}uploadOrUpdate(r,i,o,l){return ut(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},vf),l);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l?.headers&&(p=Object.assign(Object.assign({},p),l.headers));const g=this._removeEmptyFolders(i),y=this._getFinalPath(g),x=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:r,body:u,headers:p},f?.duplex?{duplex:f.duplex}:{})),k=yield x.json();return x.ok?{data:{path:g,id:k.Id,fullPath:k.Key},error:null}:{data:null,error:k}}catch(u){if(He(u))return{data:null,error:u};throw u}})}upload(r,i,o){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,i,o)})}uploadToSignedUrl(r,i,o,l){return ut(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",i);try{let m;const g=Object.assign({upsert:vf.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&o instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",o)):typeof FormData<"u"&&o instanceof FormData?(m=o,m.append("cacheControl",g.cacheControl)):(m=o,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const x=yield this.fetch(p.toString(),{method:"PUT",body:m,headers:y}),k=yield x.json();return x.ok?{data:{path:u,fullPath:k.Key},error:null}:{data:null,error:k}}catch(m){if(He(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(r,i){return ut(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const l=Object.assign({},this.headers);i?.upsert&&(l["x-upsert"]="true");const u=yield _n(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),f=new URL(this.url+u.url),p=f.searchParams.get("token");if(!p)throw new Fl("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(o){if(He(o))return{data:null,error:o};throw o}})}update(r,i,o){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,i,o)})}move(r,i,o){return ut(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}copy(r,i,o){return ut(this,void 0,void 0,function*(){try{return{data:{path:(yield _n(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}createSignedUrl(r,i,o){return ut(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield _n(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:i},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o?.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}createSignedUrls(r,i,o){return ut(this,void 0,void 0,function*(){try{const l=yield _n(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:r},{headers:this.headers}),u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}download(r,i){return ut(this,void 0,void 0,function*(){const l=typeof i?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(i?.transform||{}),f=u?`?${u}`:"";try{const p=this._getFinalPath(r);return{data:yield(yield Xs(this.fetch,`${this.url}/${l}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(He(p))return{data:null,error:p};throw p}})}info(r){return ut(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{const o=yield Xs(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:bl(o),error:null}}catch(o){if(He(o))return{data:null,error:o};throw o}})}exists(r){return ut(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{return yield F0(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(He(o)&&o instanceof kl){const l=o.originalError;if([400,404].includes(l?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,i){const o=this._getFinalPath(r),l=[],u=i?.download?`download=${i.download===!0?"":i.download}`:"";u!==""&&l.push(u);const p=typeof i?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(i?.transform||{});m!==""&&l.push(m);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${g}`)}}}remove(r){return ut(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(i){if(He(i))return{data:null,error:i};throw i}})}list(r,i,o){return ut(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},U0),i),{prefix:r||""});return{data:yield _n(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const i=[];return r.width&&i.push(`width=${r.width}`),r.height&&i.push(`height=${r.height}`),r.resize&&i.push(`resize=${r.resize}`),r.format&&i.push(`format=${r.format}`),r.quality&&i.push(`quality=${r.quality}`),i.join("&")}}const W0="2.7.1",H0={"X-Client-Info":`storage-js/${W0}`};var _r=function(s,r,i,o){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(y){try{g(o.next(y))}catch(x){f(x)}}function m(y){try{g(o.throw(y))}catch(x){f(x)}}function g(y){y.done?u(y.value):l(y.value).then(p,m)}g((o=o.apply(s,r||[])).next())})};class q0{constructor(r,i={},o){this.url=r,this.headers=Object.assign(Object.assign({},H0),i),this.fetch=lh(o)}listBuckets(){return _r(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}})}getBucket(r){return _r(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(i){if(He(i))return{data:null,error:i};throw i}})}createBucket(r,i={public:!1}){return _r(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(He(o))return{data:null,error:o};throw o}})}updateBucket(r,i){return _r(this,void 0,void 0,function*(){try{return{data:yield M0(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(He(o))return{data:null,error:o};throw o}})}emptyBucket(r){return _r(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(He(i))return{data:null,error:i};throw i}})}deleteBucket(r){return _r(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(i){if(He(i))return{data:null,error:i};throw i}})}}class V0 extends q0{constructor(r,i={},o){super(r,i,o)}from(r){return new B0(this.url,this.headers,r,this.fetch)}}const K0="2.52.0";let bi="";typeof Deno<"u"?bi="deno":typeof document<"u"?bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bi="react-native":bi="node";const G0={"X-Client-Info":`supabase-js-${bi}/${K0}`},Y0={headers:G0},Q0={schema:"public"},J0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},X0={};var Z0=function(s,r,i,o){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(y){try{g(o.next(y))}catch(x){f(x)}}function m(y){try{g(o.throw(y))}catch(x){f(x)}}function g(y){y.done?u(y.value):l(y.value).then(p,m)}g((o=o.apply(s,r||[])).next())})};const ev=s=>{let r;return s?r=s:typeof fetch>"u"?r=Xf:r=fetch,(...i)=>r(...i)},tv=()=>typeof Headers>"u"?Zf:Headers,nv=(s,r,i)=>{const o=ev(i),l=tv();return(u,f)=>Z0(void 0,void 0,void 0,function*(){var p;const m=(p=yield r())!==null&&p!==void 0?p:s;let g=new l(f?.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),o(u,Object.assign(Object.assign({},f),{headers:g}))})};var rv=function(s,r,i,o){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(y){try{g(o.next(y))}catch(x){f(x)}}function m(y){try{g(o.throw(y))}catch(x){f(x)}}function g(y){y.done?u(y.value):l(y.value).then(p,m)}g((o=o.apply(s,r||[])).next())})};function iv(s){return s.endsWith("/")?s:s+"/"}function sv(s,r){var i,o;const{db:l,auth:u,realtime:f,global:p}=s,{db:m,auth:g,realtime:y,global:x}=r,k={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},y),f),global:Object.assign(Object.assign(Object.assign({},x),p),{headers:Object.assign(Object.assign({},(i=x?.headers)!==null&&i!==void 0?i:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>rv(this,void 0,void 0,function*(){return""})};return s.accessToken?k.accessToken=s.accessToken:delete k.accessToken,k}const ch="2.71.1",Er=30*1e3,Sl=3,ul=Sl*Er,ov="http://localhost:9999",av="supabase.auth.token",lv={"X-Client-Info":`gotrue-js/${ch}`},jl="X-Supabase-Api-Version",dh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cv=600*1e3;class Ul extends Error{constructor(r,i,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function de(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class dv extends Ul{constructor(r,i,o){super(r,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function fv(s){return de(s)&&s.name==="AuthApiError"}class fh extends Ul{constructor(r,i){super(r),this.name="AuthUnknownError",this.originalError=i}}class Sn extends Ul{constructor(r,i,o,l){super(r,o,l),this.name=i,this.status=o}}class wn extends Sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hv(s){return de(s)&&s.name==="AuthSessionMissingError"}class qs extends Sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vs extends Sn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ks extends Sn{constructor(r,i=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pv(s){return de(s)&&s.name==="AuthImplicitGrantRedirectError"}class yf extends Sn{constructor(r,i=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class El extends Sn{constructor(r,i){super(r,"AuthRetryableFetchError",i,void 0)}}function cl(s){return de(s)&&s.name==="AuthRetryableFetchError"}class xf extends Sn{constructor(r,i,o){super(r,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class Cl extends Sn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wf=` 	
\r=`.split(""),mv=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<wf.length;r+=1)s[wf[r].charCodeAt(0)]=-2;for(let r=0;r<Zs.length;r+=1)s[Zs[r].charCodeAt(0)]=r;return s})();function _f(s,r,i){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Zs[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Zs[o]),r.queuedBits-=6}}function hh(s,r,i){const o=mv[s];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)i(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function kf(s){const r=[],i=f=>{r.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=f=>{yv(f,o,i)};for(let f=0;f<s.length;f+=1)hh(s.charCodeAt(f),l,u);return r.join("")}function gv(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function vv(s,r){for(let i=0;i<s.length;i+=1){let o=s.charCodeAt(i);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(s.charCodeAt(i+1)-56320&65535|l)+65536,i+=1}gv(o,r)}}function yv(s,r,i){if(r.utf8seq===0){if(s<=127){i(s);return}for(let o=1;o<6;o+=1)if((s>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&i(r.codepoint)}}function xv(s){const r=[],i={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<s.length;l+=1)hh(s.charCodeAt(l),i,o);return new Uint8Array(r)}function wv(s){const r=[];return vv(s,i=>r.push(i)),new Uint8Array(r)}function _v(s){const r=[],i={queue:0,queuedBits:0},o=l=>{r.push(l)};return s.forEach(l=>_f(l,i,o)),_f(null,i,o),r.join("")}function kv(s){return Math.round(Date.now()/1e3)+s}function bv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s=="x"?r:r&3|8).toString(16)})}const Pt=()=>typeof window<"u"&&typeof document<"u",Dn={tested:!1,writable:!1},ph=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dn.tested)return Dn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Dn.tested=!0,Dn.writable=!0}catch{Dn.tested=!0,Dn.writable=!1}return Dn.writable};function Sv(s){const r={},i=new URL(s);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return i.searchParams.forEach((o,l)=>{r[l]=o}),r}const mh=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...i)=>Ri(async()=>{const{default:o}=await Promise.resolve().then(()=>Ir);return{default:o}},void 0).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},jv=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Cr=async(s,r,i)=>{await s.setItem(r,JSON.stringify(i))},Mn=async(s,r)=>{const i=await s.getItem(r);if(!i)return null;try{return JSON.parse(i)}catch{return i}},yn=async(s,r)=>{await s.removeItem(r)};class io{constructor(){this.promise=new io.promiseConstructor((r,i)=>{this.resolve=r,this.reject=i})}}io.promiseConstructor=Promise;function dl(s){const r=s.split(".");if(r.length!==3)throw new Cl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!uv.test(r[o]))throw new Cl("JWT not in base64url format");return{header:JSON.parse(kf(r[0])),payload:JSON.parse(kf(r[1])),signature:xv(r[2]),raw:{header:r[0],payload:r[1]}}}async function Ev(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function Cv(s,r){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await s(u);if(!r(u,null,f)){o(f);return}}catch(f){if(!r(u,f)){l(f);return}}})()})}function Nv(s){return("0"+s.toString(16)).substr(-2)}function Pv(){const r=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let l="";for(let u=0;u<56;u++)l+=i.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,Nv).join("")}async function Rv(s){const i=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",i),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Tv(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const i=await Rv(s);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kr(s,r,i=!1){const o=Pv();let l=o;i&&(l+="/PASSWORD_RECOVERY"),await Cr(s,`${r}-code-verifier`,l);const u=await Tv(o);return[u,o===u?"plain":"s256"]}const Ov=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Iv(s){const r=s.headers.get(jl);if(!r||!r.match(Ov))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function $v(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function Lv(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Av=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function br(s){if(!Av.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fl(){const s={};return new Proxy(s,{get:(r,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bf(s){return JSON.parse(JSON.stringify(s))}var zv=function(s,r){var i={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(i[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(s);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(s,o[l])&&(i[o[l]]=s[o[l]]);return i};const Un=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Dv=[502,503,504];async function Sf(s){var r;if(!jv(s))throw new El(Un(s),0);if(Dv.includes(s.status))throw new El(Un(s),s.status);let i;try{i=await s.json()}catch(u){throw new fh(Un(u),u)}let o;const l=Iv(s);if(l&&l.getTime()>=dh["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new xf(Un(i),s.status,((r=i.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new wn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new xf(Un(i),s.status,i.weak_password.reasons);throw new dv(Un(i),s.status||500,o)}const Mv=(s,r,i,o)=>{const l={method:s,headers:r?.headers||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),i))};async function me(s,r,i,o){var l;const u=Object.assign({},o?.headers);u[jl]||(u[jl]=dh["2024-01-01"].name),o?.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const f=(l=o?.query)!==null&&l!==void 0?l:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await Fv(s,r,i+p,{headers:u,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(m):{data:Object.assign({},m),error:null}}async function Fv(s,r,i,o,l,u){const f=Mv(r,o,l,u);let p;try{p=await s(i,Object.assign({},f))}catch(m){throw console.error(m),new El(Un(m),0)}if(p.ok||await Sf(p),o?.noResolveJson)return p;try{return await p.json()}catch(m){await Sf(m)}}function Gt(s){var r;let i=null;Hv(s)&&(i=Object.assign({},s),s.expires_at||(i.expires_at=kv(s.expires_in)));const o=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:i,user:o},error:null}}function jf(s){const r=Gt(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(r.data.weak_password=s.weak_password),r}function kn(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function Uv(s){return{data:s,error:null}}function Bv(s){const{action_link:r,email_otp:i,hashed_token:o,redirect_to:l,verification_type:u}=s,f=zv(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:i,hashed_token:o,redirect_to:l,verification_type:u},m=Object.assign({},f);return{data:{properties:p,user:m},error:null}}function Wv(s){return s}function Hv(s){return s.access_token&&s.refresh_token&&s.expires_in}const hl=["global","local","others"];var qv=function(s,r){var i={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(i[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(s);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(s,o[l])&&(i[o[l]]=s[o[l]]);return i};class Vv{constructor({url:r="",headers:i={},fetch:o}){this.url=r,this.headers=i,this.fetch=mh(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,i=hl[0]){if(hl.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hl.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,i={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:kn})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:i}=r,o=qv(r,["options"]),l=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(l.new_email=o?.newEmail,delete l.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Bv,redirectTo:i?.redirectTo})}catch(i){if(de(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(r){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:kn})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async listUsers(r){var i,o,l,u,f,p,m;try{const g={nextPage:null,lastPage:0,total:0},y=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=r?.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Wv});if(y.error)throw y.error;const x=await y.json(),k=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return j.length>0&&(j.forEach(N=>{const R=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(N.split(";")[1].split("=")[1]);g[`${T}Page`]=R}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(de(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){br(r);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:kn})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async updateUserById(r,i){br(r);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:i,headers:this.headers,xform:kn})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,i=!1){br(r);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:i},xform:kn})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){br(r.userId);try{const{data:i,error:o}=await me(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:i,error:o}}catch(i){if(de(i))return{data:null,error:i};throw i}}async _deleteFactor(r){br(r.userId),br(r.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}}function Ef(s={}){return{getItem:r=>s[r]||null,setItem:(r,i)=>{s[r]=i},removeItem:r=>{delete s[r]}}}function Kv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sr={debug:!!(globalThis&&ph()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Gv extends gh{}async function Yv(s,r,i){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await i()}finally{Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(r===0)throw Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Gv(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Sr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}Kv();const Qv={url:ov,storageKey:av,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cf(s,r,i){return await i()}const jr={};class Ci{constructor(r){var i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ci.nextInstanceID,Ci.nextInstanceID+=1,this.instanceID>0&&Pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Qv),r);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Vv({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=mh(l.fetch),this.lock=l.lock||Cf,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Pt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Yv:this.lock=Cf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:ph()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ef(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Ef(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var r,i;return(i=(r=jr[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(r){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,i;return(i=(r=jr[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ch}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const i=Sv(window.location.href);let o="none";if(this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce"),Pt()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(i,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),pv(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return de(i)?{error:i}:{error:new fh("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var i,o,l;try{const u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=r?.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Gt}),{data:f,error:p}=u;if(p||!f)return{data:{user:null,session:null},error:p};const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(de(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var i,o,l;try{let u;if("email"in r){const{email:y,password:x,options:k}=r;let j=null,N=null;this.flowType==="pkce"&&([j,N]=await kr(this.storage,this.storageKey)),u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:y,password:x,data:(i=k?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:j,code_challenge_method:N},xform:Gt})}else if("phone"in r){const{phone:y,password:x,options:k}=r;u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(o=k?.data)!==null&&o!==void 0?o:{},channel:(l=k?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Gt})}else throw new Vs("You must provide either an email or phone number and a password");const{data:f,error:p}=u;if(p||!f)return{data:{user:null,session:null},error:p};const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(de(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let i;if("email"in r){const{email:u,password:f,options:p}=r;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:jf})}else if("phone"in r){const{phone:u,password:f,options:p}=r;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:jf})}else throw new Vs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new qs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(r){var i,o,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(i=r.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:i}=r;if(i==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(r){var i,o,l,u,f,p,m,g,y,x,k,j;let N,R;if("message"in r)N=r.message,R=r.signature;else{const{chain:T,wallet:I,statement:Y,options:L}=r;let W;if(Pt())if(typeof I=="object")W=I;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))W=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=I}const $=new URL((i=L?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in W&&W.signIn){const M=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),Y?{statement:Y}:null));let ne;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")ne=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)ne=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)N=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),R=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${$.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(l=(o=L?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=L?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((f=L?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((m=L?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((g=L?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((x=(y=L?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...L.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const M=await W.signMessage(new TextEncoder().encode(N),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=M}}try{const{data:T,error:I}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:_v(R)},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(j=r.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Gt});if(I)throw I;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new qs}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:I})}catch(T){if(de(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(r){const i=await Mn(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(i??"").split("/");try{const{data:u,error:f}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Gt});if(await yn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new qs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:f})}catch(u){if(de(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:i,provider:o,token:l,access_token:u,nonce:f}=r,p=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Gt}),{data:m,error:g}=p;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new qs}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:g})}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(r){var i,o,l,u,f;try{if("email"in r){const{email:p,options:m}=r;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await kr(this.storage,this.storageKey));const{error:x}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in r){const{phone:p,options:m}=r,{data:g,error:y}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new Vs("You must provide either an email or phone number.")}catch(p){if(de(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var i,o;try{let l,u;"options"in r&&(l=(i=r.options)===null||i===void 0?void 0:i.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Gt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,g=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(r){var i,o,l;try{let u=null,f=null;return this.flowType==="pkce"&&([u,f]=await kr(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(i=r.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:Uv})}catch(u){if(de(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)throw o;if(!i)throw new wn;const{error:l}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:l}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const i=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:f}=await me(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:f,error:p}=await me(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new Vs("You must provide either an email or phone number and a type")}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(r,i){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await r(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const i=await Mn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?r=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<ul:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const f=await Mn(this.userStorage,this.storageKey+"-user");f?.user?r.user=f.user:r.user=fl()}if(this.storage.isServer&&r.user){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(m,g,y)=>(!f&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,g,y))})}return{data:{session:r},error:null}}const{session:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:kn}):await this._useSession(async i=>{var o,l,u;const{data:f,error:p}=i;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:kn})})}catch(i){if(de(i))return hv(i)&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(r,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,i))}async _updateUser(r,i={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new wn;const f=l.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await kr(this.storage,this.storageKey));const{data:g,error:y}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:f.access_token,xform:kn});if(y)throw y;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new wn;const i=Date.now()/1e3;let o=i,l=!0,u=null;const{payload:f}=dl(r.access_token);if(f.exp&&(o=f.exp,l=o<=i),l){const{session:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(i){if(de(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async i=>{var o;if(!r){const{data:f,error:p}=i;if(p)throw p;r=(o=f.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new wn;const{session:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(r,i){try{if(!Pt())throw new Ks("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ks(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new yf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ks("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new yf("No code detected.");const{data:Y,error:L}=await this._exchangeCodeForSession(r.code);if(L)throw L;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:f,expires_in:p,expires_at:m,token_type:g}=r;if(!u||!p||!f||!g)throw new Ks("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(p);let k=y+x;m&&(k=parseInt(m));const j=k-y;j*1e3<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${x}s`);const N=k-x;y-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,k,y):y-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,k,y);const{data:R,error:T}=await this._getUser(u);if(T)throw T;const I={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:x,expires_at:k,refresh_token:f,token_type:g,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:r.type},error:null}}catch(o){if(de(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const i=await Mn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&i)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:l,error:u}=i;if(u)return{error:u};const f=(o=l.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,r);if(p&&!(fv(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const i=bv(),o={id:i,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async i=>{var o,l;try{const{data:{session:u},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,i={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await kr(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(de(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=i.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}async linkIdentity(r){var i;try{const{data:o,error:l}=await this._useSession(async u=>{var f,p,m,g,y;const{data:x,error:k}=u;if(k)throw k;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",j,{headers:this.headers,jwt:(y=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return Pt()&&!(!((i=r.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:r.provider,url:o?.url},error:null}}catch(o){if(de(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async i=>{var o,l;const{data:u,error:f}=i;if(f)throw f;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(i){if(de(i))return{data:null,error:i};throw i}}async _refreshAccessToken(r){const i=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await Cv(async l=>(l>0&&await Ev(200*Math.pow(2,l-1)),this._debug(i,"refreshing attempt",l),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Gt})),(l,u)=>{const f=200*Math.pow(2,l);return u&&cl(u)&&Date.now()+f-o<Er})}catch(o){if(this._debug(i,"error",o),de(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(i,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",i,"url",o),Pt()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Mn(this.storage,this.storageKey);if(l&&this.userStorage){let f=await Mn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:l.user},await Cr(this.userStorage,this.storageKey+"-user",f)),l.user=(r=f?.user)!==null&&r!==void 0?r:fl()}else if(l&&!l.user&&!l.user){const f=await Mn(this.storage,this.storageKey+"-user");f&&f?.user?(l.user=f.user,await yn(this.storage,this.storageKey+"-user"),await Cr(this.storage,this.storageKey,l)):l.user=fl()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((i=l.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<ul;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${ul}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:f}=await this._callRefreshToken(l.refresh_token);f&&(console.error(f),cl(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(l.access_token);!p&&f?.user?(l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var i,o;if(!r)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new io;const{data:u,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!u.session)throw new wn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={session:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),de(u)){const f={session:null,error:u};return cl(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,i,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:i});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,i)}catch(m){u.push(m)}});if(await Promise.all(f),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const i=Object.assign({},r),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await Cr(this.userStorage,this.storageKey+"-user",{user:i.user});const l=Object.assign({},i);delete l.user;const u=bf(l);await Cr(this.storage,this.storageKey,u)}else{const l=bf(i);await Cr(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await yn(this.storage,this.storageKey),await yn(this.storage,this.storageKey+"-code-verifier"),await yn(this.storage,this.storageKey+"-user"),this.userStorage&&await yn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Pt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Er);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/Er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Er}ms, refresh threshold is ${Sl} ticks`),l<=Sl&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof gh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const i=`#_onVisibilityChanged(${r})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,i,o){const l=[`provider=${encodeURIComponent(i)}`];if(o?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,f]=await kr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});l.push(p.toString())}if(o?.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o?.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async i=>{var o;const{data:l,error:u}=i;return u?{data:null,error:u}:await me(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(de(i))return{data:null,error:i};throw i}}async _enroll(r){try{return await this._useSession(async i=>{var o,l;const{data:u,error:f}=i;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:m,error:g}=await me(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return g?{data:null,error:g}:(r.factorType==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(i){if(de(i))return{data:null,error:i};throw i}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:l,error:u}=i;if(u)return{data:null,error:u};const{data:f,error:p}=await me(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(i){if(de(i))return{data:null,error:i};throw i}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:l,error:u}=i;return u?{data:null,error:u}:await me(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(de(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(r){const{data:i,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:i.id,code:r.code})}async _listFactors(){const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o=r?.factors||[],l=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),u=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var i,o;const{data:{session:l},error:u}=r;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=dl(l.access_token);let p=null;f.aal&&(p=f.aal);let m=p;((o=(i=l.user.factors)===null||i===void 0?void 0:i.filter(x=>x.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(m="aal2");const y=f.amr||[];return{data:{currentLevel:p,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(r,i={keys:[]}){let o=i.keys.find(p=>p.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+cv>l)return o;const{data:u,error:f}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,i={}){try{let o=r;if(!o){const{data:j,error:N}=await this.getSession();if(N||!j.session)return{data:null,error:N};o=j.session.access_token}const{header:l,payload:u,signature:f,raw:{header:p,payload:m}}=dl(o);i?.allowExpired||$v(u.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:j}=await this.getUser(o);if(j)throw j;return{data:{claims:u,header:l,signature:f},error:null}}const y=Lv(l.alg),x=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,f,wv(`${p}.${m}`)))throw new Cl("Invalid JWT signature");return{data:{claims:u,header:l,signature:f},error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}}}Ci.nextInstanceID=0;const Jv=Ci;class Xv extends Jv{constructor(r){super(r)}}var Zv=function(s,r,i,o){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(y){try{g(o.next(y))}catch(x){f(x)}}function m(y){try{g(o.throw(y))}catch(x){f(x)}}function g(y){y.done?u(y.value):l(y.value).then(p,m)}g((o=o.apply(s,r||[])).next())})};class ey{constructor(r,i,o){var l,u,f;if(this.supabaseUrl=r,this.supabaseKey=i,!r)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const p=iv(r),m=new URL(p);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:Q0,realtime:X0,auth:Object.assign(Object.assign({},J0),{storageKey:g}),global:Y0},x=sv(o??{},y);this.storageKey=(l=x.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=x.global.headers)!==null&&u!==void 0?u:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(k,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=nv(i,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new y0(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),x.accessToken||this._listenForAuthEvents()}get functions(){return new o0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new V0(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,i={},o={}){return this.rest.rpc(r,i,o)}channel(r,i={config:{}}){return this.realtime.channel(r,i)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,i;return Zv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:l,storageKey:u,flowType:f,lock:p,debug:m},g,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xv({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),g),storageKey:u,autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:l,flowType:f,lock:p,debug:m,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new I0(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o?.access_token)})}_handleTokenChanged(r,i,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ty=(s,r,i)=>new ey(s,r,i),ny=void 0,ry=void 0,oe=ty(ny,ry);function iy(){const[s,r]=_.useState(!1),i=_.useRef(0),o=$t();return _.useEffect(()=>{const l=()=>{const u=window.scrollY;r(u>48&&u>i.current),i.current=u};return window.addEventListener("scroll",l,{passive:!0}),()=>window.removeEventListener("scroll",l)},[]),h.jsx("header",{className:`
        fixed z-50 w-full top-0 left-0 right-0
        flex justify-center pointer-events-none
      `,style:{transform:s?"translateY(-130%)":"translateY(0)"},role:"banner",children:h.jsxs("nav",{className:`
          pointer-events-auto w-full flex items-center
          bg-[rgba(18, 18, 22, 0.2)] backdrop-blur
          min-h-[48px] md:min-h-[60px]
        `,"aria-label":"Main navigation",role:"navigation",style:{padding:"0",margin:"0",borderRadius:"0",boxShadow:"none"},children:[h.jsx(Nr,{to:"/",className:"flex items-center pointer-events-auto select-none focus-visible:outline-2 w-fit","aria-label":"Go to FeelFlick home page",tabIndex:0,children:h.jsx("span",{className:`
              uppercase font-extrabold text-xl sm:text-2xl md:text-3xl
              tracking-wide text-[#F6E3D7] pl-4 md:pl-10
              whitespace-nowrap
            `,style:{letterSpacing:"0.05em",textShadow:"0 1px 10px #fff1, 0 1px 20px #18406d24",lineHeight:"1"},children:"FEELFLICK"})}),h.jsx("span",{className:"flex-1"}),o.pathname!=="/auth/sign-in"&&h.jsx(Nr,{to:"/auth/sign-in",className:`
              bg-gradient-to-r from-orange-400 to-red-500
              text-white font-semibold
              px-3 py-1 rounded-lg
              md:px-6 md:py-1.9 md:rounded-xl
              focus-visible:outline-2 focus-visible:outline-white
              min-w-[70px] md:min-w-[90px] text-sm md:text-base text-center
              mr-4 md:mr-10
              transition-all
            `,"aria-label":"Sign in",tabIndex:0,style:{boxShadow:"0 2px 12px #eb423b1a",fontSize:"0.98rem",minHeight:"28px"},children:"Sign in"})]})})}const sy="/assets/background-BydoA03_.mp4";function oy(){const s=nt();return h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
        .fflick-hero-section { background: #000 !important; }
        .fflick-hero-left {
          position: absolute !important;
          left: clamp(7vw, 7%, 32px);
          top: 50%;
          transform: translateY(-50%);
          z-index: 3;
          max-width: 590px;
          color: #fff;
          display: flex;
          flex-direction: column;
          align-items: flex-start;
        }
        .fflick-hero-title {
          font-size: clamp(2.4rem, 5.5vw, 3.7rem) !important;
        }
        .fflick-hero-desc {
          font-size: clamp(0.9rem, 1.7vw, 1.1rem) !important;
        }
        .fflick-hero-btn {
          font-size: clamp(0.92rem, 2.4vw, 1.08rem) !important;
          padding: clamp(8px, 2vw, 13px) clamp(16px, 6vw, 44px) !important;
          min-width: clamp(80px, 23vw, 140px) !important;
          min-height: clamp(38px, 8.2vw, 44px) !important;
          border-radius: 14px !important;
        }
      `}),h.jsxs("section",{className:"fflick-hero-section",style:{position:"relative",width:"100vw",minHeight:"98vh",display:"flex",alignItems:"stretch",justifyContent:"flex-end",background:"#000",padding:0,overflow:"hidden",zIndex:2},"aria-label":"Main hero section",children:[h.jsx("video",{src:sy,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"/background-poster.jpg","aria-hidden":"true",className:"fflick-hero-video",style:{position:"absolute",left:"24vw",top:0,width:"76vw",height:"100%",objectFit:"cover",zIndex:1,transition:"left 0.18s, width 0.18s"}}),h.jsx("div",{"aria-hidden":"true",style:{position:"absolute",left:0,top:0,width:"100vw",height:"100%",zIndex:2,pointerEvents:"none",background:"linear-gradient(90deg, #000 0%, rgba(0,0,0,0.96) 22%, rgba(0,0,0,0.64) 52%, rgba(0,0,0,0.13) 88%, rgba(0,0,0,0) 100%)"}}),h.jsxs("div",{className:"fflick-hero-left",tabIndex:0,children:[h.jsx("h1",{className:"fflick-hero-title",style:{fontWeight:900,color:"#fff",letterSpacing:"-0.3px",marginBottom:18,textShadow:"0 4px 22px #000c, 0 2px 8px #18406d77",lineHeight:1.09,outline:"none"},tabIndex:0,"aria-label":"Movies that match your mood",children:"Movies that match your mood."}),h.jsxs("div",{className:"fflick-hero-desc",style:{fontWeight:400,color:"#F6E3D7",opacity:.97,marginBottom:30,lineHeight:1.57,textShadow:"0 2px 8px #0003",outline:"none"},tabIndex:0,"aria-label":"Get the perfect recommendation based on your taste and how you feel. Fast, private, and always free.",children:["Get the perfect recommendation based on your taste and how you feel.",h.jsx("br",{}),"Fast, private, and always free."]}),h.jsx("button",{className:"fflick-hero-btn",tabIndex:0,"aria-label":"Get started with FeelFlick",onClick:()=>s("/auth/sign-up"),style:{background:"linear-gradient(90deg,#fe9245 10%,#eb423b 90%)",color:"#fff",border:"none",borderRadius:14,fontWeight:900,cursor:"pointer",letterSpacing:"0.01em",transition:"filter 0.12s, transform 0.12s, opacity 0.12s",outline:"none"},onFocus:r=>r.currentTarget.style.filter="brightness(1.09)",onBlur:r=>r.currentTarget.style.filter="none",onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&s("/auth/sign-up")},onMouseDown:r=>r.currentTarget.style.transform="scale(.97)",onMouseUp:r=>r.currentTarget.style.transform="scale(1)",onMouseEnter:r=>r.currentTarget.style.filter="brightness(1.06)",onMouseLeave:r=>r.currentTarget.style.filter="none",children:"Get started"})]})]})]})}const ay=[{title:"Mood-Driven, Personalized Picks",description:"FeelFlick learns your movie taste and listens to your current mood. No generic suggestions — just titles that match your vibe. The more you watch and share how you feel, the smarter and more personal your recommendations become."},{title:"Fast, Simple, and Private",description:"Tired of scrolling for something to watch? FeelFlick delivers quick and clutter-free suggestions. No ratings, no filters, no noise — just the right movie when you need it. Your data stays private, always secure and never shared."},{title:"Track What You Love For Free",description:"Keep a personal log of every movie you’ve seen. Build watchlists, revisit past favorites, and reflect on your evolving taste. FeelFlick helps you stay organized, sentimental, and inspired — all in one place. Always free, with no paywalls or limits."}];function ly(){return h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(38px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .fflick-box { animation: fadeInUp 0.7s ease both; }

        .fflick-card:focus-visible {
          outline: 2.5px solid #fe9245;
          outline-offset: 2px;
        }

        .fflick-section-title {
          font-size: clamp(1.09rem, 3vw, 1.37rem) !important;
          margin-bottom: clamp(16px, 3vw, 22px) !important;
          margin-top: 10px !important;
          letter-spacing: 0.14em !important;
          font-weight: 900 !important;
          color: #fff !important;
          text-transform: uppercase;
        }
        .fflick-box {
          padding: clamp(0.3rem, 2.5vw, 0.7rem) clamp(0.7rem, 7vw, 2.5rem) !important;
          border-radius: clamp(16px, 2vw, 28px) !important;
          gap: clamp(1.1rem, 3vw, 2rem) !important;
        }
        .fflick-card {
          padding: clamp(1rem, 3vw, 1.6rem) clamp(1rem, 4vw, 1.4rem) !important;
          border-radius: clamp(13px, 2vw, 22px) !important;
          min-width: clamp(210px, 29vw, 335px) !important;
          max-width: clamp(99vw, 33vw, 480px) !important;
          background: rgba(12, 8, 4, 0.98) !important;  /* darker */
          border: 1.5px solid rgba(255,91,46,0.13);
          box-shadow: 0 2.5px 12px 0 rgba(40,24,14,0.10);
          transition: none;
          position: relative;
          cursor: default;
        }
        .fflick-title {
          font-size: clamp(1.14rem, 3.5vw, 1.85rem) !important;
          background: linear-gradient(92deg, #ffd7b0 0%, #fe9245 77%);
          WebkitBackgroundClip: text;
          WebkitTextFillColor: transparent;
          text-shadow: 0 3px 16px #fe924561, 0 2.5px 8px rgba(0,0,0,0.18);
          font-weight: 950;
        }
        .fflick-desc {
          font-size: clamp(0.87rem, 2vw, 0.99rem) !important;
          color: #fff !important;        /* lighter, more visible */
          opacity: 0.97 !important;
        }
        @media (max-width: 1020px) {
          .fflick-box { flex-direction: column !important; align-items: center !important; }
          .fflick-card { width: 96vw !important; max-width: 99vw !important; margin-bottom: 1rem !important;}
        }
        @media (max-width: 600px) {
          .fflick-section-title {
            font-size: 1.03rem !important;
            margin-bottom: 14px !important;
            margin-top: 6px !important;
          }
          .fflick-box {
            padding: 14px 8vw !important;    /* EVEN padding on mobile */
            border-radius: 18px !important;
          }
        }
      `}),h.jsx("section",{role:"region","aria-labelledby":"whyfeelflick-heading",style:{width:"100vw",background:"rgba(10,10,10,0.73)",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",padding:"14px 0 10px 0",boxSizing:"border-box"},children:h.jsxs("div",{style:{width:"100%",padding:"0 7vw",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[h.jsx("h2",{id:"whyfeelflick-heading",className:"fflick-section-title",children:"More Reasons To Join"}),h.jsx("div",{className:"fflick-box",style:{background:"rgba(12, 11, 10, 0.80)",borderRadius:"28px",display:"flex",justifyContent:"center",alignItems:"stretch",width:"100%",maxWidth:"1450px",margin:"0 auto",boxShadow:"0 8px 48px 0 rgba(0,0,0,0.12)",flexWrap:"nowrap"},children:ay.map((s,r)=>h.jsxs("article",{className:"fflick-card",style:{flex:"0 1 34%",display:"flex",flexDirection:"column",justifyContent:"flex-start",background:"rgba(22,16,10,0.94)",border:"1.5px solid rgba(255,91,46,0.12)",boxShadow:"0 2.5px 12px 0 rgba(40,24,14,0.11)",transition:"none",position:"relative",cursor:"default",animation:`fadeInUp 0.7s cubic-bezier(.25,.7,.3,1.1) ${(r*.14).toFixed(2)}s both`},tabIndex:0,"aria-labelledby":`whyfeelflick-card-title-${r}`,"aria-describedby":`whyfeelflick-card-desc-${r}`,children:[h.jsx("h3",{id:`whyfeelflick-card-title-${r}`,className:"fflick-title",style:{margin:"0 0 1.2rem",fontWeight:950,lineHeight:1.19,background:"linear-gradient(88deg, var(--theme-color,#FF5B2E), var(--theme-color-secondary,#367cff) 80%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 2.5px 8px rgba(0,0,0,0.16)"},children:s.title}),h.jsx("p",{id:`whyfeelflick-card-desc-${r}`,className:"fflick-desc",style:{margin:0,color:"#ffffffff",lineHeight:"1.72",fontWeight:200,letterSpacing:"0.013em"},children:s.description})]},r))})]})})]})}const uy=void 0,Fn=168,pl=246,ml=32,Nf=5,Pf=.5;function cy({onSignIn:s,onSignUp:r}){const i=r||(()=>{window.location.href="/auth/sign-up"}),[o,l]=_.useState([]),u=_.useRef(null),[f,p]=_.useState(null);_.useEffect(()=>{fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${uy}`).then(j=>j.json()).then(j=>l((j.results||[]).slice(0,10)))},[]);const m=Fn+ml,g=()=>{u.current&&u.current.scrollBy({left:-m,behavior:"smooth"})},y=()=>{u.current&&u.current.scrollBy({left:m,behavior:"smooth"})},x=44,k=Nf*Fn+Pf*Fn+(Nf+Pf-1)*ml+x;return h.jsxs("section",{style:{background:"rgba(10,10,10,0.73)",padding:"36px 0 55px 0",position:"relative",overflow:"visible",minHeight:360,width:"100%",boxSizing:"border-box"},children:[h.jsx("div",{style:{fontWeight:900,fontSize:"1.37rem",color:"#fff",letterSpacing:"0.14em",marginLeft:"8vw",marginBottom:38,marginTop:6,textAlign:"left",textTransform:"uppercase"},children:"Trending Now"}),h.jsxs("div",{style:{position:"relative",width:"100%",padding:"0 8vw",boxSizing:"border-box",overflow:"visible"},children:[h.jsx("button",{"aria-label":"Scroll Left",onClick:g,style:{position:"absolute",left:0,top:"52%",transform:"translateY(-50%)",background:"rgba(22,22,22,0.83)",border:"none",borderRadius:14,width:36,height:62,color:"#fff",fontSize:22,cursor:"pointer",zIndex:6,opacity:.7,transition:"opacity 0.2s"},onMouseOver:j=>j.currentTarget.style.opacity=1,onMouseOut:j=>j.currentTarget.style.opacity=.7,children:"‹"}),h.jsx("button",{"aria-label":"Scroll Right",onClick:y,style:{position:"absolute",right:0,top:"52%",transform:"translateY(-50%)",background:"rgba(22,22,22,0.83)",border:"none",borderRadius:14,width:36,height:62,color:"#fff",fontSize:22,cursor:"pointer",zIndex:6,opacity:.7,transition:"opacity 0.2s"},onMouseOver:j=>j.currentTarget.style.opacity=1,onMouseOut:j=>j.currentTarget.style.opacity=.7,children:"›"}),h.jsx("div",{ref:u,style:{display:"flex",gap:ml,overflowX:"auto",overflowY:"visible",margin:"0 auto",scrollbarWidth:"none",scrollSnapType:"x mandatory",minHeight:pl,alignItems:"flex-end",position:"relative",width:k,maxWidth:"100%",boxSizing:"border-box",marginLeft:"auto",marginRight:"auto",zIndex:2,paddingLeft:x,paddingTop:16},className:"trending-row",children:o.map((j,N)=>h.jsxs("div",{className:"fflick-poster",tabIndex:0,onClick:()=>p(j),style:{position:"relative",flex:`0 0 ${Fn}px`,width:Fn,minWidth:Fn,height:pl,borderRadius:15,boxShadow:"0 2px 11px #000b",background:"#181818",scrollSnapAlign:"center",overflow:"visible",marginBottom:6,marginTop:0,transition:"box-shadow 0.13s cubic-bezier(.32,1.4,.46,1), filter 0.13s cubic-bezier(.32,1.4,.46,1), transform 0.13s cubic-bezier(.32,1.4,.46,1)",zIndex:2},onMouseEnter:R=>{const T=R.currentTarget.querySelector("img");T.style.boxShadow="0 4px 16px #0009",T.style.filter="brightness(1.06)",R.currentTarget.style.transform="translateY(-5px) scale(1.03)",R.currentTarget.style.zIndex=10},onMouseLeave:R=>{const T=R.currentTarget.querySelector("img");T.style.boxShadow="0 2px 11px #000c",T.style.filter="",R.currentTarget.style.transform="",R.currentTarget.style.zIndex=2},children:[h.jsx("div",{style:{position:"absolute",left:-26,bottom:12,fontSize:"4.8rem",fontWeight:900,color:"#fff",opacity:.8,WebkitTextStroke:"2.5px #fff",textStroke:"2.5px #fff",lineHeight:1,zIndex:3,pointerEvents:"none",textShadow:"0 2px 8px #000a",fontFamily:"Montserrat,Arial,sans-serif"},children:N+1}),h.jsx("img",{src:j.poster_path?`https://image.tmdb.org/t/p/w342${j.poster_path}`:"/posters/placeholder.png",alt:j.title,style:{width:Fn,height:pl,objectFit:"cover",borderRadius:15,boxShadow:"0 2px 11px #000c",display:"block",background:"#191919",transition:"box-shadow 0.13s, filter 0.13s"}})]},j.id))})]}),h.jsx("style",{children:`
        .trending-row::-webkit-scrollbar { display: none; }
        .fflick-poster:focus img {
          box-shadow: 0 4px 16px #0009 !important;
          filter: brightness(1.06);
        }
        .fflick-poster:focus {
          transform: translateY(-5px) scale(1.03) !important;
          z-index: 10;
        }
        @media (max-width: 600px) {
          .fflick-poster,
          .fflick-poster img {
            width: 102px !important;
            min-width: 102px !important;
            height: 144px !important;
            min-height: 144px !important;
            max-width: 102px !important;
            max-height: 144px !important;
            border-radius: 10px !important;
          }
        }
      `}),f&&h.jsx(dy,{movie:f,onClose:()=>p(null),onSignIn:i})]})}function dy({movie:s,onClose:r,onSignIn:i}){if(!s)return null;const o={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV",53:"Thriller",10752:"War",37:"Western"},l=(s.genre_ids||[]).map(u=>o[u]||null).filter(Boolean);return h.jsxs(h.Fragment,{children:[h.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.77)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",animation:"modalFadeIn 0.22s"},onClick:r}),h.jsx("style",{children:`
        @keyframes modalFadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @media (max-width: 700px) {
          .fflick-movie-modal-main { width: 97vw !important; min-width: 0 !important; }
          .fflick-movie-modal-image { max-height: 210px !important; }
        }
      `}),h.jsxs("div",{className:"fflick-movie-modal-main",style:{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"490px",maxWidth:"97vw",minWidth:"320px",background:"#18141c",borderRadius:"18px",boxShadow:"0 9px 54px #000b",color:"#fff",zIndex:10001,overflow:"hidden",animation:"modalFadeIn 0.23s"},onClick:u=>u.stopPropagation(),children:[h.jsx("button",{onClick:r,"aria-label":"Close",style:{position:"absolute",top:17,right:17,background:"rgba(34,32,32,0.81)",border:"none",color:"#fff",fontSize:32,width:40,height:40,borderRadius:"50%",cursor:"pointer",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"✕"}),h.jsx("img",{className:"fflick-movie-modal-image",src:s.backdrop_path?`https://image.tmdb.org/t/p/w780${s.backdrop_path}`:s.poster_path?`https://image.tmdb.org/t/p/w500${s.poster_path}`:"/posters/placeholder.png",alt:s.title,style:{width:"100%",objectFit:"cover",maxHeight:220,borderTopLeftRadius:18,borderTopRightRadius:18,filter:"brightness(0.91) contrast(1.07)"}}),h.jsxs("div",{style:{padding:"26px 18px 18px 18px"},children:[h.jsx("div",{style:{fontWeight:900,fontSize:28,marginBottom:11,letterSpacing:"-1px"},children:s.title}),h.jsxs("div",{style:{marginBottom:12,display:"flex",gap:7,flexWrap:"wrap"},children:[s.release_date&&h.jsx("span",{style:{background:"#33373c",color:"#fff",borderRadius:7,padding:"4px 13px",fontSize:15,marginRight:3},children:s.release_date.slice(0,4)}),l.map((u,f)=>h.jsx("span",{style:{background:"#33373c",color:"#fff",borderRadius:7,padding:"4px 13px",fontSize:15,marginRight:3},children:u},u))]}),h.jsx("div",{style:{fontSize:15.5,color:"#f2f2f2",marginBottom:22,fontWeight:400,lineHeight:1.56},children:s.overview||"No description available."}),h.jsxs("button",{onClick:i,style:{background:"linear-gradient(90deg,#fe9245 10%,#eb423b 90%)",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:15,padding:"7px 18px",minWidth:100,boxShadow:"0 2px 8px #fe92451a",cursor:"pointer",transition:"all 0.15s",letterSpacing:"0.01em",marginTop:8,display:"flex",alignItems:"center",gap:7},onMouseEnter:u=>{u.currentTarget.style.background="linear-gradient(90deg,#eb423b 10%,#fe9245 90%)",u.currentTarget.style.transform="scale(1.03)",u.currentTarget.style.boxShadow="0 6px 18px #fe92452d"},onMouseLeave:u=>{u.currentTarget.style.background="linear-gradient(90deg,#fe9245 10%,#eb423b 90%)",u.currentTarget.style.transform="none",u.currentTarget.style.boxShadow="0 2px 8px #fe92451a"},children:["Get Started ",h.jsx("span",{style:{fontSize:18,marginLeft:1},children:"›"})]})]})]})]})}var vh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rf=bn.createContext&&bn.createContext(vh),fy=["attr","size","title"];function hy(s,r){if(s==null)return{};var i=py(s,r),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(l=0;l<u.length;l++)o=u[l],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(s,o)&&(i[o]=s[o])}return i}function py(s,r){if(s==null)return{};var i={};for(var o in s)if(Object.prototype.hasOwnProperty.call(s,o)){if(r.indexOf(o)>=0)continue;i[o]=s[o]}return i}function eo(){return eo=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])}return s},eo.apply(this,arguments)}function Tf(s,r){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,o)}return i}function to(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Tf(Object(i),!0).forEach(function(o){my(s,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Tf(Object(i)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(i,o))})}return s}function my(s,r,i){return r=gy(r),r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function gy(s){var r=vy(s,"string");return typeof r=="symbol"?r:r+""}function vy(s,r){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var o=i.call(s,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function yh(s){return s&&s.map((r,i)=>bn.createElement(r.tag,to({key:i},r.attr),yh(r.child)))}function Bl(s){return r=>bn.createElement(yy,eo({attr:to({},s.attr)},r),yh(s.child))}function yy(s){var r=i=>{var{attr:o,size:l,title:u}=s,f=hy(s,fy),p=l||i.size||"1em",m;return i.className&&(m=i.className),s.className&&(m=(m?m+" ":"")+s.className),bn.createElement("svg",eo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,o,f,{className:m,style:to(to({color:s.color||i.color},i.style),s.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&bn.createElement("title",null,u),s.children)};return Rf!==void 0?bn.createElement(Rf.Consumer,null,i=>r(i)):r(vh)}function xy(s){return Bl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(s)}function wy(s){return Bl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(s)}const xh="/assets/logo-BNsXPHm6.png";function _y(){return h.jsxs("footer",{className:"w-full mt-0 bg-black/90 rounded-none pt-16 pb-10 text-white shadow-[0_-2px_24px_0_#0007] text-[15px]",children:[h.jsxs("div",{className:"flex flex-wrap max-w-[1240px] mx-auto justify-between gap-x-12 gap-y-10 px-[5vw]",children:[h.jsxs("div",{className:"flex flex-col items-start mb-2 min-w-[140px]",children:[h.jsx("img",{src:xh,alt:"FeelFlick",className:"w-11 h-11 rounded-xl mb-2 shadow-[0_2px_9px_#ff5b2e14]"}),h.jsx("span",{className:"font-black text-[22px] tracking-tight mb-1 text-white",children:"FeelFlick"}),h.jsx("div",{className:"w-12 h-[3px] bg-gradient-to-r from-[#fe9245] via-[#eb423b] to-[#367cff] rounded mb-2"})]}),h.jsxs("div",{className:"flex-1 min-w-[120px]",children:[h.jsx("div",{className:"font-bold mb-2 text-sm text-white",children:"About"}),h.jsx("div",{className:"opacity-80 text-zinc-200 text-[15px] mb-2 cursor-pointer hover:text-orange-400 transition",children:"Contact Us"}),h.jsx("div",{className:"opacity-80 text-zinc-200 text-[15px] mb-2 cursor-pointer hover:text-orange-400 transition",children:"Careers"}),h.jsx("div",{className:"opacity-80 text-zinc-200 text-[15px] mb-2 cursor-pointer hover:text-orange-400 transition",children:"Feedback"})]}),h.jsxs("div",{className:"flex-1 min-w-[120px]",children:[h.jsx("div",{className:"font-bold mb-2 text-sm text-white",children:"Legal"}),h.jsx("div",{className:"opacity-80 text-zinc-200 text-[15px] mb-2 cursor-pointer hover:text-orange-400 transition",children:"Privacy Policy"}),h.jsx("div",{className:"opacity-80 text-zinc-200 text-[15px] mb-2 cursor-pointer hover:text-orange-400 transition",children:"Terms of Use"}),h.jsx("div",{className:"opacity-80 text-zinc-200 text-[15px] mb-2 cursor-pointer hover:text-orange-400 transition",children:"Cookie Policy"})]}),h.jsxs("div",{className:"flex-1 min-w-[120px]",children:[h.jsx("div",{className:"font-bold mb-2 text-sm text-white",children:"Help"}),h.jsx("div",{className:"opacity-80 text-zinc-200 text-[15px] mb-2 cursor-pointer hover:text-orange-400 transition",children:"Help Center"}),h.jsx("div",{className:"opacity-80 text-zinc-200 text-[15px] mb-2 cursor-pointer hover:text-orange-400 transition",children:"FAQ"}),h.jsx("div",{className:"opacity-80 text-zinc-200 text-[15px] mb-2 cursor-pointer hover:text-orange-400 transition",children:"How it Works"})]}),h.jsxs("div",{className:"flex-1 min-w-[140px]",children:[h.jsx("div",{className:"font-bold mb-2 text-sm text-white",children:"Social"}),h.jsxs("div",{className:"flex gap-2 flex-wrap",children:[h.jsx("a",{href:"https://instagram.com/feelflick",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"inline-flex items-center justify-center rounded-full bg-white/10 w-8 h-8 mr-1 mb-1 text-lg text-white border-none cursor-pointer hover:bg-orange-500/80 hover:text-white transition",children:h.jsx(xy,{})}),h.jsx("a",{href:"https://tiktok.com/@feelflick",target:"_blank",rel:"noopener noreferrer","aria-label":"TikTok",className:"inline-flex items-center justify-center rounded-full bg-white/10 w-8 h-8 mr-1 mb-1 text-lg text-white border-none cursor-pointer hover:bg-orange-500/80 hover:text-white transition",children:h.jsx(wy,{})})]})]})]}),h.jsxs("div",{className:"text-center text-white text-[13px] opacity-20 mt-11 tracking-wide font-normal select-none",children:["© ",new Date().getFullYear()," FeelFlick — All rights reserved."]})]})}function ky(){const s=nt(),[r,i]=_.useState(!0);_.useEffect(()=>{oe.auth.getSession().then(({data:u})=>{u.session?s("/app",{replace:!0}):i(!1)})},[s]);const o=()=>s("/auth/sign-in"),l=()=>s("/auth/sign-up");return r?h.jsx("div",{style:{width:"100vw",height:"100vh",background:"#101015",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):h.jsxs("div",{style:{width:"100vw",minHeight:"100vh",background:"#101015",overflowX:"hidden",position:"relative"},children:[h.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"/background-poster.jpg",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",objectFit:"cover",zIndex:0,filter:"brightness(0.54) blur(0.6px)"},children:h.jsx("source",{src:"/background.mp4",type:"video/mp4"})}),h.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(20,24,35,0.42)",zIndex:1,pointerEvents:"none"}}),h.jsxs("div",{style:{position:"relative",zIndex:2},children:[h.jsx(iy,{onSignIn:o}),h.jsx(oy,{onGetStarted:l}),h.jsx(ly,{}),h.jsx(cy,{onSignUp:l}),h.jsx(_y,{})]})]})}function by(s){return Bl({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(s)}function Sy({mode:s="sign-in",onSwitchMode:r}){const i=s==="sign-up",o=nt(),[l,u]=_.useState(""),[f,p]=_.useState(""),[m,g]=_.useState(""),[y,x]=_.useState(""),[k,j]=_.useState(""),[N,R]=_.useState(!1),[T,I]=_.useState(!1),[Y,L]=_.useState(""),[W,$]=_.useState(""),[M,ne]=_.useState(!1),[Z,q]=_.useState(!1),V={accent:"#fe9245",accent2:"#eb423b"};async function ge(K){if(K.preventDefault(),j(""),R(!0),i){if(f!==m){j("Passwords do not match."),R(!1);return}const{error:H}=await oe.auth.signUp({email:l,password:f,options:{data:{name:y},emailRedirectTo:`${window.location.origin}/auth/confirm`}});if(R(!1),H)return j(H.message);q(!0);return}const{error:ae}=await oe.auth.signInWithPassword({email:l,password:f});R(!1),ae?j(ae.message):o("/onboarding")}async function Le(){j(""),R(!0),await oe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/onboarding`}}),R(!1)}async function Ae(K){if(K.preventDefault(),$(""),ne(!1),!Y)return $("Please enter your email.");const{error:ae}=await oe.auth.resetPasswordForEmail(Y,{redirectTo:`${window.location.origin}/auth/reset-password`});ae?$(ae.message):ne(!0)}return Z?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#101015] text-white px-4",children:h.jsxs("div",{className:"max-w-[480px] w-full bg-[#18141c] px-7 py-10 rounded-2xl shadow-[0_8px_38px_#000c] text-center",children:[h.jsx("div",{className:"text-[1.7rem] font-black mb-4 tracking-tight",children:"Confirm your e-mail 📧"}),h.jsxs("p",{className:"leading-[1.6] text-base opacity-90 mb-3",children:["We just sent a verification link to ",h.jsx("b",{children:l}),".",h.jsx("br",{}),"Click the button in that e-mail to activate your account."]}),h.jsx("button",{onClick:()=>q(!1),className:"mt-6 bg-[#232330] text-white text-base font-bold px-6 py-2 rounded-lg transition hover:bg-[#232330]/80",children:"‹ Back"})]})}):h.jsxs(h.Fragment,{children:[h.jsxs("form",{onSubmit:ge,className:`
          w-full max-w-[430px] mx-auto mt-[9vh]
          bg-[rgba(24,22,32,0.94)] rounded-2xl shadow-[0_8px_48px_#0008]
          px-7 py-8 flex flex-col
        `,children:[h.jsx("div",{className:"text-[1.4rem] font-black text-white mb-4 text-center tracking-tight",children:i?"Sign Up":"Sign In"}),i&&h.jsx("input",{type:"text",placeholder:"Your name",required:!0,value:y,onChange:K=>x(K.target.value),className:`
              my-2 px-4 py-[13px] rounded-lg border-none text-base
              bg-[#232330] text-white font-medium tracking-tight outline-none
              shadow-[0_1.5px_8px_#0004] placeholder:text-zinc-400
            `}),h.jsx("input",{type:"email",placeholder:"Email address",required:!0,value:l,onChange:K=>u(K.target.value),className:`
            my-2 px-4 py-[13px] rounded-lg border-none text-base
            bg-[#232330] text-white font-medium tracking-tight outline-none
            shadow-[0_1.5px_8px_#0004] placeholder:text-zinc-400
          `}),h.jsx("input",{type:"password",placeholder:"Password",required:!0,autoComplete:i?"new-password":"current-password",value:f,onChange:K=>p(K.target.value),className:`
            my-2 px-4 py-[13px] rounded-lg border-none text-base
            bg-[#232330] text-white font-medium tracking-tight outline-none
            shadow-[0_1.5px_8px_#0004] placeholder:text-zinc-400
          `}),i&&h.jsx("input",{type:"password",placeholder:"Confirm password",required:!0,value:m,onChange:K=>g(K.target.value),className:`
              my-2 px-4 py-[13px] rounded-lg border-none text-base
              bg-[#232330] text-white font-medium tracking-tight outline-none
              shadow-[0_1.5px_8px_#0004] placeholder:text-zinc-400
            `}),!i&&h.jsx("div",{className:"text-right my-0 mb-1",children:h.jsx("span",{onClick:()=>I(!0),className:"text-[13.5px] font-semibold cursor-pointer",style:{color:V.accent},children:"Forgot your password?"})}),k&&h.jsx("div",{className:"text-center text-[15px] font-semibold my-1",style:{color:V.accent2},children:k}),h.jsx("button",{type:"submit",disabled:N,className:`
            mt-3 rounded-lg font-extrabold text-[16.2px] py-[11px] shadow-[0_2px_11px_#fe924522]
            transition duration-100
          `,style:{background:`linear-gradient(90deg,${V.accent} 10%,${V.accent2} 90%)`,color:"#fff",border:"none",opacity:N?.7:1,cursor:N?"not-allowed":"pointer"},children:N?i?"Signing up…":"Signing in…":i?"Sign Up":"Sign In"}),h.jsxs("div",{className:"flex items-center my-3",children:[h.jsx("div",{className:"flex-1 h-[1px] bg-zinc-700"}),h.jsx("span",{className:"text-zinc-400 text-[11.6px] font-semibold px-3",children:"or"}),h.jsx("div",{className:"flex-1 h-[1px] bg-zinc-700"})]}),h.jsxs("button",{type:"button",disabled:N,onClick:Le,className:`
            bg-white text-zinc-900 font-bold text-[15px] py-2 rounded-lg
            shadow-[0_1.5px_8px_#0003]
            flex items-center justify-center gap-2 mb-1 transition
            active:scale-[0.97] hover:bg-zinc-100
          `,style:{cursor:N?"not-allowed":"pointer",opacity:N?.7:1},children:[h.jsx(by,{size:20})," Continue with Google"]}),h.jsx("div",{className:"text-zinc-400 mt-3 text-center text-[13.5px]",children:i?h.jsxs(h.Fragment,{children:["Already have an account?"," ",h.jsx("span",{className:"font-bold cursor-pointer",style:{color:V.accent},onClick:()=>r("sign-in"),children:"Sign in"})]}):h.jsxs(h.Fragment,{children:["New to FeelFlick?"," ",h.jsx("span",{className:"font-bold cursor-pointer",style:{color:V.accent},onClick:()=>r("sign-up"),children:"Sign up now."})]})})]}),T&&h.jsx("div",{className:"fixed inset-0 bg-black/80 z-[4000] flex items-center justify-center",children:h.jsxs("form",{onSubmit:Ae,className:"bg-[#191924] rounded-xl p-7 pt-6 pb-6 shadow-[0_8px_38px_#0007] max-w-[340px] w-[93vw] flex flex-col",children:[h.jsx("div",{className:"font-extrabold text-lg mb-3 text-white text-center",children:"Reset your password"}),h.jsx("input",{type:"email",placeholder:"Your e-mail",value:Y,onChange:K=>L(K.target.value),required:!0,className:`
                my-2 px-4 py-[13px] rounded-lg border-none text-base
                bg-[#232330] text-white font-medium tracking-tight outline-none
                shadow-[0_1.5px_8px_#0004] placeholder:text-zinc-400
              `}),W&&h.jsx("div",{className:"text-center text-[15px] my-1 font-semibold",style:{color:V.accent2},children:W}),M&&h.jsx("div",{className:"text-center mt-2 font-semibold",style:{color:V.accent},children:"Reset link sent! Check your inbox."}),h.jsx("button",{type:"submit",className:"bg-gradient-to-r from-orange-400 to-red-500 text-white font-bold rounded-lg py-2 mt-4",children:"Send reset link"}),h.jsx("button",{type:"button",onClick:()=>I(!1),className:"bg-none border-none text-zinc-400 font-semibold text-sm mt-3 hover:text-zinc-200 transition",children:"Cancel"})]})})]})}function Of({mode:s}){const r=nt();return h.jsxs("div",{className:"min-h-screen w-screen bg-[#101015] relative overflow-hidden",children:[h.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"/background-poster.jpg",className:"fixed top-0 left-0 w-screen h-screen object-cover z-0 brightness-[0.62] blur-[0.24px]",children:h.jsx("source",{src:"/background.mp4",type:"video/mp4"})}),h.jsx("div",{className:"fixed inset-0 bg-[rgba(18,22,30,0.32)] z-[1] pointer-events-none"}),h.jsx("div",{className:"relative z-[2]",children:h.jsx(Sy,{mode:s,onSwitchMode:i=>{r(i==="sign-in"?"/auth/sign-in":"/auth/sign-up")}})})]})}function jy(){const{hash:s}=$t(),r=nt(),[i]=_.useState(()=>Object.fromEntries(new URLSearchParams(s.startsWith("#")?s.slice(1):s))),{access_token:o,refresh_token:l}=i;_.useEffect(()=>{o&&l&&oe.auth.setSession({access_token:o,refresh_token:l}).catch(N=>console.error("setSession failed:",N))},[o,l]);const[u,f]=_.useState(""),[p,m]=_.useState(""),[g,y]=_.useState(""),[x,k]=_.useState(!1);async function j(N){if(N.preventDefault(),y(""),u.length<8)return y("Password must be at least 8 characters.");if(u!==p)return y("Passwords do not match.");const{error:R}=await oe.auth.updateUser({password:u});R?y(R.message):(k(!0),setTimeout(()=>r("/auth/sign-in"),2e3))}return!o||!l?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#101015] font-sans",children:h.jsx("div",{className:"text-white text-lg text-center",children:"Invalid or expired reset link."})}):h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#101015] font-sans",children:h.jsxs("form",{onSubmit:j,className:`
          bg-[#18141c] px-8 py-10 rounded-2xl min-w-[320px] w-full max-w-[370px]
          shadow-[0_8px_38px_#000c] text-white flex flex-col
        `,children:[h.jsx("div",{className:"text-2xl font-black mb-6 text-center",children:"Set a new password"}),h.jsx("input",{type:"password",placeholder:"New password",className:"my-2 px-4 py-3 rounded-lg bg-[#232330] border-none text-base text-white placeholder:text-zinc-400 outline-none",value:u,onChange:N=>f(N.target.value)}),h.jsx("input",{type:"password",placeholder:"Confirm password",className:"my-2 px-4 py-3 rounded-lg bg-[#232330] border-none text-base text-white placeholder:text-zinc-400 outline-none",value:p,onChange:N=>m(N.target.value)}),g&&h.jsx("div",{className:"text-center text-[#eb423b] mt-2 text-[15px]",children:g}),x&&h.jsx("div",{className:"text-center text-[#fe9245] mt-2 text-[15px]",children:"Password updated! Redirecting…"}),!x&&h.jsx("button",{type:"submit",className:`
              mt-5 bg-gradient-to-r from-[#fe9245] to-[#eb423b]
              border-none rounded-lg text-white font-bold text-[17px]
              py-3 transition hover:opacity-95 active:scale-98
              shadow-[0_2px_12px_#fe924522]
            `,children:"Reset password"})]})})}function Ey(){const{hash:s}=$t(),r=nt();return _.useEffect(()=>{const i=Object.fromEntries(new URLSearchParams(s.slice(1))),{access_token:o,refresh_token:l}=i;o&&l?oe.auth.setSession({access_token:o,refresh_token:l}).then(()=>r("/app",{replace:!0})):r("/auth/sign-in",{replace:!0})},[s,r]),h.jsx("div",{className:"min-h-[60vh] flex items-center justify-center text-white text-lg font-semibold",children:"Setting up your account…"})}const Cy="1.1px solid #fe9245",If="linear-gradient(90deg,#fe9245 10%,#eb423b 90%)",Ny="linear-gradient(88deg, var(--theme-color,#FF5B2E), var(--theme-color-secondary,#367cff) 80%)",Py="rgba(22,19,28,0.9)";function Ry(){const s=nt(),[r,i]=_.useState(null),[o,l]=_.useState(!0),[u,f]=_.useState(1),[p,m]=_.useState([]),[g,y]=_.useState(""),[x,k]=_.useState([]),[j,N]=_.useState(!1),[R,T]=_.useState([]),[I,Y]=_.useState(""),[L,W]=_.useState(!1),$=void 0;_.useEffect(()=>{oe.auth.getSession().then(({data:ae})=>i(ae.session));const{data:K}=oe.auth.onAuthStateChange((ae,H)=>i(H));return()=>K?.subscription?.unsubscribe()},[]),_.useEffect(()=>{!r||!r.user||oe.from("users").select("onboarding_complete").eq("id",r.user.id).single().then(({data:K,error:ae})=>{if(ae){console.error("SELECT users failed:",ae.message),Y("Could not load profile — reload."),l(!1);return}K?.onboarding_complete||r.user.user_metadata?.onboarding_complete?s("/app",{replace:!0}):l(!1)})},[r,s]);const M=_.useMemo(()=>[{id:28,label:"Action"},{id:12,label:"Adventure"},{id:16,label:"Animation"},{id:35,label:"Comedy"},{id:80,label:"Crime"},{id:99,label:"Documentary"},{id:18,label:"Drama"},{id:10751,label:"Family"},{id:14,label:"Fantasy"},{id:36,label:"History"},{id:27,label:"Horror"},{id:10402,label:"Music"},{id:9648,label:"Mystery"},{id:10749,label:"Romance"},{id:878,label:"Sci-fi"},{id:53,label:"Thriller"}],[]);_.useEffect(()=>{let K=!0;if(!g){k([]),N(!1);return}return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${$}&query=${encodeURIComponent(g)}`).then(ae=>ae.json()).then(ae=>{if(!K)return;const H=(ae.results||[]).sort((ue,B)=>(B.popularity||0)-(ue.popularity||0)||(B.vote_average||0)-(ue.vote_average||0));k(H),N(!1)}),()=>{K=!1}},[g,$]);const ne=K=>m(ae=>ae.includes(K)?ae.filter(H=>H!==K):[...ae,K]),Z=K=>{R.some(ae=>ae.id===K.id)||T(ae=>[...ae,K]),y(""),k([]),N(!1)},q=K=>T(ae=>ae.filter(H=>H.id!==K));async function V(K=!1,ae=!1){Y(""),W(!0);try{const H=r.user.id,ue=r.user.email,B=r.user.user_metadata?.name||"";if(await oe.from("users").upsert([{id:H,email:ue,name:B}],{onConflict:["id"]}),K||(await oe.from("user_preferences").delete().eq("user_id",H),p.length&&await oe.from("user_preferences").upsert(p.map(Q=>({user_id:H,genre_id:Q})),{onConflict:["user_id","genre_id"]})),!ae){for(const Q of R)await oe.from("movies").upsert({tmdb_id:Q.id,title:Q.title,poster_path:Q.poster_path,release_date:Q.release_date},{onConflict:["tmdb_id"]});for(const Q of R)await oe.from("movies_watched").upsert({user_id:H,movie_id:Q.id,title:Q.title,poster:Q.poster_path,release_date:Q.release_date,vote_average:Q.vote_average,genre_ids:Q.genre_ids||null},{onConflict:["user_id","movie_id"]});await oe.from("user_watchlist").delete().eq("user_id",H).eq("status","onboarding"),R.length&&await oe.from("user_watchlist").upsert(R.map(Q=>({user_id:H,movie_id:Q.id,status:"onboarding"})),{onConflict:["user_id","movie_id"]})}await oe.from("users").update({onboarding_complete:!0}).eq("id",H),await oe.auth.updateUser({data:{onboarding_complete:!0}}),s("/app",{replace:!0})}catch(H){console.error("Onboarding save failed:",H),Y("Could not save your preferences — please try again.")}W(!1)}if(o)return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white font-bold text-lg tracking-wide",children:"Loading profile…"});const ge=window.innerWidth<700?"100vw":"700px",Le=window.innerWidth<700?"11px":"0 auto",Ae=12;return h.jsxs("div",{className:"min-h-screen w-screen flex flex-col items-stretch justify-stretch relative font-sans",style:{background:"url(/background-poster.jpg) center/cover, #18141c"},children:[h.jsxs("div",{className:"absolute left-8 top-6 z-10 flex items-center gap-2.5",children:[h.jsx("img",{src:"/logo.png",alt:"FeelFlick",className:"w-[42px] h-[42px] rounded-[12px] shadow-md"}),h.jsx("span",{className:"text-[23px] font-extrabold text-white tracking-tight drop-shadow-lg",children:"FeelFlick"})]}),h.jsxs("div",{className:"self-center flex flex-col",style:{width:ge,margin:Le,minHeight:500,marginTop:72,marginBottom:16,background:Py,borderRadius:22,boxShadow:"0 8px 44px 0 #0007",padding:"36px 30px 27px 30px",zIndex:10},children:[I&&h.jsx("div",{className:"text-red-400 bg-[#3d1113] rounded-md text-center mb-3 font-semibold text-[14.5px] py-2 px-1.5",children:I}),u===1&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-extrabold text-white text-center mb-1 tracking-tight",children:"Let’s get to know your taste."}),h.jsx("div",{className:"text-[13px] font-normal text-[#e9e9ef] text-center mb-2 mt-1 tracking-tight",children:"Pick a few genres you love — it helps us recommend movies that truly match your energy."}),h.jsx("div",{className:"grid grid-cols-4 gap-2 w-full mx-auto mb-3 justify-items-center items-center",children:M.map(K=>h.jsx("button",{type:"button",className:`
                    w-[120px] h-[34px] rounded-xl border
                    text-white font-medium text-[${Ae}px] text-center
                    transition-all duration-150
                    ${p.includes(K.id)?"shadow-md":""}
                  `,style:{margin:"3px 0",border:Cy,background:p.includes(K.id)?Ny:"transparent",boxShadow:p.includes(K.id)?"0 2px 7px #fdaf4111":"none",outline:"none",padding:"3.5px 0"},onClick:()=>ne(K.id),children:h.jsx("span",{className:"font-medium text-center leading-[1.17] truncate",children:K.label})},K.id))}),h.jsxs("div",{className:"flex justify-center mt-4 gap-6",children:[h.jsx("button",{className:"px-6 py-2 rounded-lg font-extrabold text-[15px] text-white",style:{background:If,boxShadow:"0 2px 10px #eb423b22",opacity:L?.7:1,minWidth:80,letterSpacing:.01},disabled:L,onClick:()=>f(2),children:"Next"}),h.jsx("button",{className:"bg-none text-[#fe9245] font-extrabold text-[13.5px] border-none cursor-pointer min-w-[44px]",disabled:L,onClick:()=>V(!0,!1),children:"Skip"})]})]}),u===2&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-extrabold text-white text-center mb-1 tracking-tight",children:"Got some favorite movies?"}),h.jsx("div",{className:"text-[13px] text-white font-normal text-center mb-2 mt-1 opacity-85 tracking-tight",children:"Pick a few to help us understand your taste and give you more personalized suggestions."}),h.jsx("input",{type:"text",placeholder:"Search a movie…",value:g,onChange:K=>y(K.target.value),className:"w-full bg-[#232330] rounded-lg py-2.5 px-3 text-[13px] font-medium text-white outline-none border-none mb-2 mt-0 shadow"}),g&&x.length>0&&h.jsxs("div",{className:"bg-[#242134] rounded-[20px] max-h-[200px] overflow-y-auto mb-1.5 shadow",children:[(j?x:x.slice(0,3)).map((K,ae)=>h.jsxs("div",{className:"flex items-center px-3 py-1.5 border-b border-[#302c37] cursor-pointer gap-1.5 transition-colors duration-100 hover:bg-[#232330]",onClick:()=>Z(K),children:[h.jsx("img",{src:K.poster_path?`https://image.tmdb.org/t/p/w185${K.poster_path}`:"https://dummyimage.com/80x120/232330/fff&text=No+Image",alt:K.title,className:"w-[27px] h-[40px] object-cover rounded-[5px] mr-0.5 mb-0.5 bg-[#101012]"}),h.jsx("span",{className:"text-white font-semibold text-[13px] flex flex-col",children:K.title.split(" ").reduce((H,ue,B)=>(B%7===0&&H.push([]),H[H.length-1].push(ue),H),[]).map((H,ue)=>h.jsxs("span",{className:"block",children:[H.join(" "),ue===0&&h.jsx("span",{className:"text-[#eee] font-normal text-[14px] ml-2",children:K.release_date?`(${K.release_date.slice(0,4)})`:""})]},ue))})]},K.id)),!j&&x.length>3&&h.jsx("div",{className:"text-center py-1 text-[#fe9245] font-semibold text-[14px] cursor-pointer select-none",onClick:()=>N(!0),children:"See more"})]}),R.length>0&&h.jsxs("div",{children:[h.jsx("div",{className:"text-white font-bold text-[14px] mt-2.5 mb-1.5",children:"Your picks:"}),h.jsx("div",{className:"flex flex-wrap gap-2.5 mb-2.5",children:R.map(K=>h.jsxs("div",{className:"flex flex-col items-center gap-0.5 bg-[#231d2d] rounded-md px-0.5 py-0.5",children:[h.jsx("img",{src:K.poster_path?`https://image.tmdb.org/t/p/w92${K.poster_path}`:"https://dummyimage.com/80x120/232330/fff&text=No+Image",alt:K.title,className:"w-[60px] h-[90px] object-cover rounded bg-[#101012] mx-1.5"}),h.jsx("span",{className:"flex flex-col items-center font-medium text-[13px] text-white mt-1",children:K.title.split(" ").reduce((ae,H,ue)=>(ue%7===0&&ae.push([]),ae[ae.length-1].push(H),ae),[]).map((ae,H)=>h.jsx("span",{className:"block",children:ae.join(" ")},H))}),h.jsx("button",{className:"bg-none border-none text-[#fd7069] text-[22px] mt-0 mx-0 cursor-pointer font-normal opacity-80",onClick:()=>q(K.id),tabIndex:-1,children:"×"})]},K.id))})]}),h.jsxs("div",{className:"flex justify-center mt-2 gap-4",children:[h.jsx("button",{className:"px-3 py-1.5 rounded-md font-extrabold text-xs text-[#fe9245] bg-none border-none mr-2 cursor-pointer",disabled:L,onClick:()=>f(1),children:"< Back"}),h.jsx("button",{className:"px-6 py-2 rounded-xl font-extrabold text-[15px] text-white",style:{background:If,boxShadow:"0 2px 10px #eb423b22",opacity:L?.7:1,minWidth:65},disabled:L,onClick:()=>V(!1,!1),children:"Finish"}),h.jsx("button",{className:"bg-none text-[#fe9245] font-extrabold text-xs border-none cursor-pointer min-w-[44px]",disabled:L,onClick:()=>V(!1,!0),children:"Skip"})]})]})]})]})}const Ty={display:"flex",flexWrap:"nowrap",gap:"12px",overflowX:"auto",overflowY:"hidden",WebkitOverflowScrolling:"touch",scrollSnapType:"x mandatory",padding:"0 12px",marginBottom:"32px",minWidth:0,maxWidth:"100vw",touchAction:"pan-x"},wh={minWidth:"120px",width:"28vw",maxWidth:"160px",aspectRatio:"2/3",flexShrink:0,borderRadius:"16px",overflow:"hidden",background:"#18181b",boxShadow:"0 2px 8px #0006",cursor:"pointer",scrollSnapAlign:"start",transition:"transform 0.18s",border:"none"},Oy={...wh,background:"#262626",animation:"pulse 1.1s infinite alternate"},Iy={fontSize:"1.28rem",fontWeight:700,margin:"0 0 12px 12px",color:"#fff",letterSpacing:"0.01em"},$y={width:"100%",height:"100%",objectFit:"cover",display:"block"},Ly=`
@keyframes pulse {
  0% { opacity: 0.65; }
  100% { opacity: 1; }
}
`;async function Ay(s){return((await(await fetch(`https://api.themoviedb.org/3/movie/${s}?api_key=undefined&language=en-US&page=1`)).json()).results||[]).filter(l=>l.poster_path)}function $f({title:s,endpoint:r}){const i=nt(),[o,l]=_.useState([]),[u,f]=_.useState(!0);return _.useEffect(()=>{f(!0),Ay(r).then(l).finally(()=>f(!1))},[r]),h.jsxs("section",{children:[h.jsx("style",{children:Ly}),h.jsx("h2",{style:Iy,children:s}),h.jsx("div",{style:Ty,children:(u?Array(6).fill(null):o).map((p,m)=>p?h.jsx("div",{style:wh,onClick:()=>i(`/movie/${p.id}`),tabIndex:0,"aria-label":`Open ${p.title}`,onTouchStart:g=>g.stopPropagation(),onMouseDown:g=>g.stopPropagation(),children:h.jsx("img",{src:`https://image.tmdb.org/t/p/w500${p.poster_path}`,alt:p.title,style:$y,draggable:!1,loading:"lazy"})},p.id):h.jsx("div",{style:Oy},m))})]})}function zy(){return h.jsx("div",{className:"w-full min-h-screen pb-14 bg-zinc-950",children:h.jsxs("div",{className:"flex flex-col gap-6 md:gap-10 max-w-full md:max-w-[1100px] mx-auto mt-4",children:[h.jsx($f,{title:"Popular Now",endpoint:"popular"}),h.jsx($f,{title:"Top Rated",endpoint:"top_rated"})]})})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),My=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,o)=>o?o.toUpperCase():i.toLowerCase()),Lf=s=>{const r=My(s);return r.charAt(0).toUpperCase()+r.slice(1)},_h=(...s)=>s.filter((r,i,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===i).join(" ").trim(),Fy=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=_.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,iconNode:f,...p},m)=>_.createElement("svg",{ref:m,...Uy,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:_h("lucide",l),...!u&&!Fy(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,y])=>_.createElement(g,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(s,r)=>{const i=_.forwardRef(({className:o,...l},u)=>_.createElement(By,{ref:u,iconNode:r,className:_h(`lucide-${Dy(Lf(s))}`,`lucide-${s}`,o),...l}));return i.displayName=Lf(s),i};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Wl=pt("bookmark",Wy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Af=pt("circle-check-big",Hy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Vy=pt("circle-play",qy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gy=pt("clock",Ky);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Qy=pt("flame",Yy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Xy=pt("house",Jy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ex=pt("log-out",Zy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Hl=pt("search",tx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],rx=pt("sliders-horizontal",nx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sx=pt("star",ix);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],kh=pt("trash-2",ox);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],lx=pt("user-round",ax);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],so=pt("x",ux),cx=void 0;function dx(){const s=nt(),[r,i]=_.useState(!1),[o,l]=_.useState(""),[u,f]=_.useState([]),[p,m]=_.useState(!1),[g,y]=_.useState(!1),[x,k]=_.useState(-1),j=_.useRef(null),N=_.useRef(null),R=_.useRef();_.useEffect(()=>{if(!o){f([]),y(!1);return}return y(!0),clearTimeout(R.current),R.current=setTimeout(()=>{fetch(`https://api.themoviedb.org/3/search/movie?api_key=${cx}&language=en-US&query=${encodeURIComponent(o)}&include_adult=false&page=1`).then($=>$.json()).then($=>{f(($.results||[]).filter(M=>M.title&&M.poster_path).slice(0,window.innerWidth<640?5:8).map(M=>({id:M.id,title:M.title,year:M.release_date?.slice(0,4)||"",poster:`https://image.tmdb.org/t/p/w154${M.poster_path}`}))),y(!1)}).catch(()=>y(!1))},220),()=>clearTimeout(R.current)},[o]),_.useEffect(()=>{const $=M=>{M.key==="/"&&document.activeElement.tagName!=="INPUT"&&(M.preventDefault(),window.innerWidth<640?i(!0):j.current?.focus()),p&&u.length&&(["ArrowDown","ArrowUp"].includes(M.key)&&(M.preventDefault(),k(ne=>M.key==="ArrowDown"?(ne+1)%u.length:(ne-1+u.length)%u.length)),M.key==="Enter"&&x>=0&&I(u[x]),M.key==="Escape"&&(m(!1),k(-1)))};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[p,u,x]),_.useEffect(()=>{const $=M=>{N.current&&!N.current.contains(M.target)&&!j.current.contains(M.target)&&(m(!1),k(-1))};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[]);const T=()=>{l(""),f([]),m(!1),i(!1),k(-1),j.current?.blur()},I=$=>{T(),s(`/movie/${$.id}`)},Y=({mobile:$=!1})=>!o&&!g?null:h.jsxs("div",{ref:N,className:`absolute left-0 right-0 ${$?"top-16":"top-12"}
          bg-[#191820] rounded-2xl shadow-2xl z-40 p-1 mt-1 ring-1 ring-orange-400/10
          transition-opacity duration-200
          ${p&&u.length?"opacity-100":"opacity-0 pointer-events-none"}`,style:{maxHeight:430,overflowY:"auto"},children:[g&&h.jsxs("div",{className:"flex justify-center items-center text-orange-400 py-4",children:[h.jsxs("svg",{className:"mr-2 h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",d:"M4 12a8 8 0 018-8v8z",fill:"currentColor"})]}),"Loading…"]}),!g&&u.map((M,ne)=>h.jsxs("div",{onClick:()=>I(M),className:`
              flex items-center gap-3 cursor-pointer px-2.5 py-2 rounded-lg transition
              ${ne===x?"bg-[#23212b] scale-[1.02] text-orange-300":"hover:bg-[#23212b]"}
            `,children:[h.jsx("img",{src:M.poster,alt:M.title,className:"search-poster border border-zinc-700 bg-[#16151c] object-cover shadow"}),h.jsxs("div",{className:"flex flex-col min-w-0",children:[h.jsx("span",{className:"truncate text-[15px] font-semibold",children:M.title}),h.jsx("span",{className:"text-xs text-zinc-400",children:M.year})]})]},M.id)),!g&&o&&!u.length&&h.jsx("div",{className:"text-center text-zinc-400 py-3",children:"No movies found. Try another title!"})]}),L=($=!1)=>h.jsxs("div",{className:"flex items-center h-10 bg-[#23212b] rounded-full pl-4 pr-1 sm:pl-5 sm:pr-2 w-full",children:[h.jsx("input",{ref:$?void 0:j,value:o,onFocus:()=>{m(!0),k(-1)},onChange:M=>l(M.target.value),placeholder:"Search movies…","aria-label":"Search movies",className:`
          flex-1 h-10 bg-transparent text-white text-sm leading-tight
          pl-2 border-none outline-none font-light placeholder-zinc-500
        `,style:{fontFamily:"Inter, sans-serif",minWidth:0},onKeyDown:M=>{M.key==="ArrowDown"&&u.length&&k(0)}}),o&&h.jsx("button",{onClick:T,"aria-label":"Clear search",className:"inline-flex items-center justify-center h-10 w-10 text-zinc-400 hover:text-red-400 bg-transparent border-none shadow-none outline-none p-0 m-0",style:{border:"none",boxShadow:"none",background:"transparent"},children:h.jsx(so,{size:18})}),h.jsx("button",{"aria-label":"Search",className:"inline-flex items-center justify-center h-10 w-10 bg-transparent border-none shadow-none outline-none",style:{border:"none",boxShadow:"none",background:"transparent"},children:h.jsx(Hl,{size:18,color:"#aaa"})})]}),W=()=>h.jsx("div",{className:"fixed inset-0 bg-[#101016f2] z-50 flex items-start pt-10 px-3 animate-fadeIn",children:h.jsxs("div",{className:"relative w-full max-w-xl mx-auto",children:[L(!0),p&&h.jsx(Y,{mobile:!0})]})});return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative w-full h-10 px-3 sm:px-5",children:[L(),p&&h.jsx(Y,{})]}),r&&h.jsx(W,{}),h.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; transform: translateY(12px); }
                            to   { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.22s both; }
        @media (max-width:600px){
          .search-poster{width:33px;height:49px;border-radius:6px}
        }
        @media (min-width:601px){
          .search-poster{width:44px;height:66px;border-radius:9px}
        }
      `})]})}function ql({user:s,onSignOut:r}){const i=nt(),[o,l]=_.useState(!1),u=_.useRef();_.useEffect(()=>{const g=y=>{o&&u.current&&!u.current.contains(y.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[o]);const f=async()=>{r&&await r(),i("/")};function p(){return h.jsxs("div",{className:"absolute right-0 top-12 bg-[#1f1d26] rounded-xl shadow-xl min-w-[185px] z-40 p-1 pt-2 animate-slideDown",style:{boxShadow:"0 8px 34px #18142355"},children:[h.jsx(m,{icon:h.jsx(lx,{size:18}),text:"My Account",onClick:()=>{i("/account"),l(!1)}}),h.jsx(m,{icon:h.jsx(rx,{size:18}),text:"Preferences",onClick:()=>{i("/preferences"),l(!1)}}),h.jsx("div",{className:"border-t border-zinc-800 my-2"}),h.jsx(m,{icon:h.jsx(ex,{size:18}),text:"Sign Out",onClick:f})]})}function m({icon:g,text:y,onClick:x}){return h.jsxs("div",{onClick:x,className:"flex items-center px-4 py-2 text-white cursor-pointer font-sans text-[15px] rounded-lg transition duration-150 hover:bg-[#2d2a38]",children:[h.jsx("span",{className:"mr-3",children:g}),h.jsx("span",{children:y})]})}return h.jsxs("header",{className:`
        flex items-center justify-between w-full
        bg-black
        pt-2 pb-1 md:py-2
        px-0
        z-50 fixed top-0 left-0 right-0 transition-all duration-300
        min-h-[60px]
      `,role:"navigation","aria-label":"Main navigation",children:[h.jsxs(Nr,{to:"/",className:"flex items-center pl-3 sm:pl-4",tabIndex:0,"aria-label":"Go to FeelFlick home page",draggable:!1,style:{outline:"none"},children:[h.jsx("img",{src:xh,alt:"FeelFlick logo",className:"h-10 w-10 sm:h-9 sm:w-9 rounded-lg transition-transform",draggable:!1}),h.jsx("span",{className:"hidden sm:inline uppercase font-extrabold tracking-normal select-none text-lg pl-1 md:text-xl md:pl-1 lg:text-3xl transition",style:{color:"#F6E3D7",letterSpacing:"0.03em",textShadow:"0 1px 10px #fff1, 0 1px 20px #18406d24",lineHeight:"1"},children:"FEELFLICK"})]}),h.jsx("div",{className:"flex-1 flex justify-center items-center mx-2 min-w-0",children:h.jsx("div",{className:"w-full h-10 flex items-center max-w-full sm:max-w-[340px] md:max-w-xl",style:{minWidth:0},children:h.jsx(dx,{})})}),h.jsxs("div",{className:"pr-3 sm:pr-4 flex items-center",ref:u,children:[h.jsx("div",{onClick:()=>l(!o),className:`
            bg-[#3a3746] w-10 h-10 sm:w-9 sm:h-9 rounded-full flex items-center justify-center
            text-white font-bold font-sans text-lg cursor-pointer select-none
            shadow transition hover:scale-105 border-2 border-transparent
          `,tabIndex:0,"aria-label":"Account menu",style:{outline:"none"},children:s?.name?.[0]?.toUpperCase()||s?.email?.[0]?.toUpperCase()||"A"}),o&&h.jsx(p,{})]}),h.jsx("style",{children:`
          @keyframes slideDown {
            from { opacity: 0; transform: translateY(-14px);}
            to { opacity: 1; transform: translateY(0);}
          }
          .animate-slideDown {
            animation: slideDown 0.23s cubic-bezier(.33,1,.68,1) both;
          }
        `})]})}const zf=[{to:"/app",icon:h.jsx(Xy,{size:24}),label:"Home"},{to:"/trending",icon:h.jsx(Qy,{size:24}),label:"Trending"},{to:"/browse",icon:h.jsx(Hl,{size:24}),label:"Browse"},{to:"/history",icon:h.jsx(Gy,{size:24}),label:"History"},{to:"/watchlist",icon:h.jsx(Wl,{size:24}),label:"Watchlist"}];function bh(){return h.jsxs(h.Fragment,{children:[h.jsx("aside",{className:`
          fixed left-0 z-40
          top-[56px] md:top-[56px]
          h-[calc(100vh-56px)]
          w-16 bg-black flex-col py-3 border-r border-zinc-900
          hidden md:flex
        `,children:zf.map(s=>h.jsxs(yl,{to:s.to,className:({isActive:r})=>`flex flex-col items-center py-4 gap-1 text-zinc-400 hover:text-orange-400 transition group
               ${r?"text-orange-400 font-bold bg-[#221b23]":""}
              `,children:[s.icon,h.jsx("span",{className:"text-xs mt-1",children:s.label})]},s.to))}),h.jsx("nav",{className:`
          fixed bottom-0 left-0 right-0 z-40
          bg-black border-t border-zinc-900
          flex md:hidden justify-between px-2 py-1
        `,style:{height:"54px"},children:zf.map(s=>h.jsx(yl,{to:s.to,className:"relative flex flex-col items-center justify-center flex-1 text-zinc-400 hover:text-orange-400 transition group",tabIndex:0,"aria-label":s.label,children:({isActive:r})=>h.jsxs(h.Fragment,{children:[r&&h.jsx("span",{className:`
                      absolute inset-0 rounded-xl z-0
                      bg-gradient-to-t from-orange-400/10 to-red-500/10
                      transition
                    `}),h.jsxs("span",{className:`
                  relative z-10 flex flex-col items-center
                  transition-transform
                  ${r?"scale-110":""}
                `,children:[h.jsx("span",{className:`${r?"text-orange-400 drop-shadow-[0_2px_6px_rgba(255,140,0,0.18)]":""}`,children:s.icon}),h.jsx("span",{className:`text-[11px] leading-none mt-0.5 font-sans transition ${r?"font-bold text-orange-400":""}`,children:s.label})]})]})},s.to))}),h.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.28s ease-in; }
      `})]})}const fx=void 0;function hx({onResults:s,onSearch:r,value:i}){const[o,l]=_.useState(i||""),[u,f]=_.useState(!1);async function p(g){if(g.preventDefault(),!o.trim())return;f(!0);const x=await(await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${fx}&language=en-US&query=${encodeURIComponent(o)}&include_adult=false&page=1`)).json();f(!1),s((x.results||[]).filter(k=>!!k.title&&k.poster_path),o),r&&r(o)}function m(){l(""),s([],""),r&&r("")}return h.jsxs("form",{onSubmit:p,className:"w-full flex items-center justify-center",style:{marginBottom:18},children:[h.jsxs("div",{className:`
        relative flex items-center w-full
        bg-[#16161cdd] rounded-2xl shadow-2xl border border-orange-400/40
        focus-within:ring-2 focus-within:ring-orange-400
        browse-searchbar
      `,style:{maxWidth:1200,minHeight:45,backdropFilter:"blur(10px)"},children:[h.jsx(Hl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-orange-400",size:22}),h.jsx("input",{type:"text",value:o,onChange:g=>l(g.target.value),placeholder:"Search any movie…",className:"w-full pl-12 pr-12 py-2 rounded-2xl bg-transparent text-white placeholder-zinc-400 text-lg font-bold outline-none transition",style:{letterSpacing:"0.01em",height:42}}),o&&h.jsx("button",{type:"button",onClick:m,className:"absolute right-12 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-orange-400 transition","aria-label":"Clear search",children:h.jsx(so,{size:20})}),h.jsx("button",{type:"submit",className:`
            absolute right-3 top-1/2 -translate-y-1/2 px-4 py-1.5 bg-gradient-to-r from-orange-400 to-red-500
            text-white font-bold text-base rounded-full shadow hover:scale-105 transition
            ${u?"opacity-70 pointer-events-none":""}
          `,disabled:u,"aria-label":"Search",children:u?h.jsxs("svg",{className:"animate-spin h-5 w-5 mx-auto",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}):"Go"})]}),h.jsx("style",{children:`
        @media (max-width: 600px) {
          .browse-searchbar input { font-size: 1rem !important; padding-top: 8px; padding-bottom: 8px; }
          .browse-searchbar { min-height: 40px !important; }
        }
      `})]})}function Sh({sortBy:s,setSortBy:r,yearFilter:i,setYearFilter:o,genreFilter:l,setGenreFilter:u,allYears:f,allGenres:p,sortOptions:m,clearFilters:g}){return h.jsxs("div",{className:"w-full flex flex-wrap gap-2 md:gap-4 justify-center md:justify-start items-center py-2 px-2 rounded-2xl bg-[#18141cdd] shadow-md border border-zinc-800 mb-2",style:{backdropFilter:"blur(7px)"},children:[h.jsx("select",{value:s,onChange:y=>r(y.target.value),className:"filter-pill","aria-label":"Sort by",children:m.map(y=>h.jsx("option",{value:y.value,children:y.label},y.value))}),h.jsxs("select",{value:i,onChange:y=>o(y.target.value),className:"filter-pill","aria-label":"Year",children:[h.jsx("option",{value:"",children:"Year"}),f.map(y=>h.jsx("option",{value:y,children:y},y))]}),h.jsxs("select",{value:l,onChange:y=>u(y.target.value),className:"filter-pill","aria-label":"Genre",children:[h.jsx("option",{value:"",children:"Genre"}),p.map(y=>h.jsx("option",{value:y.id,children:y.name},y.id))]}),h.jsx("button",{onClick:g,className:"ml-2 px-3 py-1 rounded-full bg-zinc-900 hover:bg-zinc-800 text-zinc-200 font-semibold text-xs shadow transition border border-zinc-800",type:"button","aria-label":"Clear filters",children:"Clear"}),h.jsx("style",{children:`
        .filter-pill {
          border-radius: 9999px;
          padding: 0.45rem 1.1rem;
          background: #211c27bb;
          border: 1px solid #252233;
          color: #fff;
          font-weight: 600;
          font-size: 0.98rem;
          transition: border .18s, box-shadow .18s;
          outline: none;
        }
        .filter-pill:focus {
          border-color: #fb923c;
          box-shadow: 0 0 0 2px #fb923c33;
        }
        .filter-pill option {
          color: #19181e;
        }
      `})]})}const px="https://image.tmdb.org/t/p/w342";function jh({movie:s,onClick:r}){const i=s.poster||s.poster_path||"",o=i.startsWith("http")?i:`${px}${i}`;return h.jsxs("div",{className:"movie-card group shadow-xl transition-transform duration-200 bg-[#17151e] rounded-2xl overflow-hidden relative cursor-pointer",tabIndex:0,style:{width:"98%",maxWidth:182,minWidth:130,height:305,margin:"0 auto"},onClick:()=>r(s),children:[h.jsx("img",{src:o,alt:s.title,style:{width:"100%",height:232,objectFit:"cover",display:"block",borderRadius:"18px 18px 0 0"},onError:l=>{l.currentTarget.src="/placeholder-movie.png"},className:"group-hover:brightness-95 transition"}),h.jsxs("div",{className:"absolute top-3 right-3 flex flex-col items-end z-10",children:[h.jsxs("span",{className:"bg-black/85 text-yellow-400 font-bold text-xs rounded-full px-3 py-1 flex items-center gap-1 mb-2 shadow",children:[h.jsx(sx,{size:13}),s.vote_average?s.vote_average.toFixed(1):"N/A"]}),s.release_date&&h.jsx("span",{className:"bg-black/75 text-white font-semibold text-[13px] rounded-full px-2.5 py-0.5 shadow",children:s.release_date.slice(0,4)})]}),h.jsx("div",{className:"pt-2 pb-2 px-2 bg-[#18151c] rounded-b-2xl flex flex-col items-center justify-center",style:{minHeight:56},children:h.jsx("span",{className:"text-center text-[1rem] font-extrabold text-white leading-tight w-full tracking-tight whitespace-normal",style:{textShadow:"0 1.5px 8px #0003"},children:s.title})})]})}function mx({results:s,onMovieClick:r}){return s.length?h.jsx("div",{className:"movie-grid",style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"1.7rem 0.7rem",justifyItems:"center",padding:"0 5px 12px 5px",width:"100%",maxWidth:1200,margin:"0 auto"},children:s.map(i=>h.jsx(jh,{movie:i,onClick:r},i.id))}):null}function gx({page:s,totalPages:r,setPage:i}){const l=[];let u=Math.max(1,s-2),f=Math.min(r,s+2);u>1&&l.push(1),u>2&&l.push("...");for(let p=u;p<=f;++p)l.push(p);return f<r-1&&l.push("..."),f<r&&l.push(r),h.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"center",margin:"18px 0 35px 0"},children:[s>1&&h.jsx("button",{onClick:()=>i(s-1),className:"px-3 py-2 rounded bg-zinc-900 text-orange-400 font-bold hover:bg-orange-900 transition",children:"‹"}),l.map((p,m)=>typeof p=="number"?h.jsx("button",{onClick:()=>i(p),className:`px-3 py-2 rounded font-bold ${p===s?"bg-orange-400 text-white":"bg-zinc-900 text-orange-300 hover:bg-orange-800"}`,style:p===s?{boxShadow:"0 2px 10px #ff990055"}:{},children:p},p):h.jsx("span",{className:"text-xl px-3",children:"…"},"dots"+m)),s<r&&h.jsx("button",{onClick:()=>i(s+1),className:"px-3 py-2 rounded bg-zinc-900 text-orange-400 font-bold hover:bg-orange-900 transition",children:"›"})]})}const vx=[{value:"popularity.desc",label:"Most Popular"},{value:"release_date.desc",label:"Newest First"},{value:"release_date.asc",label:"Oldest First"},{value:"vote_average.desc",label:"Top Rated"},{value:"vote_average.asc",label:"Lowest Rated"}];function yx({session:s}){const r=nt(),[i,o]=_.useState([]),[l,u]=_.useState(0),[f,p]=_.useState({}),[m,g]=_.useState("popularity.desc"),[y,x]=_.useState(""),[k,j]=_.useState(""),[N,R]=_.useState(""),[T,I]=_.useState(1),[Y,L]=_.useState(1),W=new Date().getFullYear(),$=Array.from({length:W-1959},(q,V)=>`${W-V}`);_.useEffect(()=>{fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=undefined&language=en-US").then(q=>q.json()).then(({genres:q})=>p(Object.fromEntries(q.map(V=>[V.id,V.name])))).catch(console.error)},[]),_.useEffect(()=>{let q,V=[];if(N)q=`https://api.themoviedb.org/3/search/movie?api_key=undefined&language=en-US&query=${encodeURIComponent(N)}&include_adult=false&page=${T}`;else{if(q=`https://api.themoviedb.org/3/discover/movie?api_key=undefined&language=en-US&sort_by=${m}&page=${T}&with_original_language=en`,y&&V.push(`primary_release_year=${y}`),k&&V.push(`with_genres=${k}`),!y){const ge=new Date().getFullYear();V.push(`primary_release_date.gte=${ge-3}-01-01`),V.push(`primary_release_date.lte=${new Date().toISOString().slice(0,10)}`)}V.length&&(q+="&"+V.join("&"))}fetch(q).then(ge=>ge.json()).then(ge=>{o((ge.results||[]).filter(Le=>Le.title&&Le.poster_path)),u(ge.total_results||0),L(Math.min(ge.total_pages||1,500))}).catch(console.error)},[m,y,k,N,T]);const M=()=>{g("popularity.desc"),x(""),j(""),I(1)},ne=Object.entries(f).map(([q,V])=>({id:q,name:V}));function Z(q,V){R(V||""),o(q||[]),I(1)}return h.jsxs("div",{className:"min-h-screen bg-[#101015] w-full pb-20 pt-2 px-1 sm:px-3 md:px-7 box-border",children:[h.jsxs("div",{className:"w-full max-w-[1200px] mx-auto flex flex-col gap-3 pt-1 pb-2",children:[h.jsx(Sh,{sortBy:m,setSortBy:g,yearFilter:y,setYearFilter:x,genreFilter:k,setGenreFilter:j,allYears:$,allGenres:ne,sortOptions:vx,clearFilters:M}),h.jsx(hx,{onResults:Z,onSearch:R,value:N})]}),h.jsx("div",{className:"max-w-6xl mx-auto font-bold text-base md:text-xl text-white mt-2 mb-4 flex items-center gap-2 px-3",children:N?h.jsxs(h.Fragment,{children:[h.jsx("span",{role:"img","aria-label":"search",className:"text-2xl",children:"🔍"})," Search Results"]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{role:"img","aria-label":"popcorn",className:"text-2xl",children:"🍿"})," Recent Releases"]})}),h.jsx("div",{className:"max-w-[1240px] mx-auto min-h-[240px] pb-1 px-0 sm:px-2",children:i.length?h.jsxs(h.Fragment,{children:[h.jsx(mx,{results:i.slice(0,20),onMovieClick:q=>r(`/movie/${q.id}`)}),h.jsx(gx,{page:T,setPage:I,totalPages:Y})]}):h.jsxs("div",{className:"text-zinc-400 text-center text-base md:text-lg font-medium my-16",children:[h.jsx("span",{role:"img","aria-label":"No results",className:"block text-3xl mb-2",children:"😕"}),"No movies found. Try a different search!"]})})]})}function xx({user:s,onProfileUpdate:r}){const[i,o]=_.useState(s?.name||""),[l,u]=_.useState(!1),f=nt();async function p(m){m.preventDefault(),u(!0),await oe.from("users").update({name:i}).eq("id",s.id),u(!1),r&&r({name:i}),alert("Profile updated!")}return h.jsxs("div",{className:`
        max-w-[420px] mx-auto mt-14 p-7
        bg-[#191820] rounded-2xl shadow-2xl
        relative
        flex flex-col
      `,children:[h.jsx("button",{onClick:()=>f("/app"),className:`
          absolute top-3 right-4 text-white opacity-60 hover:opacity-100
          bg-transparent border-none text-xl cursor-pointer z-20
        `,"aria-label":"Close Account",title:"Go back to Home",type:"button",children:h.jsx(so,{size:26})}),h.jsx("h2",{className:"text-white text-[23px] font-extrabold mb-4 tracking-tight",children:"My Account"}),h.jsxs("form",{onSubmit:p,className:"flex flex-col",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-[#fdaf41] font-semibold mb-1",children:"Name"}),h.jsx("input",{value:i,onChange:m=>o(m.target.value),className:`
              w-full px-3.5 py-2
              rounded-lg border border-[#2d2a38]
              bg-[#242134] text-white text-[15px] font-medium
              mt-1 outline-none
              focus:ring-2 focus:ring-orange-400
              placeholder:text-zinc-400
              transition
            `,placeholder:"Your name"})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-[#fdaf41] font-semibold mb-1",children:"Email"}),h.jsx("input",{value:s?.email||"",disabled:!0,className:`
              w-full px-3.5 py-2
              rounded-lg border border-[#2d2a38]
              bg-[#242134] text-white text-[15px] font-medium
              mt-1 outline-none opacity-70
              placeholder:text-zinc-400
              cursor-not-allowed
              transition
            `,placeholder:"Email address"})]}),h.jsx("button",{type:"submit",disabled:l,className:`
            bg-gradient-to-r from-orange-400 to-red-500
            text-white font-bold py-2.5 px-8
            rounded-lg text-[16px] cursor-pointer
            shadow-md transition
            disabled:opacity-70
          `,children:l?"Saving...":"Save"})]})]})}const wx=[{id:28,label:"Action"},{id:12,label:"Adventure"},{id:16,label:"Animation"},{id:35,label:"Comedy"},{id:80,label:"Crime"},{id:99,label:"Documentary"},{id:18,label:"Drama"},{id:10751,label:"Family"},{id:14,label:"Fantasy"},{id:36,label:"History"},{id:27,label:"Horror"},{id:10402,label:"Music"},{id:9648,label:"Mystery"},{id:10749,label:"Romance"},{id:878,label:"Sci-fi"},{id:53,label:"Thriller"}],_x=void 0;function kx({user:s}){const[r,i]=_.useState([]),[o,l]=_.useState(!1),[u,f]=_.useState(""),[p,m]=_.useState([]),[g,y]=_.useState(!1),[x,k]=_.useState([]),[j,N]=_.useState(!1),R=nt(),T=_.useRef();_.useEffect(()=>{s?.id&&(oe.from("user_preferences").select("genre_id").eq("user_id",s.id).then(({data:$})=>{i($?$.map(M=>M.genre_id):[])}),oe.from("user_movies").select("movie_id, title, poster_path").eq("user_id",s.id).then(({data:$})=>{k($||[])}))},[s]);function I($){i(M=>M.includes($)?M.filter(ne=>ne!==$):[...M,$])}_.useEffect(()=>{let $=!0;if(!u){m([]),y(!1);return}return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${_x}&query=${encodeURIComponent(u)}`).then(M=>M.json()).then(M=>{if(!$)return;const ne=(M.results||[]).sort((Z,q)=>(q.popularity||0)+(q.vote_average||0)-((Z.popularity||0)+(Z.vote_average||0)));m(ne),y(!1)}),()=>{$=!1}},[u]);async function Y($){if(x.some(ne=>ne.movie_id===$.id))return;const M={user_id:s.id,movie_id:$.id,title:$.title,poster:$.poster_path,release_date:$.release_date,vote_average:$.vote_average,genre_ids:$.genre_ids||null};k(ne=>[...ne,M]),await oe.from("user_movies").insert([{user_id:s.id,movie_id:$.id,title:$.title,poster_path:$.poster_path}]),await oe.from("movies_watched").upsert([M],{onConflict:["user_id","movie_id"]})}async function L($){k(M=>M.filter(ne=>ne.movie_id!==$)),await oe.from("user_movies").delete().eq("user_id",s.id).eq("movie_id",$),await oe.from("movies_watched").delete().eq("user_id",s.id).eq("movie_id",$)}async function W(){l(!0),await oe.from("user_preferences").delete().eq("user_id",s.id),await oe.from("user_preferences").insert(r.map($=>({user_id:s.id,genre_id:$}))),l(!1),alert("Preferences updated!")}return h.jsxs("div",{className:`
      max-w-[700px] mx-auto mt-14 p-7 bg-[#191820] rounded-2xl shadow-2xl
      relative flex flex-col
    `,children:[h.jsx("button",{onClick:()=>R("/app"),className:`
          absolute top-4 right-5 text-white opacity-60 hover:opacity-100
          bg-transparent border-none text-xl cursor-pointer z-20
        `,"aria-label":"Close Preferences",title:"Go back to Home",type:"button",children:h.jsx(so,{size:26})}),h.jsx("h2",{className:"text-white text-[23px] font-extrabold mb-6 tracking-tight",children:"Preferences"}),h.jsxs("div",{className:"mb-9",children:[h.jsx("div",{className:"text-[#fdaf41] font-bold mb-2",children:"Genres you like:"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:wx.map($=>h.jsx("button",{onClick:()=>I($.id),className:`
                px-5 py-2 font-semibold text-[15px] rounded-xl outline-none
                border-none cursor-pointer transition
                ${r.includes($.id)?"bg-gradient-to-r from-blue-500 to-orange-300 shadow":"bg-[#242134]"}
                text-white
              `,type:"button",children:$.label},$.id))})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"text-[#fdaf41] font-bold mb-2",children:"Your favorite movies:"}),h.jsxs("div",{className:"relative max-w-[400px] mb-3",children:[h.jsx("input",{ref:T,value:u,onChange:$=>f($.target.value),placeholder:"Search for movies to add…",className:`
              w-full py-2.5 px-4 pr-10 text-[15px] rounded-full bg-[#23212b] text-white
              border-none outline-none font-sans focus:ring-2 focus:ring-orange-400
              placeholder:text-zinc-400
              transition
            `,onFocus:()=>N(!0),onBlur:()=>setTimeout(()=>N(!1),200)}),u&&j&&p.length>0&&h.jsxs("div",{className:`
                bg-[#242134] rounded-xl shadow-lg absolute left-0 right-0 top-12
                max-h-[180px] overflow-y-auto z-20
                animate-fadeIn
              `,children:[(g?p:p.slice(0,4)).map($=>h.jsxs("div",{className:`
                    flex items-center px-3 py-2 gap-2 cursor-pointer
                    border-b border-[#302c37] last:border-b-0
                    transition hover:bg-[#232330]
                  `,onClick:()=>{Y($),f(""),T.current.blur()},children:[h.jsx("img",{src:$.poster_path?`https://image.tmdb.org/t/p/w185${$.poster_path}`:"https://dummyimage.com/80x120/232330/fff&text=No+Image",alt:$.title,className:"w-9 h-14 rounded bg-[#101012] object-cover mr-1"}),h.jsxs("span",{className:"font-semibold text-[15px] text-white",children:[$.title,h.jsx("span",{className:"ml-2 text-[#eee] font-normal text-[14px]",children:$.release_date?`(${$.release_date.slice(0,4)})`:""})]})]},$.id)),!g&&p.length>4&&h.jsx("div",{className:"text-center py-1 text-[#fdaf41] font-semibold text-[15px] cursor-pointer select-none",onClick:()=>y(!0),children:"See more"})]})]}),x.length>0&&h.jsx("div",{className:"flex flex-wrap gap-3 mb-2",children:x.map($=>h.jsxs("div",{className:`
                  flex flex-col items-center gap-1 bg-[#231d2d]
                  rounded-md px-2 py-2
                `,children:[h.jsx("img",{src:$.poster_path?`https://image.tmdb.org/t/p/w92${$.poster_path}`:"https://dummyimage.com/80x120/232330/fff&text=No+Image",alt:$.title,className:"w-12 h-20 rounded bg-[#101012] object-cover"}),h.jsx("span",{className:"font-semibold text-[12px] text-white mt-1 text-center",children:$.title}),h.jsx("button",{className:"text-[#fd7069] text-lg font-bold opacity-80 hover:opacity-100 mt-0.5",onClick:()=>L($.movie_id),tabIndex:-1,type:"button",children:"×"})]},$.movie_id))})]}),h.jsx("button",{onClick:W,disabled:o,className:`
          bg-gradient-to-r from-orange-400 to-red-500
          text-white font-bold py-3 px-9 rounded-lg text-[17px]
          cursor-pointer shadow-md transition disabled:opacity-70
        `,children:o?"Saving...":"Save Preferences"}),h.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(12px);}
            to { opacity: 1; transform: translateY(0);}
          }
          .animate-fadeIn {
            animation: fadeIn 0.22s cubic-bezier(.33,1,.68,1) both;
          }
        `})]})}const Gs=void 0,bx="https://image.tmdb.org/t/p/w500",Sx="https://image.tmdb.org/t/p/original";function jx(){const{id:s}=lg(),[r,i]=_.useState(null),[o,l]=_.useState(null),[u,f]=_.useState(null),[p,m]=_.useState(null),[g,y]=_.useState(null),[x,k]=_.useState([]),[j,N]=_.useState(!0),[R,T]=_.useState(!1),[I,Y]=_.useState(!1),[L,W]=_.useState(!1);_.useEffect(()=>{async function H(){const{data:{user:ue}}=await oe.auth.getUser();i(ue)}H()},[]),_.useEffect(()=>{N(!0);async function H(){const B=await(await fetch(`https://api.themoviedb.org/3/movie/${s}?api_key=${Gs}&language=en-US`)).json();l(B);const Q=await fetch(`https://api.themoviedb.org/3/movie/${s}/credits?api_key=${Gs}`);f(await Q.json());const A=((await(await fetch(`https://api.themoviedb.org/3/movie/${s}/videos?api_key=${Gs}`)).json()).results||[]).find(he=>he.type==="Trailer"&&he.site==="YouTube");y(A);const fe=await(await fetch(`https://api.themoviedb.org/3/movie/${s}/similar?api_key=${Gs}`)).json();if(k(fe.results||[]),B.imdb_id){const he=await fetch(`https://www.omdbapi.com/?apikey=undefined&i=${B.imdb_id}`);m(await he.json())}N(!1)}H()},[s]),_.useEffect(()=>{if(!r||!s)return;async function H(){const{data:ue}=await oe.from("user_watchlist").select("movie_id").eq("user_id",r.id).eq("movie_id",s).maybeSingle();T(!!ue);const{data:B}=await oe.from("movies_watched").select("movie_id").eq("user_id",r.id).eq("movie_id",s).maybeSingle();Y(!!B)}H()},[r,s,L]);async function $(H){if(!H)return;const{id:ue,title:B,original_title:Q,release_date:J,overview:E,poster_path:A,backdrop_path:ce,runtime:fe,vote_average:he,vote_count:ve,popularity:ke,original_language:we,adult:be,budget:Ze,revenue:Hn,status:Oi}=H;await oe.from("movies").upsert([{id:ue,title:B,original_title:Q,release_date:J,overview:E,poster_path:A,backdrop_path:ce,runtime:fe,vote_average:he,vote_count:ve,popularity:ke,original_language:we,adult:be,budget:Ze,revenue:Hn,status:Oi}],{onConflict:["id"]})}async function M(){!r||!o||(W(!0),await $(o),I||await oe.from("user_watchlist").upsert({user_id:r.id,movie_id:o.id},{onConflict:["user_id","movie_id"]}),W(!1))}async function ne(){if(!r||!o)return;W(!0),await $(o),await oe.from("user_watchlist").delete().eq("user_id",r.id).eq("movie_id",o.id);const H=o.genres?o.genres.map(ue=>ue.id):null;await oe.from("movies_watched").upsert({user_id:r.id,movie_id:o.id,title:o.title,poster:o.poster_path,release_date:o.release_date,vote_average:o.vote_average,genre_ids:H},{onConflict:["user_id","movie_id"]}),W(!1)}async function Z(){!r||!o||(W(!0),await oe.from("user_watchlist").delete().eq("user_id",r.id).eq("movie_id",o.id),W(!1))}if(j)return h.jsx("div",{className:"text-white text-center mt-16",children:"Loading..."});if(!o)return h.jsx("div",{className:"text-white",children:"Movie not found."});const q=o.backdrop_path?`${Sx}${o.backdrop_path}`:"",V=o.poster_path?`${bx}${o.poster_path}`:"/placeholder-movie.png",ge=o.release_date?o.release_date.slice(0,4):"",Le=(o.genres||[]).map(H=>H.name).join(", "),Ae=o.runtime?`${o.runtime} min`:"",K=u?.crew?.find(H=>H.job==="Director"),ae=u?.cast?.slice(0,6)||[];return h.jsxs("div",{children:[h.jsx(ql,{}),h.jsxs("div",{className:"relative w-full min-h-[60vh] sm:min-h-[440px] bg-black",style:{background:q?`linear-gradient(180deg,rgba(18,18,28,0.86) 60%,#181823 100%),url(${q}) center/cover no-repeat`:"#161623"},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#161623] to-transparent"}),h.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto flex flex-col md:flex-row items-center md:items-end pt-10 md:pt-16 pb-7 px-3 md:px-6",children:[h.jsx("div",{className:"w-[54vw] min-w-[120px] max-w-[210px] sm:w-[210px] -mt-24 md:mt-0 md:mr-9 flex-shrink-0 mx-auto md:mx-0 drop-shadow-lg",children:h.jsx("img",{src:V,alt:o.title,className:"rounded-2xl border-4 border-[#222] object-cover w-full h-[45vw] min-h-[180px] max-h-[315px] md:h-[350px] bg-[#222]",onError:H=>{H.currentTarget.src="/placeholder-movie.png"}})}),h.jsxs("div",{className:"flex-1 mt-8 md:mt-0 md:ml-7 text-left w-full",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center flex-wrap gap-y-1 gap-x-4 mb-2",children:[h.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white drop-shadow",children:o.title}),h.jsx("span",{className:"font-bold text-[#FFD866] text-xl sm:text-2xl",children:ge})]}),o.tagline&&h.jsx("div",{className:"italic text-[#ffefa6b8] mb-2 text-base sm:text-lg",children:o.tagline}),h.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-[15px] sm:text-[16px] mb-3",children:[Le&&h.jsx("span",{className:"opacity-90 text-zinc-200",children:Le}),Ae&&h.jsxs("span",{className:"text-zinc-400",children:["• ",Ae]}),K&&h.jsxs("span",{className:"text-zinc-400",children:["• Dir: ",h.jsx("span",{className:"text-white",children:K.name})]})]}),h.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[o.vote_average&&h.jsxs("span",{className:"bg-[#393] text-white rounded-md px-2 py-1 font-semibold text-xs sm:text-sm",children:["TMDb ",o.vote_average.toFixed(1)]}),p?.imdbRating&&h.jsxs("span",{className:"bg-[#446] text-white rounded-md px-2 py-1 font-semibold text-xs sm:text-sm",children:["IMDb ",p.imdbRating,"/10"]}),p?.Metascore&&h.jsxs("span",{className:"bg-[#356] text-white rounded-md px-2 py-1 font-semibold text-xs sm:text-sm",children:["Metacritic ",p.Metascore]}),p?.Ratings?.find(H=>H.Source==="Rotten Tomatoes")&&h.jsxs("span",{className:"bg-[#b53] text-white rounded-md px-2 py-1 font-semibold text-xs sm:text-sm",children:["RT ",p.Ratings.find(H=>H.Source==="Rotten Tomatoes").Value]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 mt-2 w-full",children:[!I&&!R&&h.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-orange-400 to-red-500 text-white font-semibold shadow hover:scale-[1.03] transition text-base w-full sm:w-auto",disabled:L,onClick:M,children:[h.jsx(Wl,{size:20})," Add to Watchlist"]}),!I&&R&&h.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-full font-semibold border border-orange-400 text-orange-400 bg-[#251d11]/80 hover:bg-orange-400 hover:text-black shadow text-base w-full sm:w-auto",disabled:L,title:"Remove from Watchlist",onClick:Z,children:[h.jsx(kh,{size:20})," Remove"]}),!I&&h.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-full bg-[#272d3e] text-white border border-zinc-600 font-semibold shadow hover:bg-green-700/80 hover:text-green-100 transition text-base w-full sm:w-auto",disabled:L,onClick:ne,children:[h.jsx(Af,{size:20})," Mark as Watched"]}),I&&h.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-full bg-[#244e23] text-green-300 border border-green-500 font-semibold shadow text-base w-full sm:w-auto",disabled:!0,children:[h.jsx(Af,{size:20})," Watched"]}),g&&h.jsxs("a",{href:`https://www.youtube.com/watch?v=${g.key}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-4 py-2 rounded-full bg-[#fff4] text-[#ffd884] border border-[#ffd884] font-semibold shadow hover:bg-[#ffd884] hover:text-black transition text-base w-full sm:w-auto",children:[h.jsx(Vy,{size:20})," Trailer"]})]})]})]})]}),h.jsx("div",{className:"max-w-5xl mx-auto px-3 md:px-8 py-7 md:py-10",children:h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("div",{className:"text-lg sm:text-xl text-white font-semibold mb-2",children:"Overview"}),h.jsx("div",{className:"text-zinc-200 leading-relaxed mb-4 text-base sm:text-lg",children:o.overview})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-lg sm:text-xl text-white font-semibold mb-2",children:"Top Cast"}),h.jsxs("div",{className:"flex flex-wrap gap-x-5 gap-y-1 text-[15px]",children:[ae.map(H=>h.jsxs("div",{className:"opacity-93 whitespace-nowrap",children:[h.jsx("span",{className:"text-zinc-100",children:H.name}),h.jsx("span",{className:"text-zinc-500",children:" as "}),h.jsx("span",{className:"text-white font-bold",children:H.character})]},H.id)),ae.length===0&&h.jsx("span",{className:"text-zinc-500",children:"—"})]})]})]})}),x.length>0&&h.jsxs("div",{className:"max-w-5xl mx-auto px-3 md:px-8 pb-12",children:[h.jsx("div",{className:"font-extrabold text-lg sm:text-xl mb-3 text-white",children:"You Might Also Like"}),h.jsx("div",{className:"flex gap-3 overflow-x-auto hide-scrollbar pb-2",children:x.slice(0,10).map(H=>h.jsxs("a",{href:`/movie/${H.id}`,className:"block w-[38vw] min-w-[110px] max-w-[115px] sm:w-[112px] flex-shrink-0 text-white no-underline group",children:[h.jsx("img",{src:H.poster_path?`https://image.tmdb.org/t/p/w342${H.poster_path}`:"/placeholder-movie.png",alt:H.title,className:"w-full h-[27vw] min-h-[145px] max-h-[165px] rounded-lg mb-1 object-cover bg-[#23232e] shadow group-hover:scale-105 transition"}),h.jsx("div",{className:"text-[13.5px] text-center font-semibold truncate",children:H.title})]},H.id))})]})]})}function Ex({watched:s,genreMap:r,onRemove:i,gridClass:o,onMovieClick:l}){return s.length?h.jsx("div",{className:`
        grid gap-x-4 gap-y-8
        grid-cols-2
        sm:grid-cols-3
        md:grid-cols-4
        lg:grid-cols-5
        xl:grid-cols-6
        ${o}
      `,"aria-label":"Watched movies grid",children:s.map(u=>h.jsx(jh,{movie:u,genreMap:r,isWatched:!0,onRemove:()=>i(u.movie_id)},u.movie_id))}):h.jsx("p",{className:"text-gray-400",children:"No watched movies yet."})}function Cx({session:s}){const[r,i]=_.useState(s??null);_.useEffect(()=>{oe.auth.getSession().then(({data:q})=>i(q.session));const{data:Z}=oe.auth.onAuthStateChange((q,V)=>{i(V)});return()=>Z?.subscription?.unsubscribe()},[]);const[o,l]=_.useState([]),[u,f]=_.useState({}),[p,m]=_.useState("added-desc"),[g,y]=_.useState(""),[x,k]=_.useState(""),[j,N]=_.useState(null);_.useEffect(()=>{fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=undefined&language=en-US").then(Z=>Z.json()).then(({genres:Z})=>f(Object.fromEntries(Z.map(q=>[q.id,q.name])))).catch(console.error)},[]),_.useEffect(()=>{r?.user?.id&&oe.from("movies_watched").select("*").eq("user_id",r.user.id).order("id",{ascending:!1}).then(({data:Z,error:q})=>{q&&console.error("Fetch movies_watched error:",q),l(Z??[])})},[r]);const R=o.map(Z=>({...Z,genre_ids:Array.isArray(Z.genre_ids)?Z.genre_ids.map(String):[]}));function T(Z,q){switch(q){case"added-desc":return[...Z].sort((V,ge)=>(ge.id??0)-(V.id??0));case"added-asc":return[...Z].sort((V,ge)=>(V.id??0)-(ge.id??0));case"year-desc":return[...Z].sort((V,ge)=>(ge.release_date??"").localeCompare(V.release_date??""));case"year-asc":return[...Z].sort((V,ge)=>(V.release_date??"").localeCompare(ge.release_date??""));case"rating-desc":return[...Z].sort((V,ge)=>(ge.vote_average??0)-(V.vote_average??0));case"rating-asc":return[...Z].sort((V,ge)=>(V.vote_average??0)-(ge.vote_average??0));default:return Z}}function I(Z,q){return q?Z.filter(V=>V.release_date&&new Date(V.release_date).getFullYear().toString()===q):Z}function Y(Z,q){return q?Z.filter(V=>Array.isArray(V.genre_ids)&&V.genre_ids.includes(String(q))):Z}const L=Array.from(new Set(R.map(Z=>Z.release_date?new Date(Z.release_date).getFullYear():null).filter(Boolean))).sort((Z,q)=>q-Z),W=(()=>{const Z=new Set;return R.forEach(q=>q.genre_ids?.forEach(V=>Z.add(V))),Array.from(Z).filter(q=>u[q]).map(q=>({id:q,name:u[q]})).sort((q,V)=>q.name.localeCompare(V.name))})(),$=()=>{m("added-desc"),y(""),k("")},M=async Z=>{if(!r?.user?.id)return;await oe.from("movies_watched").delete().eq("user_id",r.user.id).eq("movie_id",Z);const{data:q}=await oe.from("movies_watched").select("*").eq("user_id",r.user.id).order("id",{ascending:!1});l(q??[])},ne=T(Y(I(R,g),x),p);return console.log("Current session.user.id:",r?.user?.id),console.log("Watched (raw):",o),console.log("Watched (safe):",R),h.jsxs("div",{className:"min-h-screen bg-[#101015] w-full pb-14 px-3 sm:px-6 md:px-10 lg:px-20 xl:px-32 box-border",children:[h.jsx("div",{className:"max-w-3xl mx-auto w-full mt-7 mb-6",children:h.jsx(Sh,{sortBy:p,setSortBy:m,yearFilter:g,setYearFilter:y,genreFilter:x,setGenreFilter:k,allYears:L,allGenres:W,sortOptions:[{value:"added-desc",label:"Order Added ↓"},{value:"added-asc",label:"Order Added ↑"},{value:"year-desc",label:"Year ↓"},{value:"year-asc",label:"Year ↑"},{value:"rating-desc",label:"Rating ↓"},{value:"rating-asc",label:"Rating ↑"}],clearFilters:$})}),h.jsxs("div",{className:"max-w-6xl mx-auto font-bold text-lg md:text-xl text-white mt-2 mb-5 flex items-center gap-2",children:[h.jsx("span",{role:"img","aria-label":"watched",className:"text-2xl",children:"🎬"}),"Watched History"]}),h.jsx("div",{className:"max-w-6xl mx-auto min-h-[200px]",children:ne.length?h.jsx(Ex,{watched:ne,genreMap:u,onRemove:M,gridClass:"movie-grid",onMovieClick:N}):h.jsxs("div",{className:"text-zinc-400 text-center text-base md:text-lg font-medium my-16",children:[h.jsx("span",{role:"img","aria-label":"Empty",className:"block text-3xl mb-2",children:"🍿"}),"No watched movies yet. Mark some as watched to see them here!"]})})]})}const Nx="https://image.tmdb.org/t/p/w342";function Px(){const[s,r]=_.useState(null),[i,o]=_.useState([]),[l,u]=_.useState(!0),[f,p]=_.useState(null);_.useEffect(()=>{async function g(){const{data:{user:y}}=await oe.auth.getUser();r(y)}g()},[]),_.useEffect(()=>{if(!s)return;u(!0);async function g(){const{data:y,error:x}=await oe.from("user_watchlist").select("movie_id").eq("user_id",s.id);if(x){o([]),u(!1);return}const k=(y||[]).map(R=>R.movie_id);if(k.length===0){o([]),u(!1);return}const{data:j,error:N}=await oe.from("movies").select("id, title, poster_path, release_date").in("id",k);if(N)o([]);else{const R=Object.fromEntries((j||[]).map(I=>[I.id,I])),T=k.map(I=>R[I]).filter(Boolean);o(T)}u(!1)}g()},[s,f]);async function m(g){s&&(p(g),await oe.from("user_watchlist").delete().eq("user_id",s.id).eq("movie_id",g),p(null),o(y=>y.filter(x=>x.id!==g)))}return h.jsxs("div",{className:"flex bg-black min-h-screen",children:[h.jsx(bh,{}),h.jsxs("div",{className:"flex-1 min-h-screen pl-0 md:pl-16 pt-[56px]",children:[h.jsx(ql,{}),h.jsxs("main",{className:"max-w-6xl mx-auto px-2 sm:px-4 pt-7 pb-16",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[h.jsx("span",{className:"bg-orange-500/20 text-orange-400 rounded-full p-2",children:h.jsx(Wl,{size:28})}),h.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white tracking-tight",children:"Your Watchlist"})]}),!s||l?h.jsx("div",{className:"text-center text-white mt-20",children:"Loading your Watchlist..."}):h.jsx(h.Fragment,{children:i.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] mt-10",children:[h.jsx("img",{src:"/movie-popcorn.svg",alt:"",className:"w-24 h-24 opacity-40 mb-4",style:{filter:"grayscale(1)"}}),h.jsx("div",{className:"text-zinc-400 text-xl mb-2",children:"Your watchlist is empty."}),h.jsx("div",{className:"text-zinc-500",children:"Add movies you want to see!"})]}):h.jsx("div",{className:`
                    grid gap-4
                    grid-cols-2 sm:grid-cols-3 md:grid-cols-5
                    ${i.length<5?"justify-center":""}
                  `,children:i.map(g=>h.jsxs("div",{className:"relative group",children:[h.jsx("button",{className:`
                          absolute top-2 right-2 z-30 bg-black/70 hover:bg-red-600/90
                          text-zinc-200 hover:text-white p-2 rounded-full shadow
                          transition opacity-0 group-hover:opacity-100 focus:opacity-100
                          sm:opacity-0 md:opacity-0 lg:opacity-0
                          ${f===g.id?"opacity-100 animate-pulse pointer-events-none":""}
                        `,"aria-label":"Remove from watchlist",tabIndex:0,onClick:()=>m(g.id),disabled:f===g.id,style:{pointerEvents:f===g.id?"none":"auto"},children:h.jsx(kh,{size:20})}),h.jsxs(Nr,{to:`/movie/${g.id}`,className:`
                          group bg-[#18181c] rounded-xl shadow-md hover:shadow-lg
                          hover:ring-2 hover:ring-orange-500/30 focus:ring-2 focus:ring-orange-500/70
                          transition-all block overflow-hidden relative
                          hover:scale-[1.035]
                          border border-zinc-900
                        `,tabIndex:0,children:[h.jsx("img",{src:g.poster_path?`${Nx}${g.poster_path}`:"/placeholder-movie.png",alt:g.title,className:"rounded-xl w-full h-[178px] sm:h-[220px] md:h-[188px] object-cover group-hover:opacity-95 transition",loading:"lazy"}),h.jsxs("div",{className:"absolute bottom-0 left-0 w-full z-10 px-3 pb-2 pt-6 bg-gradient-to-t from-black/85 via-black/0 to-transparent",children:[h.jsx("div",{className:"text-white font-bold text-sm truncate drop-shadow",children:g.title}),h.jsx("div",{className:"text-xs text-zinc-300 mt-1",children:g.release_date?g.release_date.slice(0,4):""})]})]})]},g.id))})})]})]})]})}function Rx(){return h.jsx("div",{className:"p-8",children:"Trending Coming Soon!"})}function Tx(){return h.jsx("div",{className:"p-8",children:"Watchlist Coming Soon!"})}function Ox(s,r){const[i,o]=_.useState({loading:!0,complete:!1});return _.useEffect(()=>{let l=!1;async function u(){if(!s){o({loading:!1,complete:!1});return}const f=s.user.id,{data:p}=await oe.from("users").select("onboarding_complete").eq("id",f).single();l||o({loading:!1,complete:!!p?.onboarding_complete})}return u(),()=>{l=!0}},[s,r]),i}function xn({user:s,onSignOut:r,children:i}){return h.jsxs("div",{className:"flex min-h-screen bg-zinc-950 text-white",children:[h.jsx(bh,{}),h.jsxs("div",{className:"flex-1 relative md:ml-20",children:[h.jsx(ql,{user:s,onSignOut:r}),h.jsx("main",{className:"pb-10 pt-[60px] w-full",style:{overflowX:"visible"},children:i})]})]})}function Ix(){const[s,r]=_.useState(void 0),[i,o]=_.useState(""),[l,u]=_.useState(null),[f,p]=_.useState(Date.now());_.useEffect(()=>{oe.auth.getSession().then(({data:j})=>{r(j?.session??null)});const{data:k}=oe.auth.onAuthStateChange((j,N)=>r(N));return()=>k.subscription.unsubscribe()},[]),_.useEffect(()=>{async function k(){if(!s?.user){u(null);return}const{data:j}=await oe.from("users").select("*").eq("id",s.user.id).single();u({...s.user,...j}),o(j?.name||s.user.user_metadata?.name||"")}s?.user&&k()},[s]);const{loading:m,complete:g}=Ox(s,f);async function y(){await oe.auth.signOut(),r(null),u(null),window.location.href="/"}function x(k){o(k.name||""),u(j=>({...j,...k}))}return s===void 0?h.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950 text-white",children:[h.jsxs("svg",{className:"animate-spin h-7 w-7 text-orange-400 mr-2",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),h.jsx("span",{className:"text-lg",children:"Checking session…"})]}):h.jsx(Vg,{children:h.jsxs(bg,{children:[h.jsx(Ke,{path:"/",element:h.jsx(ky,{})}),h.jsx(Ke,{path:"/auth/sign-in",element:h.jsx(Of,{mode:"sign-in"})}),h.jsx(Ke,{path:"/auth/sign-up",element:h.jsx(Of,{mode:"sign-up"})}),h.jsx(Ke,{path:"/auth/reset-password",element:h.jsx(jy,{})}),h.jsx(Ke,{path:"/auth/confirm",element:h.jsx(Ey,{})}),h.jsx(Ke,{path:"/watchlist",element:h.jsx(Px,{})}),h.jsx(Ke,{path:"/onboarding",element:s?m?h.jsx("div",{className:"text-white text-center mt-40",children:"Loading…"}):g?h.jsx(Nt,{to:"/app",replace:!0}):h.jsx(Ry,{session:s,onOnboardingFinish:()=>p(Date.now())}):h.jsx(Nt,{to:"/auth/sign-in",replace:!0})}),h.jsx(Ke,{path:"/app",element:s?m?h.jsx("div",{className:"text-white text-center mt-40",children:"Loading…"}):g?h.jsx(xn,{user:l,onSignOut:y,children:h.jsx(zy,{userName:l?.name||i||s?.user?.user_metadata?.name||"Movie Lover",userId:s?.user?.id})}):h.jsx(Nt,{to:"/onboarding",replace:!0}):h.jsx(Nt,{to:"/auth/sign-in",replace:!0})}),h.jsx(Ke,{path:"/trending",element:s?h.jsx(xn,{user:l,onSignOut:y,children:h.jsx(Rx,{})}):h.jsx(Nt,{to:"/auth/sign-in",replace:!0})}),h.jsx(Ke,{path:"/browse",element:s?h.jsx(xn,{user:l,onSignOut:y,children:h.jsx(yx,{session:s})}):h.jsx(Nt,{to:"/auth/sign-in",replace:!0})}),h.jsx(Ke,{path:"/history",element:s?h.jsx(xn,{user:l,onSignOut:y,children:h.jsx(Cx,{})}):h.jsx(Nt,{to:"/auth/sign-in",replace:!0})}),h.jsx(Ke,{path:"/watchlist",element:s?h.jsx(xn,{user:l,onSignOut:y,children:h.jsx(Tx,{})}):h.jsx(Nt,{to:"/auth/sign-in",replace:!0})}),h.jsx(Ke,{path:"/account",element:s?h.jsx(xn,{user:l,onSignOut:y,children:h.jsx(xx,{user:l,onProfileUpdate:x})}):h.jsx(Nt,{to:"/auth/sign-in",replace:!0})}),h.jsx(Ke,{path:"/preferences",element:s?h.jsx(xn,{user:l,onSignOut:y,children:h.jsx(kx,{user:l})}):h.jsx(Nt,{to:"/auth/sign-in",replace:!0})}),h.jsx(Ke,{path:"/movie/:id",element:h.jsx(xn,{user:l,onSignOut:y,children:h.jsx(jx,{})})}),h.jsx(Ke,{path:"*",element:h.jsx(Nt,{to:"/",replace:!0})})]})})}Om.createRoot(document.getElementById("root")).render(h.jsx(bn.StrictMode,{children:h.jsx(Ix,{})}));
